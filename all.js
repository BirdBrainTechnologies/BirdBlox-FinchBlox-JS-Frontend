var FinchBlox=!0;Hatchling&&(FinchBlox=!0);const FrontendVersion=393;function DebugOptions(){const a=DebugOptions;a.enabled=!1;a.logErrors=!0;a.notifyErrors=!0;a.mouse=!1;a.addVirtualHB=!1;a.addVirtualFlutter=!1;a.allowVirtualDevices=!1;a.showVersion=!1;a.showDebugMenu=!1;a.lockErrors=!1;a.errorLocked=!1;a.logHttp=!0;a.skipInitSettings=!1;a.allowLogging=!0;a.skipHtmlRequests=!1;a.enabled&&a.applyConstants()}
DebugOptions.applyConstants=function(){if(DebugOptions.enabled)for(var a=Object.keys(Language.en),b=0;b<Language.langs.length;b++){const e=Language.langs[b];for(var c=0,d=0;d<a.length;d++)null==eval("Language."+e+"."+a[d])&&c++;console.log(e+" completeness check finished. "+c+" missing keys.")}};
DebugOptions.applyActions=function(){const a=DebugOptions;if(a.enabled){if(a.addVirtualHB){var b=a.createVirtualDevice(DeviceHummingbird,"");DeviceHummingbird.getManager().appendDevice(b)}a.addVirtualFlutter&&(b=a.createVirtualDevice(DeviceFlutter,""),DeviceFlutter.getManager().appendDevice(b));a.showVersion&&GuiElements.alert("Version: "+GuiElements.appVersion);a.showDebugMenu&&TitleBar.enableDebug()}};
DebugOptions.createVirtualDevice=function(a,b){b="Virtual"+a.getDeviceTypeName(!0)+b;return new a(b,b)};DebugOptions.shouldLogErrors=function(){return DebugOptions.logErrors};DebugOptions.shouldNotifyErrors=function(){return DebugOptions.notifyErrors&&DebugOptions.enabled};DebugOptions.shouldUseMouseMode=function(){return DebugOptions.mouse&&DebugOptions.enabled};DebugOptions.shouldSkipInitSettings=function(){const a=DebugOptions;return a.enabled&&a.mouse&&a.skipInitSettings};
DebugOptions.shouldSkipHtmlRequests=function(){const a=DebugOptions;return a.enabled&&(a.skipHtmlRequests||a.mouse)};DebugOptions.shouldUseJSDialogs=function(){const a=DebugOptions;return a.enabled&&a.mouse};DebugOptions.shouldLogHttp=function(){const a=DebugOptions;return a.enabled&&a.logHttp};DebugOptions.shouldAllowVirtualDevices=function(){const a=DebugOptions;return a.allowVirtualDevices&&a.enabled};DebugOptions.shouldAllowLogging=function(){const a=DebugOptions;return a.allowLogging&&a.enabled};
DebugOptions.enableVirtualDevices=function(){DebugOptions.allowVirtualDevices=!0};DebugOptions.stopErrorLocking=function(){DebugOptions.lockErrors=!1};DebugOptions.enableLogging=function(){DebugOptions.allowLogging=!0};
DebugOptions.safeFunc=function(a){return null==a?null:DebugOptions.shouldLogErrors()||DebugOptions.shouldNotifyErrors()?function(){try{DebugOptions.errorLocked&&DebugOptions.lockErrors||a.apply(this,arguments)}catch(b){DebugOptions.errorLocked=!0;const c=new HttpRequestBuilder("debug/log"),d=b.message+"\n"+b.stack;HtmlServer.sendRequestWithCallback(c.toString(),null,null,!0,d);DebugOptions.shouldNotifyErrors()&&(GuiElements.alert("ERROR: "+b.message),DialogManager.showAlertDialog("ERROR",d,"OK"))}}:
a};DebugOptions.validateNumbers=function(){if(DebugOptions.shouldLogErrors())for(let a=0;a<arguments.length;a++)if(isNaN(arguments[a])||!isFinite(arguments[a]))throw new UserException("Invalid Number "+a+": "+arguments[a]);};DebugOptions.validateNonNull=function(){if(DebugOptions.shouldLogErrors())for(let a=0;a<arguments.length;a++)if(null==arguments[a])throw new UserException("Null parameter");};
DebugOptions.validateOptionalNums=function(){if(DebugOptions.shouldLogErrors())for(let a=0;a<arguments.length;a++)if(null!=arguments[a]&&(isNaN(arguments[a])||!isFinite(arguments[a])))throw new UserException("Invalid optional number");};DebugOptions.assert=function(a){if(!a&&DebugOptions.shouldLogErrors())throw new UserException("Assertion Failure");};DebugOptions.throw=function(a){if(DebugOptions.shouldLogErrors())throw new UserException(a);};DebugOptions.markAbstract=function(){DebugOptions.throw("Abstract function may not be called")};
function UserException(a){this.message=a;this.name="UserException";this.stack=Error().stack}function Data(a,b,c){this.type=a;this.value=b;this.isValid=c;null==c&&(this.isValid=!0)}Data.setConstants=function(){Data.types={};Data.types.num=0;Data.types.bool=1;Data.types.string=2;Data.types.list=3;Data.types.selection=4};Data.prototype.asNum=function(){return new NumData(0,!1)};Data.prototype.asBool=function(){return new BoolData(!1,!1)};Data.prototype.asString=function(){return new StringData("",!1)};
Data.prototype.asList=function(){return new ListData(null,!1)};Data.prototype.asSelection=function(){return SelectionData.empty(!1)};Data.prototype.getValue=function(){return this.value};Data.prototype.isSelection=function(){return this.type===Data.types.selection};Data.prototype.isNumber=function(){return!1};
Data.checkEquality=function(a,b){const c=a.getValue(),d=b.getValue(),e=a.asString().getValue(),f=b.asString().getValue(),g=a.asNum(),h=b.asNum(),k=Data.types,l=a.isValid&&b.isValid;return a.type===b.type?l&&c===d:a.type===k.string||b.type===k.string?e===f?!0:a.type===k.num||b.type===k.num?g.isValid&&h.isValid?g.getValue()===h.getValue():!1:!1:!1};
Data.prototype.createXml=function(a){const b=XmlWriter.createElement(a,"data");XmlWriter.setAttribute(b,"type",this.getDataTypeName());XmlWriter.setAttribute(b,"isValid",this.isValid);const c=XmlWriter.createElement(a,"value");let d=this.getValue()+"";"Variable"===this.getValue().constructor.name?d=this.getValue().name:"List"===this.getValue().constructor.name&&(d=this.getValue().name);a=XmlWriter.createTextNode(a,d);c.appendChild(a);b.appendChild(c);return b};
Data.importXml=function(a){var b=XmlWriter.getAttribute(a,"type");b=Data.getDataTypeFromName(b);return null==b?null:b.importXml(a)};Data.prototype.getDataTypeName=function(){if(this.type===Data.types.num)return"num";if(this.type===Data.types.bool)return"bool";if(this.type===Data.types.string)return"string";if(this.type===Data.types.list)return"list";if(this.type===Data.types.selection)return"selection";DebugOptions.throw("Data is not a valid type")};
Data.getDataTypeFromName=function(a){return"num"===a?NumData:"bool"===a?BoolData:"string"===a?StringData:"list"===a?ListData:"selection"===a?SelectionData:null};function NumData(a,b){if(isNaN(a)||!isFinite(a))a=0,b=!1;Data.call(this,Data.types.num,a,b)}NumData.prototype=Object.create(Data.prototype);NumData.prototype.constructor=NumData;NumData.prototype.asNum=function(){return this};
NumData.prototype.asBool=function(){return 1===this.getValue()?new BoolData(!0,this.isValid):0===this.getValue()?new BoolData(!1,this.isValid):new BoolData(!1,!1)};NumData.prototype.asString=function(){if(this.isValid){let a=this.getValue();a=+a.toFixed(10);return 0>a&&Language.isRTL?new StringData(Language.forceLTR+a,!0):new StringData(a+"",!0)}return new StringData(Language.getStr("not_a_valid_number"))};
NumData.prototype.asPositiveString=function(){let a=Math.abs(this.getValue());a=+a.toFixed(10);return new StringData(a+"",!0)};NumData.prototype.getValueInR=function(a,b,c,d){let e=this.getValue();!0===c&&0>e&&(e=0);!0===d&&(e=Math.round(e));null!=a&&e<a&&(e=a);null!=b&&e>b&&(e=b);return e};NumData.prototype.getValueWithC=function(a,b){let c=this.getValue();!0===a&&0>c&&(c=0);!0===b&&(c=Math.round(c));return c};
NumData.importXml=function(a){a=XmlWriter.getTextNode(a,"value",null,!0);if(null==a)return null;a=(new StringData(a)).asNum();return a.isValid?a:null};function BoolData(a,b){Data.call(this,Data.types.bool,a,b)}BoolData.prototype=Object.create(Data.prototype);BoolData.prototype.constructor=BoolData;BoolData.prototype.asNum=function(){return this.getValue()?new NumData(1,this.isValid):new NumData(0,this.isValid)};BoolData.prototype.asBool=function(){return this};
BoolData.prototype.asString=function(){return this.getValue()?new StringData(Language.getStr("true"),!0):new StringData(Language.getStr("false"),!0)};BoolData.importXml=function(a){a=XmlWriter.getTextNode(a,"value");return null==a?null:new BoolData("true"===a)};function StringData(a,b){Data.call(this,Data.types.string,a,b)}StringData.prototype=Object.create(Data.prototype);StringData.prototype.constructor=StringData;
StringData.prototype.asNum=function(){return this.isNumber()?new NumData(parseFloat(this.getValue()),this.isValid):new NumData(0,!1)};StringData.prototype.asBool=function(){return"TRUE"===this.getValue().toUpperCase()?new BoolData(!0,this.isValid):"FALSE"===this.getValue().toUpperCase()?new BoolData(!1,this.isValid):new BoolData(!1,!1)};StringData.prototype.asString=function(){return this};StringData.prototype.isNumber=function(){return/^[+-]?(\d+(\.\d+)?|\.\d+)([eE][+-]?\d+)?$/.test(this.getValue())};
StringData.importXml=function(a){a=XmlWriter.getTextNode(a,"value");return null==a?null:new StringData(a)};function ListData(a,b){null==a&&(a=[]);Data.call(this,Data.types.list,a,b)}ListData.prototype=Object.create(Data.prototype);ListData.prototype.constructor=ListData;ListData.prototype.duplicate=function(){const a=[];for(let b=0;b<this.value.length;b++)a.push(this.value[b]);return new ListData(a,this.isValid)};
ListData.prototype.asNum=function(){return 1===this.value.length?this.value[0].asNum():new NumData(0,!1)};ListData.prototype.asString=function(){let a="";for(let b=0;b<this.value.length;b++)a+=this.value[b].asString().getValue(),b<this.value.length-1&&(a+=", ");return new StringData(a,!0)};ListData.prototype.asBool=function(){return 1===this.value.length?this.value[0].asBool():new BoolData(!1,!1)};ListData.prototype.asList=function(){return this};
ListData.prototype.getIndex=function(a){const b=this.getValue();if(0===b.length||null==a)return null;const c=a.getValue(),d=b.length;if(a.type===Data.types.selection)return"last"===c?b.length-1:"random"===c?Math.floor(Math.random()*b.length):null;a=a.asNum();return a.isValid?a.getValueInR(1,d,!0,!0)-1:null};
ListData.prototype.createXml=function(a){const b=XmlWriter.createElement(a,"data");XmlWriter.setAttribute(b,"type",this.getDataTypeName());XmlWriter.setAttribute(b,"isValid",this.isValid);const c=a.createElement("value");for(let d=0;d<this.value.length;d++)c.appendChild(this.value[d].createXml(a));b.appendChild(c);return b};
ListData.importXml=function(a){a=XmlWriter.findSubElement(a,"value");a=XmlWriter.findSubElements(a,"data");const b=[];for(let c=0;c<a.length;c++){const d=Data.importXml(a[c]);null!=d&&b.push(d)}return new ListData(b)};function SelectionData(a,b,c){DebugOptions.assert(""!==b||""===a);DebugOptions.validateNonNull(a,b);Data.call(this,Data.types.selection,b,c);this.displayText=a}SelectionData.prototype=Object.create(Data.prototype);SelectionData.prototype.constructor=SelectionData;
SelectionData.prototype.asString=function(){return new StringData(this.displayText,!0)};SelectionData.prototype.asSelection=function(){return this};SelectionData.prototype.isEmpty=function(){return""===this.value};SelectionData.importXml=function(a){a=XmlWriter.getTextNode(a,"value");return null==a?null:new SelectionData("",a)};SelectionData.empty=function(a){return new SelectionData("","",a)};function ExecutionStatus(){DebugOptions.markAbstract()}ExecutionStatus.prototype.isRunning=function(){return!1};
ExecutionStatus.prototype.hasError=function(){return!1};ExecutionStatus.prototype.getResult=function(){return null};function ExecutionStatusResult(a){this.result=a}ExecutionStatusResult.prototype=Object.create(ExecutionStatus.prototype);ExecutionStatusResult.constructor=ExecutionStatusResult;ExecutionStatusResult.prototype.getResult=function(){return this.result};function ExecutionStatusError(){}ExecutionStatusError.prototype=Object.create(ExecutionStatus.prototype);
ExecutionStatusError.constructor=ExecutionStatusError;ExecutionStatusError.prototype.hasError=function(){return!0};function ExecutionStatusDone(){}ExecutionStatusDone.prototype=Object.create(ExecutionStatus.prototype);ExecutionStatusDone.constructor=ExecutionStatusDone;function ExecutionStatusRunning(){}ExecutionStatusRunning.prototype=Object.create(ExecutionStatus.prototype);ExecutionStatusRunning.constructor=ExecutionStatus;ExecutionStatusRunning.prototype.isRunning=function(){return!0};
function Timer(a,b){this.interval=a;this.callbackFn=b;this.updateTimer=null}Timer.prototype.start=function(){null==this.updateTimer&&(this.updateTimer=self.setInterval(this.tick.bind(this),this.interval))};Timer.prototype.stop=function(){null!=this.updateTimer&&(window.clearInterval(this.updateTimer),this.updateTimer=null)};Timer.prototype.tick=function(){null!=this.callbackFn&&this.callbackFn()};Timer.prototype.isRunning=function(){return null!=this.updateTimer};
function Variable(a,b){this.name=a;this.data=b;null==this.data&&(this.data=new NumData(0));CodeManager.addVariable(this)}Variable.prototype.getName=function(){return this.name};Variable.prototype.getSelectionData=function(){return new SelectionData(this.name,this)};Variable.prototype.getData=function(){return this.data};Variable.prototype.setData=function(a){this.data=a};Variable.prototype.remove=function(){this.data=null;CodeManager.removeVariable(this)};
Variable.prototype.createXml=function(a){const b=XmlWriter.createElement(a,"variable");XmlWriter.setAttribute(b,"name",this.name);b.appendChild(this.data.createXml(a));return b};Variable.importXml=function(a){const b=XmlWriter.getAttribute(a,"name");if(null!=b){var c=XmlWriter.findSubElement(a,"data");a=new NumData(0);null!=c&&(c=Data.importXml(c),null!=c&&(a=c));return new Variable(b,a)}return null};
Variable.prototype.rename=function(){const a=function(b,c){!b&&CodeManager.checkVarName(c)&&(a.variable.name=c,CodeManager.renameVariable(a.variable))};a.variable=this;DialogManager.showPromptDialog(Language.getStr("Rename"),Language.getStr("Enter_new_name"),this.name,!0,a)};
Variable.prototype.delete=function(){if(CodeManager.checkVariableUsed(this)){const a=function(c){"2"===c&&(a.variable.remove(),CodeManager.deleteVariable(a.variable))};a.variable=this;let b=Language.getStr("Delete_question");DialogManager.showChoiceDialog(Language.getStr("Delete"),b,Language.getStr("Dont_delete"),Language.getStr("Delete"),!0,a)}else this.remove(),CodeManager.deleteVariable(this)};function List(a,b){this.name=a;this.data=null!=b?b:new ListData;CodeManager.addList(this)}
List.prototype.getName=function(){return this.name};List.prototype.getSelectionData=function(){return new SelectionData(this.name,this)};List.prototype.getData=function(){return this.data};List.prototype.setData=function(a){this.data=a};List.prototype.remove=function(){this.data=null;CodeManager.removeList(this)};List.prototype.createXml=function(a){const b=XmlWriter.createElement(a,"list");XmlWriter.setAttribute(b,"name",this.name);b.appendChild(this.data.createXml(a));return b};
List.importXml=function(a){const b=XmlWriter.getAttribute(a,"name");if(null!=b){var c=XmlWriter.findSubElement(a,"data");a=new ListData;null!=c&&(c=Data.importXml(c),null!=c&&(a=c));return new List(b,a)}};List.prototype.rename=function(){const a=function(b,c){!b&&CodeManager.checkListName(c)&&(this.name=c,CodeManager.renameList(this))}.bind(this);DialogManager.showPromptDialog(Language.getStr("Rename"),Language.getStr("Enter_new_name"),this.name,!0,a)};
List.prototype.delete=function(){if(CodeManager.checkListUsed(this)){const a=function(c){"2"===c&&(this.remove(),CodeManager.deleteList(this))}.bind(this);a.list=this;let b=Language.getStr("Delete_question");DialogManager.showChoiceDialog(Language.getStr("Delete"),b,Language.getStr("Dont_delete"),Language.getStr("Delete"),!0,a)}else this.remove(),CodeManager.deleteList(this)};function Language(){}Language.lang="en";Language.langs="ar ca da de en es fi fr he ko nl pt sv zhs zht".split(" ");
Language.rtlLangs=["ar","he"];Language.isRTL=!1;Language.forceLTR=String.fromCharCode(8206);Language.names={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",ca:"Catal\u00e0",da:"Dansk",de:"Deutsch",en:"English",es:"Espa\u00f1ol",fi:"suomi",fr:"Fran\u00e7ais",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",ja:"\u65e5\u672c\u8a9e",ko:"\ud55c\uad6d\uc5b4",nl:"Nederlands",pt:"Portugu\u00eas",sv:"svenska",zhs:"\u7b80\u4f53\u4e2d\u6587",zht:"\u7e41\u9ad4\u4e2d\u6587"};
Language.setLanguage=function(a){const b=a.substring(0,2);-1!=Language.langs.indexOf(b)?Language.lang=b:"zh"==b?"zh-Hans"==a.substring(0,7)?Language.lang="zhs":"zh-Hant"==a.substring(0,7)?Language.lang="zht":"zh_CN"==a.substring(0,5)?Language.lang="zhs":"zh_TW"==a.substring(0,5)?Language.lang="zht":Language.lang="zhs":Language.lang="en"};Language.getStr=function(a){let b=eval("Language."+Language.lang+"."+a);null!=b||DebugOptions.enabled||(b=eval("Language.en."+a));return null!=b?b:"Translation required"};
Language.ar={block_Tri_LED:"(Slot 4) (Slot 3) (Slot 2) (Slot 1) \u0636\u0648\u0621 \u0627\u0644\u0635\u0645\u0627\u0645 \u0627\u0644\u062b\u0644\u0627\u062b\u064a",port:"",block_LED:"(Slot 2) (Slot 1) \u0636\u0648\u0621",block_Position_Servo:"(Slot 2) (Slot 1) \u0645\u0648\u0642\u0641 \u0645\u062d\u0631\u0643 \u0633\u064a\u0631\u0641\u0648 \u0627\u0644\u0645\u0624\u0627\u0632\u0631",block_Rotation_Servo:"(Slot 2) (Slot 1) \u0641\u062a\u062d\u0629 \u062f\u0648\u0631\u0627\u0646 \u0627\u0644\u0645\u062d\u0631\u0643 \u0627\u0644\u0645\u0624\u0627\u0632\u0631 ",
block_Play_Note:"(Slot 2) (Slot 1) \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0645\u0648\u0633\u064a\u0642\u0649",block_play_note:"(Slot 2) (Slot 1) \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0645\u0648\u0633\u064a\u0642\u0649",Light:"\u0636\u0648\u0621",Distance:"\u0645\u0633\u0627\u0641\u0647",Dial:"\u062f\u0648\u0627\u0631",Other:"\u0623\u062e\u0631\u0649",Accelerometer:"\u0627\u0644\u062a\u0633\u0627\u0631\u0639",Magnetometer:"\u0645\u0642\u064a\u0627\u0633 \u0627\u0644\u0645\u063a\u0646\u0637\u064a\u0633\u064a\u0629",
block_LED_Display:"\u0639\u0631\u0636",block_Print:"(Slot 1 = Hello) \u0637\u0628\u0627\u0639\u0629",block_Button:"(Slot 1) \u0632\u0631",Screen_Up:"\u0634\u0627\u0634\u0629 \u0644\u0644\u0623\u0639\u0644\u0649",Screen_Down:"\u0627\u0644\u0634\u0627\u0634\u0629 \u0644\u0623\u0633\u0641\u0644",Tilt_Left:"\u0627\u0644\u0645\u064a\u0644 \u0627\u0644\u064a\u0633\u0627\u0631",Tilt_Right:"\u062f\u0648\u0631 \u0625\u0644\u0649 \u0627\u0644\u064a\u0645\u064a\u0646",Logo_Up:"\u0627\u0644\u0634\u0639\u0627\u0631 \u0644\u0623\u0639\u0644\u0649",
Logo_Down:"\u0627\u0644\u0634\u0639\u0627\u0631 \u0625\u0644\u0649 \u0627\u0644\u0623\u0633\u0641\u0644",Shake:"\u0647\u0632\u0647",block_Compass:"\u0628\u0648\u0635\u0644\u0629",block_Servo:"(Slot 2) (Slot 1) \u0645\u062d\u0631\u0643 \u0633\u064a\u0631\u0641\u0648",block_Vibration:"(Slot 2) (Slot 1) \u0627\u0647\u062a\u0632\u0627\u0632",block_Motor:"(Slot 2) (Slot 1) \u0627\u0644\u0645\u062d\u0631\u0643",block_Temperature_C:"C \u0645\u0624\u0634\u0631 \u0627\u0644\u062d\u0631\u0627\u0631\u0629 (Slot 1)",
block_Temperature_F:"F \u0645\u0624\u0634\u0631 \u0627\u0644\u062d\u0631\u0627\u0631\u0629 (Slot 1)",block_write:"% (Slot 2) (Slot 1) \u0627\u0643\u062a\u0628",pin:"",block_read:"(Slot 1) \u0627\u0642\u0631\u0623",block_Device_Shaken:"\u0627\u0647\u062a\u0632\u0627\u0632 \u0641\u0631 \u0627\u0644\u0642\u0631\u0635",block_Device_LatLong:"(Slot 1) \u0627\u0644\u062c\u0647\u0627\u0632 \u0627\u0644\u0644\u0648\u062d\u064a",Latitude:"\u062e\u0637 \u0639\u0631\u0636\u064a",Longitude:"\u062e\u0637 \u0637\u0648\u0644\u064a",
block_Device_SSID:"\u0642\u0631\u0635 \u0645\u0639\u0631\u0641 \u0645\u062c\u0645\u0648\u0639\u0647 \u0627\u0644\u062e\u062f\u0645\u0629",block_Device_Pressure:"\u0642\u0631\u0635 \u0627\u0644\u0636\u063a\u0637",block_Device_Relative_Altitude:"\u0627\u0631\u062a\u0641\u0627\u0639 \u0646\u0633\u0628\u064a \u0644\u0644\u062c\u0647\u0627\u0632 \u0627\u0644\u0644\u0648\u062d\u064a",block_Acceleration:"(Slot 1) \u0627\u0644\u062a\u0633\u0627\u0631\u0639  \u0627\u0644\u062c\u0647\u0627\u0632 \u0627\u0644\u0644\u0648\u062d\u064a",
Total:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639",block_Device_Orientation:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u062c\u0647\u0627\u0632",faceup:"\u0627\u0644\u0648\u062c\u0647 \u0644\u0644\u0623\u0633\u0641\u0644",facedown:"\u0627\u0644\u0648\u062c\u0647 \u0644\u0644\u0623\u0639\u0644\u0649",portrait_bottom:"\u0639\u0645\u0648\u062f\u064a: \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627  \u0644\u0644\u0623\u0633\u0641\u0644",portrait_top:"\u0639\u0645\u0648\u062f\u064a: \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627 \u0644\u0644\u0623\u0639\u0644\u0649",
landscape_left:"\u0623\u0641\u0642\u064a \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627 \u0644\u0644\u064a\u0633\u0627\u0631",landscape_right:"\u0623\u0641\u0642\u064a \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627 \u0644\u0644\u064a\u0645\u064a\u0646",block_Display:"(Slot 2) \u0641\u064a (Slot 1 = \u0645\u0631\u062d\u0628\u064b\u0627) \u0639\u0631\u0636",position:"\u0627\u0644\u0648\u0636\u0639",block_ask:"\u062b\u0645 \u0627\u0646\u062a\u0638\u0631 (Slot 1 = \u0645\u0627 \u0627\u0633\u0645\u0643\u061f) \u0627\u0633\u0623\u0644",
block_answer:"\u0623\u062c\u0628",block_reset_timer:"\u0625\u0639\u0627\u062f\u0629 \u0636\u0628\u0637 \u0627\u0644\u0645\u0624\u0642\u062a",block_timer:"\u0627\u0644\u0645\u0624\u0642\u062a",block_current:"(Slot 1) \u062d\u0627\u0644\u064a",date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",year:"\u0627\u0644\u0633\u0646\u0629",month:"\u0627\u0644\u0634\u0647\u0631",hour:"\u0627\u0644\u0633\u0627\u0639\u0629",minute:"\u0627\u0644\u062f\u0642\u064a\u0642\u0629",second:"\u0627\u0644\u062b\u0627\u0646\u064a\u0629",
day_of_the_week:"\u0627\u0644\u064a\u0648\u0645 \u0641\u064a \u0627\u0644\u0623\u0633\u0628\u0648\u0639",time_in_milliseconds:"\u0627\u0644\u0648\u0642\u062a \u0641\u064a \u062c\u0632\u0621 \u0645\u0646 \u0627\u0644\u062b\u0627\u0646\u064a\u0629",block_mod:"(Slot 2) \u062a\u063a\u064a\u0631 (Slot 1)",block_round:"(Slot 1) \u062f\u0648\u0631\u0627\u0646",block_pick_random:"(Slot 2) \u0644 (Slot 1) \u0627\u062e\u062a\u064a\u0627\u0631 \u0639\u0634\u0648\u0627\u0626\u064a",block_and:"(Slot 2) \u0648 (Slot 1)",
block_or:"(Slot 2) \u0623\u0648 (Slot 1)",block_not:"(Slot 1) \u063a\u064a\u0631","true":"\u0635\u062d\u064a\u062d","false":"\u062e\u0637\u0623",block_letter:"(Slot 2 = \u0628\u0627\u0644\u0639\u0627\u0644\u0645) \u0645\u0646 (Slot 1) \u0631\u0633\u0627\u0644\u0629",block_length:"(Slot 1 = \u0628\u0627\u0644\u0639\u0627\u0644\u0645) \u0627\u0644\u0648\u0632\u0646 \u0644",block_join:"(Slot 2 = \u0643\u0644\u0645\u0629) \u0648 (Slot 1 =  \u0645\u0631\u062d\u0628\u064b\u0627) \u0627\u0646\u0636\u0645",
block_split:"(Slot 2) \u0628\u0648\u0627\u0633\u0637\u0629 (Slot 1 = \u0645\u0631\u062d\u0628\u064b\u0627 \u0628\u0627\u0644\u0639\u0627\u0644\u0645) \u062a\u0642\u0633\u064a\u0645",letter:"\u0631\u0633\u0627\u0644\u0629 ",whitespace:"\u0641\u0631\u0627\u063a",block_validate:"\u061f(Slot 2)  \u064a\u0643\u0648\u0646 (Slot 1 = 5) \u0647\u0644",number:"\u0631\u0642\u0645",text:"\u0646\u0635","boolean":"\u0645\u0646\u0637\u0642\u064a\u0629",list:"\u0642\u0627\u0626\u0645\u0629",invalid_number:"\u0631\u0642\u0645 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d",
block_when_flag_tapped:" \u064a\u0633\u062a\u062e\u062f\u0645 (Icon) \u0639\u0646\u062f\u0645\u0627",block_when_I_receive:"\u0639\u0646\u062f\u0645\u0627 \u0627\u0633\u062a\u0642\u0628\u0644 ",any_message:"\u0623\u064a \u0631\u0633\u0627\u0644\u0629","new":"\u062c\u062f\u064a\u062f\u0629",block_when:"(Slot 1) \u0639\u0646\u062f\u0645\u0627",block_broadcast:"(Slot 1) \u0628\u062b",block_broadcast_and_wait:"\u0648\u0627\u0646\u062a\u0638\u0631 (Slot 1) \u0628\u062b",block_message:"\u0631\u0633\u0627\u0644\u0629",
block_wait:"\u062b\u0645 \u0627\u0646\u062a\u0638\u0631 (Slot 1) \u0627\u0646\u062a\u0638\u0631",block_wait_until:"(Slot 1) \u0627\u0646\u062a\u0638\u0631 \u062d\u062a\u0649",block_repeat_forever:"\u062a\u0643\u0631\u0627\u0631 \u062f\u0627\u0626\u0645",block_repeat:"(Slot 1) \u062a\u0643\u0631\u0627\u0631",block_repeat_until:"(Slot 1) \u062a\u0643\u0631\u0627\u0631 \u062d\u062a\u0649",block_if:"(Slot 1) \u0644\u0648",block_if_else:"(Slot 1) \u0644\u0648","else":"\u0623\u0648",block_stop:"(Slot 1) \u062a\u0648\u0642\u0641",
all:"\u0627\u0644\u0643\u0644",this_script:"\u0647\u0630\u0627 \u0627\u0644\u0646\u0635",all_but_this_script:"\u0627\u0644\u062c\u0645\u064a\u0639 \u0645\u0627\u0639\u062f\u0627 \u0647\u0630\u0627 \u0627\u0644\u0646\u0635",Record_sound:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0635\u0648\u062a",block_play_recording:"(Slot 1) \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u062a\u0633\u062c\u064a\u0644",block_play_recording_until_done:"(Slot 1) \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u062d\u062a\u0649 \u0627\u0644\u0646\u0647\u0627\u064a\u0629",
block_play_sound:"(Slot 1) \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0635\u0648\u062a",block_play_sound_until_done:"(Slot 1) \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u062d\u062a\u0649 \u0646\u0647\u0627\u064a\u062a\u0647",block_stop_all_sounds:"\u0625\u0646\u0647\u0627\u0621 \u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0635\u0648\u0627\u062a",block_rest_for:"\u062f\u0642\u0627\u062a (Slot 1) \u062a\u0648\u0642\u0641 \u0644\u0645\u062f\u0629",block_change_tempo_by:"(Slot 1) \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0625\u064a\u0642\u0627\u0639 \u0644\u0640",
block_set_tempo_to:"(Slot 1) \u0636\u0628\u0637 \u0627\u0644\u0625\u064a\u0642\u0627\u0639 \u0644\u0640",block_tempo:"\u0627\u0644\u0625\u064a\u0642\u0627\u0639",block_set_variable:"(Slot 2) \u0644\u0640\u0640\u0640 (Slot 1) \u0636\u0628\u0637",Create_Variable:"\u062a\u0635\u0645\u064a\u0645  \u062a\u0646\u0648\u0639",block_change_variable:"(Slot 2) \u0628\u0648\u0627\u0633\u0637\u0629 (Slot 1) \u062a\u063a\u064a\u064a\u0631",block_add_to_list:"(Slot 2) \u0644\u0640 (Slot 1 =  \u0634\u064a\u0621) \u0625\u0636\u0627\u0641\u0629",
Create_List:"\u0625\u0646\u0634\u0627\u0621 \u0642\u0627\u0626\u0645\u0629",block_delete_from_list:"(Slot 2) \u0645\u0646 (Slot 1) \u0645\u0633\u062d",block_insert_into_list:"(Slot 3) \u0645\u0646 (Slot 2) \u0641\u064a (Slot 1 = \u0634\u064a\u0621) \u0625\u0636\u0627\u0641\u0629",block_replace_list_item:"(Slot 3 = \u0634\u064a\u0621) \u0644\u0640 (Slot 2) \u0645\u0646 (Slot 1) \u062a\u0628\u062f\u064a\u0644 \u0639\u0646\u0635\u0631",block_copy_list:"(Slot 2) \u0644\u0640\u0640 (Slot 1) \u0646\u0633\u062e",
block_list_item:"(Slot 2) \u0644\u0640 (Slot 1) \u0639\u0646\u0635\u0631",block_list_length:"(Slot 1) \u0648\u0632\u0646 \u0627\u0644\u0640\u0640",block_list_contains:"(Slot 2 = \u0634\u064a\u0621) \u062a\u062a\u0636\u0645\u0646 (Slot 1)",last:"\u0622\u062e\u0631",random:"\u0639\u0634\u0648\u0627\u0626\u064a",Robots:"\u0627\u0644\u0631\u0648\u0628\u0648\u062a",Operators:"\u0627\u0644\u0639\u0627\u0645\u0644\u064a\u0646",Sound:"\u0627\u0644\u0635\u0648\u062a",Tablet:"\u0627\u0644\u062c\u0647\u0627\u0632 \u0627\u0644\u0644\u0648\u062d\u064a",
Control:"\u0627\u0644\u062a\u062d\u0643\u0645",Variables:"\u0627\u0644\u0645\u062a\u063a\u064a\u0631\u0627\u062a",Zoom_in:"\u062a\u0643\u0628\u064a\u0631 ",Zoom_out:"\u062a\u0635\u063a\u064a\u0631",Reset_zoom:"\u0625\u0639\u0627\u062f\u0629 \u0636\u0628\u0637 ",Disable_snap_noise:"\u062a\u0639\u0637\u064a\u0644 \u0627\u0644\u0636\u062c\u064a\u062c \u0627\u0644\u0645\u0641\u0627\u062c\u0626",Enable_snap_noise:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0636\u062c\u064a\u062c \u0627\u0644\u0645\u0641\u0627\u062c\u0626",
CompassCalibrate:"\u0645\u0639\u0627\u064a\u0631\u0629 \u0627\u0644\u0628\u0648\u0635\u0644\u0629",Send_debug_log:"\u0625\u0631\u0633\u0627\u0644 \u0633\u062c\u0644 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0623\u062e\u0637\u0621",Show_debug_menu:"\u0639\u0631\u0636 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062a\u0635\u062d\u064a\u062d",Connect_Device:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u062c\u0647\u0627\u0632",Connect_Multiple:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0623\u0643\u062b\u0631 \u0645\u0646 \u062c\u0647\u0627\u0632",
Disconnect_Device:"\u0642\u0637\u0639 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",Tap:"\u0627\u0636\u063a\u0637 + \u0644\u0644\u0627\u062a\u0635\u0627\u0644",Scanning_for_devices:"\u0627\u0644\u0628\u062d\u062b \u0639\u0646 \u0623\u062c\u0647\u0632\u0629",Open:"\u0627\u0641\u062a\u062d",No_saved_programs:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u0631\u0627\u0645\u062c \u0645\u062d\u0641\u0648\u0638\u0629",New:"\u062c\u062f\u064a\u062f",Saving:"\u064a\u062a\u0645 \u0627\u0644\u062d\u0641\u0638",
On_Device:"\u0639\u0644\u0649 \u0627\u0644\u062c\u0647\u0627\u0632",Cloud:"\u0639\u0644\u0649 cloud",Loading:"\u064a\u062a\u0645 \u0627\u0644\u062a\u062d\u0645\u064a\u0644",Sign_in:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644",New_program:"\u0628\u0631\u0646\u0627\u0645\u062c \u062c\u062f\u064a\u062f",Share:"\u0645\u0634\u0627\u0631\u0643\u0629",Recordings:"\u062a\u0633\u062c\u064a\u0644",Discard:"\u0625\u0644\u063a\u0627\u0621",Stop:"\u0625\u064a\u0642\u0627\u0641",Pause:"\u062a\u0639\u0644\u064a\u0642",
remaining:"\u0645\u062a\u0628\u0642\u064a",Record:"\u0633\u062c\u0651\u0644",Tap_record_to_start:"\u0627\u0636\u063a\u0637 \u0633\u062c\u0651\u0644 \u0644\u0628\u062f\u0621 \u0627\u0644\u062a\u0633\u062c\u064a\u0644",Done:"\u062a\u0645",Delete:"\u062d\u0630\u0641",Delete_question:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0627\u061f",Cancel:"\u0625\u0644\u063a\u0627\u0621",OK:"\u0646\u0639\u0645",
Dont_delete:"\u0639\u062f\u0645 \u0627\u0644\u0645\u0633\u062d",Rename:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0633\u0645\u064a\u0629",Enter_new_name:"\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u062c\u062f\u064a\u062f",Duplicate:"\u0639\u0645\u0644 \u0646\u0633\u062e\u0629 \u0637\u0628\u0642 \u0627\u0644\u0623\u0635\u0644",Name_duplicate_file:"\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0646\u0633\u062e\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",Name_error_invalid_characters:"\u0647\u0630\u0647 \u0627\u0644\u062d\u0631\u0648\u0641 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0623\u0646 \u064a\u062a\u0636\u0645\u0646\u0647\u0627 \u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641 \n",
Name_error_already_exists:'" \u0647\u0630\u0627 \u0627\u0644\u0627\u0633\u0645 \u0645\u0648\u062c\u0648\u062f \u0628\u0627\u0644\u0641\u0639\u0644\u060c \u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0645\u062e\u062a\u0644\u0641',Permission_denied:"\u0625\u0630\u0646 \u0627\u0644\u062f\u062e\u0648\u0644 \u0645\u0631\u0641\u0648\u0636",Grant_permission:"\u0645\u0646 \u0625\u0630\u0646 \u062a\u0633\u062c\u064a\u0644 \u0644\u0628\u0631\u0646\u0627\u0645\u062c \u0628\u064a\u0631\u062f\u0628\u0648\u0643\u0633 \u0641\u064a \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",
Dismiss:"\u0625\u062e\u0641\u0627\u0621",Name:"\u0627\u0644\u0627\u0633\u0645",Enter_file_name:"\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641",Name_error_blank:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u0627\u0641\u0629 \u0623\u0648 \u0641\u0631\u0627\u063a \u0643\u0627\u0633\u0645\u060c \u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0644\u0644\u0645\u0644\u0641",Edit_text:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0646\u0635",
Question:"\u0633\u0624\u0627\u0644",Connection_Failure:"\u0641\u0634\u0644 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",Connection_failed_try_again:"\u0641\u0634\u0644 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u060c \u0645\u0646 \u0641\u0636\u0644\u0643 \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649",Disconnect_account:"\u0627\u0644\u062e\u0631\u0648\u062c \u0645\u0646 \u0627\u0644\u062d\u0633\u0627\u0628",Disconnect_account_question:"\u0627\u0644\u062e\u0631\u0648\u062c \u0645\u0646 \u0627\u0644\u062d\u0633\u0627\u0628  \u0627\u0644\u062d\u0633\u0627\u0628\u061f",
Dont_disconnect:"\u0639\u062f \u0627\u0644\u062e\u0631\u0648\u062c \u0645\u0646 \u0627\u0644\u062d\u0633\u0627\u0628",Disconnect:"\u0627\u0644\u062e\u0631\u0648\u062c",not_connected:"\u063a\u064a\u0631 \u0645\u062a\u0635\u0644 (Device)",not_a_valid_number:"\u0631\u0642\u0645 \u063a\u064a\u0631 \u0645\u062a\u0627\u062d",Intensity:"\u0634\u062f\u0629 \u0627\u0644\u0625\u0636\u0627\u0621\u0629",Angle:"\u0632\u0627\u0648\u064a\u0629",Speed:"\u0627\u0644\u0633\u0631\u0639\u0629",Note:"\u0645\u0644\u0627\u062d\u0638\u0629",
Beats:"\u0627\u0644\u0648\u0645\u0636\u0627\u062a",Firmware_incompatible:"\u0627\u0644\u0628\u0631\u0627\u0645\u062c \u0627\u0644\u062b\u0627\u0628\u062a\u0629 \u063a\u064a\u0631 \u0645\u062a\u0648\u0627\u0641\u0642\u0629",Update_firmware:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u0631\u0627\u0645\u062c \u0627\u0644\u062b\u0627\u0628\u062a\u0629",Device_firmware:"\u0625\u0635\u062f\u0627\u0631 \u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062c \u0627\u0644\u062b\u0627\u0628\u062a \u0644\u0644\u062c\u0647\u0627\u0632:",
Required_firmware:"\u0645\u0637\u0644\u0648\u0628 \u0625\u0635\u062f\u0627\u0631\u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062c:",block_math_of_number:"(Slot 1) (Slot 2 = 10)",ceiling:"ceiling",floor:"floor",abs:"abs",sqrt:"sqrt",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",block_divide:"(Slot 1) / (Slot 2)",logo:"\u0627\u0644\u0634\u0639\u0627\u0631",V2_required:"V2 micro:bit \u0645\u0637\u0644\u0648\u0628",Temperature:"\u0645\u0624\u0634\u0631 \u0627\u0644\u062d\u0631\u0627\u0631\u0629"};
Language.ca={block_Tri_LED:"Tri-LED (Slot 1) vermell (Slot 2) % verd (Slot 3) % blau (Slot 4) %",port:"Port",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"Servo posicional (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"Servo rotacional (Slot 1) (Slot 2) %",block_Play_Note:"Toca nota (Slot 1) durant (Slot 2) temps",block_play_note:"toca nota (Slot 1) durant (Slot 2) temps",Light:"Llum",Distance:"Dist\u00e0ncia",Dial:"Rodeta",Other:"Altres",Accelerometer:"Acceler\u00f2metre",Magnetometer:"Magnet\u00f2metre",
block_LED_Display:"Pantalla",block_Print:"Escriu (Slot 1 = Hola)",block_Button:"Bot\u00f3 (Slot 1)",Screen_Up:"Pantalla cap per amunt",Screen_Down:"Pantalla cap per avall",Tilt_Left:"Inclinada a l'esquerra",Tilt_Right:"Inclinada a la dreta",Logo_Up:"Logo cap per amunt",Logo_Down:"Logo cap per avall",Shake:"Sacsejada",block_Compass:"Br\u00faixola",block_Servo:"Servo (Slot 1) (Slot 2)",block_Vibration:"Vibraci\u00f3 (Slot 1) (Slot 2)",block_Motor:"Motor (Slot 1) (Slot 2)",block_Temperature_C:"Temperatura en \u00b0C (Slot 1)",
block_Temperature_F:"Temperatura en \u00b0F (Slot 1)",block_write:"Escriu (Slot 1) (Slot 2) %",pin:"Pin",block_read:"Llegeix (Slot 1)",block_Device_Shaken:"Tauleta Sacsejada",block_Device_LatLong:"(Slot 1) de la tauleta",Latitude:"Latitud",Longitude:"Longitud",block_Device_SSID:"SSID de la tauleta",block_Device_Pressure:"Pressi\u00f3 de la tauleta",block_Device_Relative_Altitude:"Altitud relativa de la tauleta",block_Acceleration:"Tauleta Acceler\u00f2metre (Slot 1)",Total:"Total",block_Device_Orientation:"Tauleta (Slot 1)",
faceup:"Pantalla cap per amunt",facedown:"Pantalla cap per avall",portrait_bottom:"C\u00e0mera a baix",portrait_top:"C\u00e0mera a dalt",landscape_left:"C\u00e0mera a l'esquerra",landscape_right:"C\u00e0mera a la dreta",in_between:"Altres",block_Display:"Escriu (Slot 1 = Hola) a (Slot 2)",position:"Posici\u00f3",block_ask:"pregunta (Slot 1 = Com et dius?) i espera",block_answer:"resposta",block_reset_timer:"reinicia el cron\u00f2metre",block_timer:"cron\u00f2metre",block_current:"(Slot 1) actual",
date:"data",year:"any",month:"mes",hour:"hora",minute:"minut",second:"segon",day_of_the_week:"dia de la setmana",time_in_milliseconds:"temps en mil\u00b7lisegons",block_mod:"residu de dividir (Slot 1) entre (Slot 2)",block_round:"arrodoneix (Slot 1)",block_pick_random:"nombre a l'atzar entre (Slot 1) i (Slot 2)",block_and:"(Slot 1) i (Slot 2)",block_or:"(Slot 1) o (Slot 2)",block_not:"no (Slot 1)","true":"cert","false":"fals",block_letter:"lletra (Slot 1) de (Slot 2 = m\u00f3n)",block_length:"llargada de (Slot 1 = m\u00f3n)",
block_join:"uneix (Slot 1 = hola) i (Slot 2 = m\u00f3n)",block_split:"divideix (Slot 1 = hola m\u00f3n) per (Slot 2)",letter:"lletra",whitespace:"espai en blanc",block_validate:"\u00e9s (Slot 1 = 5) un (Slot 2)?",number:"nombre",text:"text","boolean":"boole\u00e0",list:"llista",invalid_number:"nombre inv\u00e0lid",block_when_flag_tapped:"quan (Icon) es toqui",block_when_I_receive:"quan rebi (Slot 1)",any_message:"qualsevol missatge","new":"nou",block_when:"quan (Slot 1)",block_broadcast:"envia a tots (Slot 1)",
block_broadcast_and_wait:"envia a tots (Slot 1) i espera",block_message:"missatge",block_wait:"espera (Slot 1) segons",block_wait_until:"espera fins (Slot 1)",block_repeat_forever:"repeteix per sempre",block_repeat:"repeteix (Slot 1) vegades",block_repeat_until:"repeteix fins (Slot 1)",block_if:"si (Slot 1)",block_if_else:"si (Slot 1)","else":"si no",block_stop:"atura (Slot 1)",all:"tot",this_script:"aquest programa",all_but_this_script:"tot excepte aquest programa",Record_sound:"Grava un so",block_play_recording:"toca la gravaci\u00f3 (Slot 1)",
block_play_recording_until_done:"toca la gravaci\u00f3 (Slot 1) fins que acabi",block_play_sound:"toca el so (Slot 1)",block_play_sound_until_done:"toca el so (Slot 1) fins que acabi",block_stop_all_sounds:"atura tots els sons",block_rest_for:"fes silenci durant (Slot 1) temps",block_change_tempo_by:"canvia el tempo en (Slot 1)",block_set_tempo_to:"fixa el tempo a (Slot 1)",block_tempo:"tempo",block_set_variable:"fixa (Slot 1) a (Slot 2)",Create_Variable:"Crea una variable",block_change_variable:"canvia (Slot 1) en (Slot 2)",
block_add_to_list:"afegeix (Slot 1 = cosa) a (Slot 2)",Create_List:"Crea una llista",block_delete_from_list:"elimina (Slot 1) de (Slot 2)",block_insert_into_list:"insereix (Slot 1 = cosa) a la posici\u00f3 (Slot 2) de (Slot 3)",block_replace_list_item:"substitueix l'element (Slot 1) de (Slot 2) per (Slot 3 = cosa)",block_copy_list:"copia (Slot 1) a (Slot 2)",block_list_item:"element (Slot 1) de (Slot 2)",block_list_length:"llargada de (Slot 1)",block_list_contains:"(Slot 1) cont\u00e9 (Slot 2 = cosa)",
last:"\u00daltim",random:"A l'atzar",Robots:"Robots",Operators:"Operadors",Sound:"So",Tablet:"Tauleta",Control:"Control",Variables:"Variables",Zoom_in:"Amplia el zoom",Zoom_out:"Redueix el zoom",Reset_zoom:"Restableix el zoom",Disable_snap_noise:"Deshabilita el so en encaixar blocs",Enable_snap_noise:"Habilita el so en encaixar blocs",CompassCalibrate:"Calibratge de la br\u00faixola",Send_debug_log:"Envia un informe de depuraci\u00f3",Show_debug_menu:"Mostra el men\u00fa de depuraci\u00f3",Connect_Device:"Connecta un dispositiu",
Connect_Multiple:"Connecta m\u00faltiples dispositius",Disconnect_Device:"Desconnecta el dispositiu",Tap:"Toca + per connectar",Scanning_for_devices:"Cercant dispositius",Open:"Obre",No_saved_programs:"No hi ha cap programa desat",New:"Nou",Saving:"Desant",On_Device:"Al dispositiu",Cloud:"Al n\u00favol",Loading:"Carregant",Sign_in:"Registra't",New_program:"Programa nou",Share:"Comparteix",Recordings:"Gravacions",Discard:"Descarta",Stop:"Atura",Pause:"Pausa",remaining:"restant",Record:"Grava",Tap_record_to_start:'Toca "gravar" per comen\u00e7ar',
Done:"Fet",Delete:"Elimina",Delete_question:"Segur que ho vols eliminar?",Cancel:"Cancel\u00b7la",OK:"D'acord",Dont_delete:"No ho eliminis",Rename:"Reanomena",Enter_new_name:"Introdueix un nom nou",Duplicate:"Duplica",Name_duplicate_file:"Introdueix un nom per al fitxer duplicat",Name_error_invalid_characters:"Aquests car\u00e0cters no poden formar part d\u2019un nom d'arxiu: \n",Name_error_already_exists:'" ja existeix. Introdueix un nom diferent.',Permission_denied:"Perm\u00eds denegat",Grant_permission:"Atorga permisos a BirdBlox des de Configuraci\u00f3",
Dismiss:"Descarta",Name:"Nom",Enter_file_name:"Introdueix el nom de l'arxiu",Name_error_blank:"El nom no pot quedar en blanc. Introdueix un nom d'arxiu.",Edit_text:"Edita el text",Question:"Pregunta",Connection_Failure:"Error de connexi\u00f3",Connection_failed_try_again:"La connexi\u00f3 ha fallat. Torna-ho a provar, si us plau.",Disconnect_account:"Desconnecta el compte",Disconnect_account_question:"Vols desconnectar el teu compte?",Dont_disconnect:"No desconnectis",Disconnect:"Desconnecta",not_connected:"(Device) no connectat",
not_a_valid_number:"no \u00e9s un nombre v\u00e0lid",Intensity:"Intensitat",Angle:"Angle",Speed:"Velocitat",Note:"Nota",Beats:"Tempo",Firmware_incompatible:"Firmware incompatible",Update_firmware:"Actualitza el firmware",Device_firmware:"Versi\u00f3 del firmware del dispositiu:",Required_firmware:"Versi\u00f3 del firmware requerida:",block_math_of_number:"(Slot 1) (Slot 2 = 10)",ceiling:"sostre",floor:"part entera",abs:"abs",sqrt:"arrel quadrada",CM:"cm",Inch:"polzades",block_subtract:"(Slot 1) \u2013 (Slot 2)",
block_divide:"(Slot 1) / (Slot 2)",block_finch_move:"Mou-te (Slot 2) cm cap (Slot 1) a velocitat (Slot 3) %",block_finch_turn:"Gira (Slot 2) \u00b0 cap a la (Slot 1) a velocitat (Slot 3) %",block_finch_motors:"Posa les rodes a velocitat E (Slot 1) % D (Slot 2) %",block_finch_beak:"Enc\u00e9n el bec de color R (Slot 1) % G (Slot 2) % B (Slot 3) %",block_finch_tail:"Enc\u00e9n la cua de color (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4) %",block_finch_reset_encoders:"Reinicialitza els comptadors de voltes",
block_encoder:"Recompte de voltes (Slot 1)",Line:"L\u00ednia",Forward:"Endavant",Backward:"Enrere",Right:"Dreta",Left:"Esquerra",Beak_Up:"Bec cap amunt",Beak_Down:"Bec cap avall",Finch_Is_Level:"Horitzontal",Upside_Down:"Cap per avall",logo:"Logo",V2_required:"V2 micro:bit requerida",Temperature:"Temperatura"};
Language.da={block_Tri_LED:"Tri-LED (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4) %",port:"Indgang",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"Positionsservo (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"Rotationsservo (Slot 1) (Slot 2) %",block_Play_Note:"Spil tone (Slot 1) i (Slot 2) slag",block_play_note:"spil tone (Slot 1) i (Slot 2) slag",Light:"Lys",Distance:"Afstand",Dial:"Ring til",Other:"Andet",Accelerometer:"Accelerometer",Magnetometer:"Magnetometer",block_LED_Display:"Display",
block_Print:"Vis (Slot 1 = Hej)",block_Button:"Knap (Slot 1)",Screen_Up:"Sk\u00e6rm op",Screen_Down:"Sk\u00e6rm ned",Tilt_Left:"Vip til venstre",Tilt_Right:"Vip til h\u00f8jre",Logo_Up:"Logo op",Logo_Down:"Logo ned",Shake:"Ryst",block_Compass:"Kompas",block_Servo:"Servo (Slot 1) (Slot 2)",block_Vibration:"Vibrator (Slot 1) (Slot 2)",block_Motor:"Motor (Slot 1) (Slot 2)",block_Temperature_C:"Temperatur C (Slot 1)",block_Temperature_F:"Temperatur F (Slot 1)",block_write:"Skriv (Slot 1) (Slot 2) %",
pin:"Pin",block_read:"Afl\u00e6s (Slot 1)",block_Device_Shaken:"Enhed rystet",block_Device_LatLong:"Enhed (Slot 1)",Latitude:"Breddegrad",Longitude:"L\u00e6ngdegrad",block_Device_SSID:"Enhed SSID",block_Device_Pressure:"Enhed lufttryk",block_Device_Relative_Altitude:"Enhed relativ h\u00f8jde",block_Acceleration:"Enhed Accelerometer (Slot 1)",Total:"Total",block_Device_Orientation:"Enhed orientering",faceup:"Sk\u00e6rm opad",facedown:"Sk\u00e6rm nedad",portrait_bottom:"Portr\u00e6t: Kamera nederst",
portrait_top:"Portr\u00e6t: Kamera \u00f8verst",landscape_left:"Landskab: Kamera til venstre",landscape_right:"Landskab: Kamera til h\u00f8jre",block_Display:"Vis (Slot 1 = Hej) p\u00e5 (Slot 2)",position:"Position",block_ask:"sp\u00f8rg (Slot 1 = Hvad er dit navn?) og vent",block_answer:"svar",block_reset_timer:"nulstil timer",block_timer:"timer",block_current:"nuv\u00e6rende (Slot 1)",date:"dato",year:"\u00e5r",month:"m\u00e5ned",hour:"timer",minute:"minut",second:"sekund",day_of_the_week:"ugedag",
time_in_milliseconds:"tid i millisekunder",block_mod:"(Slot 1) absolut v\u00e6rdi (Slot 2)",block_round:"afrund",block_pick_random:"v\u00e6lg tilf\u00e6ldigt (Slot 1) til (Slot 2)",block_and:"(Slot 1) og (Slot 2)",block_or:"(Slot 1) eller (Slot 2)",block_not:"ikke (Slot 1)","true":"sandt","false":"falsk",block_letter:"bogstav (Slot 1) \u00e1 (Slot 2 = Verden)",block_length:"l\u00e6ngde af (Slot 1 = Verden)",block_join:"forbind (Slot 1 = hej) og (Slot 2 = Verden)",block_split:"opdel (Slot 1 = hej Verden) med (Slot 2)",
letter:"bogstav",whitespace:"mellemrum",block_validate:"er (Slot 1 = 5) et/en (Slot 2)?",number:"nummer",text:"tekst","boolean":"boolesk",list:"liste",invalid_number:"ugyldigt nummer",block_when_flag_tapped:"n\u00e5r du klikker p\u00e5 (Icon)",block_when_I_receive:"n\u00e5r jeg modtager",any_message:"en besked","new":"ny",block_when:"n\u00e5r (Slot 1)",block_broadcast:"send (Slot 1) til alle",block_broadcast_and_wait:"send (Slot 1) til alle og vent",block_message:"besked",block_wait:"vent (Slot 1) sek.",
block_wait_until:"vent indtil (Slot 1)",block_repeat_forever:"gentag for evigt",block_repeat:"gentag (Slot 1)",block_repeat_until:"gentag indtil (Slot 1)",block_if:"hvis (Slot 1)",block_if_else:"hvis (Slot 1)","else":"ellers",block_stop:"stop (Slot 1)",all:"alle",this_script:"dette script",all_but_this_script:"alle andre end dette script",Record_sound:"Optag lyd",block_play_recording:"afspil optagelse (Slot 1)",block_play_recording_until_done:"afspil optagelse indtil f\u00e6rdig (Slot 1)",block_play_sound:"afspil lyd (Slot 1)",
block_play_sound_until_done:"afspil lyd indtil f\u00e6rdig (Slot 1)",block_stop_all_sounds:"stop alle lyde",block_rest_for:"pause i (Slot 1) slag",block_change_tempo_by:"\u00e6ndr tempo med (Slot 1)",block_set_tempo_to:"s\u00e6t tempo til (Slot 1) slag/min",block_tempo:"tempo",block_set_variable:"s\u00e6t (Slot 1) til (Slot 2)",Create_Variable:"Opret variabel",block_change_variable:"\u00e6ndr (Slot 1) med (Slot 2)",Rename:"Omd\u00f8b",Delete:"Slet",block_add_to_list:"tilf\u00f8j (Slot 1 = ting) til (Slot 2)",
Create_List:"Opret liste",block_delete_from_list:"slet (Slot 1) af (Slot 2)",block_insert_into_list:"inds\u00e6t (Slot 1 = ting) p\u00e5 (Slot 2) af (Slot 3)",block_replace_list_item:"erstat element (Slot 1) af (Slot 2) med (Slot 3 = ting)",block_copy_list:"kopi\u00e9r (Slot 1) til (Slot 2)",block_list_item:"element (Slot 1) af (Slot 2)",block_list_length:"l\u00e6ngde p\u00e5 (Slot 1)",block_list_contains:"(Slot 1) indeholder (Slot 2 = ting)",last:"Sidste",random:"Tilf\u00e6ldig",Robots:"Robotter",
Operators:"Operatorer",Sound:"Lyd",Tablet:"Enhed",Control:"Styring",Variables:"Variabler",Zoom_in:"Zoom ind",Zoom_out:"Zoom ud",Reset_zoom:"Nulstil zoom",Disable_snap_noise:"Deaktiv\u00e9r kameralyd",Enable_snap_noise:"Aktiv\u00e9r kameralyd",CompassCalibrate:"Kalibr\u00e9r kompas",Send_debug_log:"Send fejlrapport",Show_debug_menu:"Vis fejlmenu",Connect_Device:"Forbind enhed",Connect_Multiple:"Forbind flere enheder",Disconnect_Device:"Afbryd enhed",Tap:"Tryk + for at forbinde",Scanning_for_devices:"Scanner for enheder",
Open:"\u00c5bn",No_saved_programs:"Ingen gemte programmer",New:"Ny",Saving:"Gemmer",On_Device:"P\u00e5 enhed",Cloud:"I skyen",Loading:"Indl\u00e6ser",Sign_in:"Log ind",New_program:"Nyt program",Share:"Del",Recordings:"Optagelser",Discard:"Kass\u00e9r",Stop:"Stop",Pause:"Pause",remaining:"resterende",Record:"Optag",Tap_record_to_start:"Tryk optag for at starte",Done:"F\u00e6rdig",Delete_question:"Er du sikker p\u00e5, du vil slette dette?",Cancel:"Annull\u00e9r",OK:"OK",Dont_delete:"Slet ikke",Enter_new_name:"Indtast nyt navn",
Duplicate:"Duplik\u00e9r",Name_duplicate_file:"Indtast navn p\u00e5 duplikeret fil",Name_error_invalid_characters:"F\u00f8lgende tegn kan ikke inkluderes i filnavnet: \n",Name_error_already_exists:'" eksisterer allerede. Indtast et andet navn.',Permission_denied:"Adgang n\u00e6gtet",Grant_permission:"Tillad Birdblox at bruge din mikrofon under Indstillinger",Dismiss:"Afbryd",Name:"Navn",Enter_file_name:"Indtast filnavn",Name_error_blank:"Navn kan ikke v\u00e6re tomt. Indtast et filnavn.",Edit_text:"Redig\u00e9r tekst",
Question:"Sp\u00f8rgsm\u00e5l",Connection_Failure:"Forbindelse mislykket",Connection_failed_try_again:"Forbindelse mislykket, pr\u00f8v venligst igen.",Disconnect_account:"Afbryd forbindelse til bruger",Disconnect_account_question:"Afbryd forbindelse til bruger?",Dont_disconnect:"Afbryd ikke",Disconnect:"Afbryd",not_connected:"(Device) ikke tilsluttet",not_a_valid_number:"ikke et gyldigt tal",Intensity:"Intensitet",Angle:"Vinkel",Speed:"Hastighed",Note:"Tone",Beats:"Slag",Firmware_incompatible:"Ukompatibel firmware",
Update_firmware:"Opdat\u00e9r firmware",Device_firmware:"Enhedens firmware version:",Required_firmware:"P\u00e5kr\u00e6vet firmware version:",block_math_of_number:"(Slot 1) (Slot 2 = 10)",ceiling:"ceiling",floor:"floor",abs:"abs",sqrt:"sqrt",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",block_divide:"(Slot 1) / (Slot 2)",logo:"Logo",V2_required:"V2 micro:bit p\u00e5kr\u00e6vet",Temperature:"Temperatur"};
Language.de={block_Tri_LED:"Dreifarben-LED (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4) %",port:"Anschluss",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"Position Servo (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"Drehung Servo (Slot 1) (Slot 2) %",block_Play_Note:"spiele Note (Slot 1) f\u00fcr (Slot 2) Schl\u00e4ge",block_play_note:"spiele note (Slot 1) f\u00fcr (Slot 2) schl\u00e4ge",Light:"Licht",Distance:"Entfernung",Dial:"Drehknopf",Other:"Sonstige",Accelerometer:"Beschleunigungssensor",
Magnetometer:"Magnetsensor",block_LED_Display:"LED Anzeige",block_Print:"Drucke (Slot 1 = HALLO)",block_Button:"Knopf (Slot 1)",Screen_Up:"Anzeige Oben",Screen_Down:"Anzeige Unten",Tilt_Left:"Neigung Links",Tilt_Right:"Neigung Rechts",Logo_Up:"Logo Oben",Logo_Down:"Logo Unten",Shake:"Sch\u00fctteln",block_Compass:"Kompass",block_Servo:"Servo (Slot 1) (Slot 2)",block_Vibration:"Vibration (Slot 1) (Slot 2)",block_Motor:"Motor (Slot 1) (Slot 2)",block_Temperature_C:"Temperatur \u00b0C (Slot 1)",block_Temperature_F:"Temperatur \u00b0F (Slot 1)",
block_write:"Setze (Slot 1) auf (Slot 2) %",pin:"Pin",block_read:"Lies (Slot 1)",block_Device_Shaken:"Ger\u00e4t Gesch\u00fcttelt?",block_Device_LatLong:"Ger\u00e4t (Slot 1)",Latitude:"Breitengrad",Longitude:"L\u00e4ngengrad",block_Device_SSID:"Ger\u00e4t SSID",block_Device_Pressure:"Ger\u00e4t Luftdruck",block_Device_Relative_Altitude:"Ger\u00e4t Relative H\u00f6he",block_Acceleration:"Ger\u00e4t Beschleunigungssensor (Slot 1)",Total:"Gesamt",block_Device_Orientation:"Tablet (Slot 1)",faceup:"Anzeige Oben",
facedown:"Anzeige Unten",portrait_bottom:"Kamera Oben",portrait_top:"Kamera Unten",landscape_left:"Kamera Links",landscape_right:"Kamera Rechts",in_between:"Andere",block_Display:"zeige (Slot 1 = Hallo) an (Slot 2) an",position:"Position",block_ask:"frage (Slot 1 = Wie hei\u00dft du?) und warte",block_answer:"Antwort",block_reset_timer:"starte Stoppuhr neu",block_timer:"Stoppuhr",block_current:"Kalender (Slot 1)",date:"Datum",year:"Jahr",month:"Monat",hour:"Stunde",minute:"Minute",second:"Sekunde",
day_of_the_week:"Wochentag",time_in_milliseconds:"Zeit in Millisekunden",block_mod:"(Slot 1) mod (Slot 2)",block_round:"(Slot 1) gerundet",block_pick_random:"Zufallszahl von (Slot 1) bis (Slot 2)",block_and:"(Slot 1) und (Slot 2)",block_or:"(Slot 1) oder (Slot 2)",block_not:"nicht (Slot 1)","true":"wahr","false":"falsch",block_letter:"Zeichen (Slot 1) von (Slot 2 = Welt)",block_length:"L\u00e4nge von (Slot 1 = Welt)",block_join:"verbinde (Slot 1 = Hallo) und (Slot 2 = Welt)",block_split:"trenne (Slot 1 = Hallo Welt) nach (Slot 2)",
letter:"Buchstabe",whitespace:"Leerzeichen",block_validate:"ist (Slot 1 = 5) ein(e) (Slot 2)",number:"Zahl",text:"Text","boolean":"Boole'scher Wert",list:"Liste",invalid_number:"ung\u00fcltige Zahl",block_when_flag_tapped:"Wenn (Icon) angeklickt",block_when_I_receive:"Wenn ich (Slot 1) empfange",any_message:"eine beliebige Nachricht","new":"neu",block_when:"Wenn (Slot 1)",block_broadcast:"sende (Slot 1) an alle",block_broadcast_and_wait:"sende (Slot 1) an alle und warte",block_message:"Nachricht",
block_wait:"warte (Slot 1) Sek.",block_wait_until:"warte bis (Slot 1)",block_repeat_forever:"fortlaufend",block_repeat:"wiederhole (Slot 1)",block_repeat_until:"wiederhole bis (Slot 1)",block_if:"falls (Slot 1)",block_if_else:"falls (Slot 1)","else":"sonst",block_stop:"stoppe (Slot 1)",all:"alles",this_script:"dieses Skript",all_but_this_script:"alles au\u00dfer diesem Skript",Record_sound:"nimm einen Klang auf",block_play_recording:"spiele Aufnahme (Slot 1)",block_play_recording_until_done:"spiele Aufnahme (Slot 1) ganz",
block_play_sound:"spiele Klang (Slot 1)",block_play_sound_until_done:"spiele Klang (Slot 1) ganz",block_stop_all_sounds:"stoppe alle Kl\u00e4nge",block_rest_for:"spiele Pause f\u00fcr (Slot 1) Schl\u00e4ge",block_change_tempo_by:"\u00e4ndere Tempo um (Slot 1)",block_set_tempo_to:"setze Tempo auf (Slot 1) Schl\u00e4ge/Minute",block_tempo:"Tempo",block_set_variable:"setze (Slot 1) auf (Slot 2)",Create_Variable:"Neue Variable",block_change_variable:"\u00e4ndere (Slot 1) um (Slot 2)",block_add_to_list:"f\u00fcge (Slot 1 = etwas) zu (Slot 2) hinzu",
Create_List:"Erstelle Liste",block_delete_from_list:"entferne (Slot 1) aus (Slot 2)",block_insert_into_list:"f\u00fcge (Slot 1 = etwas) als (Slot 2) in (Slot 3) ein ",block_replace_list_item:"ersetze Element (Slot 1) in (Slot 2) durch (Slot 3 = etwas)",block_copy_list:"kopiere (Slot 1) in (Slot 2)",block_list_item:"Element (Slot 1) von (Slot 2)",block_list_length:"L\u00e4nge von (Slot 1)",block_list_contains:"(Slot 1) enth\u00e4lt (Slot 2 = etwas)",last:"letzte",random:"beliebig",Robots:"Roboter",
Operators:"Operatoren",Sound:"Klang",Tablet:"Tablet",Control:"Steuerung",Variables:"Variablen",Zoom_in:"Vergr\u00f6\u00dfern",Zoom_out:"Verkleinern",Reset_zoom:"Gr\u00f6\u00dfenver\u00e4nderung zur\u00fccksetzen",Disable_snap_noise:"Akustisches Klicken ausschalten",Enable_snap_noise:"Akustisches Klicken einschalten",CompassCalibrate:"Kompass kalibrieren",Send_debug_log:"Fehlermeldung senden",Show_debug_menu:"Fehlermen\u00fc anzeigen",Connect_Device:"Ger\u00e4t verbinden",Connect_Multiple:"Mehrere verbinden",
Disconnect_Device:"Ger\u00e4t trennen",Tap:"Dr\u00fccke + um zu verbinden",Scanning_for_devices:"Nach Ger\u00e4ten suchen",Open:"\u00d6ffnen",No_saved_programs:"Keine gespeicherten Programme",New:"Neu",Saving:"Speichert",On_Device:"Auf dem Ger\u00e4t",Cloud:"Cloud",Loading:"L\u00e4dt",Sign_in:"Anmelden",New_program:"Neues Programm",Share:"Teilen",Recordings:"Aufnahmen",Discard:"Verwerfen",Stop:"Stop",Pause:"Pause",remaining:"verblieben",Record:"Aufnehmen",Tap_record_to_start:"Dr\u00fccke auf Aufnehmen um zu beginnen",
Done:"Fertig",Delete:"L\u00f6schen",Delete_question:"Bist du sicher, dass du das l\u00f6schen m\u00f6chtest?",Cancel:"Abbrechen",OK:"OK",Dont_delete:"Nicht l\u00f6schen",Rename:"Umbenennen",Enter_new_name:"Neuen Namen eingeben",Duplicate:"Duplizieren",Name_duplicate_file:"Namen f\u00fcr duplizierte Datei eingeben",Name_error_invalid_characters:"Die folgenden Zeichen k\u00f6nnen nicht in Dateinamen verwendet werden: \n",Name_error_already_exists:'" ist schon vergeben. Bitte gib einen anderen Namen ein.',
Permission_denied:"Zugriff verweigert",Grant_permission:"Gew\u00e4hre Birdblox in den Einstellungen Zugriff auf dein Mikrofon, um Aufnahmen zu machen.",Dismiss:"Ausblenden",Name:"Name",Enter_file_name:"Gib einen Dateinamen ein",Name_error_blank:"Name kann nicht leer sein. Gib einen Dateinamen an.",Edit_text:"Text bearbeiten",Question:"Frage",Connection_Failure:"Verbindung fehlgeschlagen",Connection_failed_try_again:"Verbindung fehlgeschlagen, bitte versuche es noch einmal",Disconnect_account:"Benutzerkonto trennen",
Disconnect_account_question:"Benutzerkonto trennen?",Dont_disconnect:"Nicht trennen",Disconnect:"Trennen",not_connected:"(Device) nicht verbunden",not_a_valid_number:"keine g\u00fcltige Zahl",Intensity:"Intensit\u00e4t",Angle:"Winkel",Speed:"Geschwindigkeit",Note:"Note",Beats:"Schl\u00e4ge",Firmware_incompatible:"Inkompatible Firmware",Update_firmware:"Firmware updaten",Device_firmware:"Firmware-Version des Ger\u00e4ts:",Required_firmware:"Ben\u00f6tigte Firmware-Version:",block_math_of_number:"(Slot 1) (Slot 2 = 10)",
ceiling:"ceiling",floor:"floor",abs:"abs",sqrt:"sqrt",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",block_divide:"(Slot 1) / (Slot 2)",block_finch_move:"Gehe (Slot 1) (Slot 2) cm mit (Slot 3) %",block_finch_turn:"Drehe (Slot 1) (Slot 2) \u00b0 mit (Slot 3)%",block_finch_motors:"R\u00e4der L (Slot 1)% R (Slot 2)%",block_finch_beak:"Schnabel R (Slot 1) % G (Slot 2) % B (Slot 3) %",block_finch_tail:"Schwanz (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4)%",block_finch_reset_encoders:"Kodierer Zur\u00fccksetzen",
block_encoder:"(Slot 1) Kodierer",Line:"Linie",Forward:"Vorw\u00e4rts",Backward:"R\u00fcckw\u00e4rts",Right:"Rechts",Left:"Links",Beak_Up:"Schnabel Oben",Beak_Down:"Schnabel Unten",Finch_Is_Level:"Eben (R\u00fccken oben)",Upside_Down:"Umgedreht (R\u00fccken unten)",logo:"Logo",V2_required:"V2 micro:bit ben\u00f6tigte",Temperature:"Temperatur"};
Language.en={block_Tri_LED:"Tri-LED (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4) %",port:"Port",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"Position Servo (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"Rotation Servo (Slot 1) (Slot 2) %",block_Play_Note:"Play Note (Slot 1) for (Slot 2) Beats",block_play_note:"play note (Slot 1) for (Slot 2) beats",Light:"Light",Distance:"Distance",Dial:"Dial",Other:"Other",Accelerometer:"Accelerometer",Magnetometer:"Magnetometer",block_LED_Display:"Display",
block_Print:"Print (Slot 1 = Hello)",block_Button:"Button (Slot 1)",Screen_Up:"Screen Up",Screen_Down:"Screen Down",Tilt_Left:"Tilt Left",Tilt_Right:"Tilt Right",Logo_Up:"Logo Up",Logo_Down:"Logo Down",Shake:"Shake",block_Compass:"Compass",block_Servo:"Servo (Slot 1) (Slot 2)",block_Vibration:"Vibration (Slot 1) (Slot 2)",block_Motor:"Motor (Slot 1) (Slot 2)",block_Temperature_C:"Temperature C (Slot 1)",block_Temperature_F:"Temperature F (Slot 1)",block_write:"Write (Slot 1) (Slot 2) %",pin:"Pin",
block_read:"Read (Slot 1)",block_Device_Shaken:"Tablet Shaken",block_Device_LatLong:"Tablet (Slot 1)",Latitude:"Latitude",Longitude:"Longitude",block_Device_SSID:"Tablet SSID",block_Device_Pressure:"Tablet Pressure",block_Device_Relative_Altitude:"Tablet Relative Altitude",block_Acceleration:"Tablet Accelerometer (Slot 1)",Total:"Total",block_Device_Orientation:"Tablet (Slot 1)",faceup:"Screen Up",facedown:"Screen Down",portrait_bottom:"Camera Bottom",portrait_top:"Camera Top",landscape_left:"Camera Left",
landscape_right:"Camera Right",in_between:"Other",block_Display:"Display (Slot 1 = Hello) at (Slot 2)",position:"Position",block_ask:"ask (Slot 1 = What's your name?) and wait",block_answer:"answer",block_reset_timer:"reset timer",block_timer:"timer",block_current:"current (Slot 1)",date:"date",year:"year",month:"month",hour:"hour",minute:"minute",second:"second",day_of_the_week:"day of the week",time_in_milliseconds:"time in milliseconds",block_mod:"(Slot 1) mod (Slot 2)",block_round:"round (Slot 1)",
block_pick_random:"pick random (Slot 1) to (Slot 2)",block_and:"(Slot 1) and (Slot 2)",block_or:"(Slot 1) or (Slot 2)",block_not:"not (Slot 1)","true":"true","false":"false",block_letter:"letter (Slot 1) of (Slot 2 = world)",block_length:"length of (Slot 1 = world)",block_join:"join (Slot 1 = hello) and (Slot 2 = world)",block_split:"split (Slot 1 = hello world) by (Slot 2)",letter:"letter",whitespace:"whitespace",block_validate:"is (Slot 1 = 5) a (Slot 2)?",number:"number",text:"text","boolean":"boolean",
list:"list",invalid_number:"invalid number",block_when_flag_tapped:"when (Icon) tapped",block_when_I_receive:"when I receive",any_message:"any message","new":"new",block_when:"when (Slot 1)",block_broadcast:"broadcast (Slot 1)",block_broadcast_and_wait:"broadcast (Slot 1) and wait",block_message:"message",block_wait:"wait (Slot 1) secs",block_wait_until:"wait until (Slot 1)",block_repeat_forever:"repeat forever",block_repeat:"repeat (Slot 1)",block_repeat_until:"repeat until (Slot 1)",block_if:"if (Slot 1)",
block_if_else:"if (Slot 1)","else":"else",block_stop:"stop (Slot 1)",all:"all",this_script:"this script",all_but_this_script:"all but this script",Record_sound:"Record Sound",block_play_recording:"play recording (Slot 1)",block_play_recording_until_done:"play recording until done (Slot 1)",block_play_sound:"play sound (Slot 1)",block_play_sound_until_done:"play sound until done (Slot 1)",block_stop_all_sounds:"stop all sounds",block_rest_for:"rest for (Slot 1) Beats",block_change_tempo_by:"change tempo by (Slot 1)",
block_set_tempo_to:"set tempo to (Slot 1) bpm",block_tempo:"tempo",block_set_variable:"set (Slot 1) to (Slot 2)",Create_Variable:"Create Variable",block_change_variable:"change (Slot 1) by (Slot 2)",Rename:"Rename",Delete:"Delete",block_add_to_list:"add (Slot 1 = thing) to (Slot 2)",Create_List:"Create List",block_delete_from_list:"delete (Slot 1) of (Slot 2)",block_insert_into_list:"insert (Slot 1 = thing) at (Slot 2) of (Slot 3)",block_replace_list_item:"replace item (Slot 1) of (Slot 2) with (Slot 3 = thing)",
block_copy_list:"copy (Slot 1) to (Slot 2)",block_list_item:"item (Slot 1) of (Slot 2)",block_list_length:"length of (Slot 1)",block_list_contains:"(Slot 1) contains (Slot 2 = thing)",last:"Last",random:"Random",Robots:"Robots",Operators:"Operators",Sound:"Sound",Tablet:"Tablet",Control:"Control",Variables:"Variables",Zoom_in:"Zoom in",Zoom_out:"Zoom out",Reset_zoom:"Reset zoom",Disable_snap_noise:"Disable snap noise",Enable_snap_noise:"Enable snap noise",CompassCalibrate:"Calibrate Compass",Send_debug_log:"Send debug log",
Show_debug_menu:"Show debug menu",Connect_Device:"Connect Device",Connect_Multiple:"Connect Multiple",Disconnect_Device:"Disconnect Device",Tap:"Tap + to connect",Scanning_for_devices:"Scanning for devices",Open:"Open",No_saved_programs:"No saved programs",Saving:"Saving",On_Device:"On Device",Cloud:"Cloud",Loading:"Loading",Sign_in:"Sign in",New_program:"New program",Share:"Share",Recordings:"Recordings",Discard:"Discard",Stop:"Stop",Pause:"Pause",remaining:"remaining",Record:"Record",Tap_record_to_start:"Tap record to start",
Done:"Done",Delete_question:"Are you sure you want to delete this?",Cancel:"Cancel",OK:"OK",Dont_delete:"Don't delete",Enter_new_name:"Enter new name",Duplicate:"Duplicate",Name_duplicate_file:"Enter name for duplicate file",Name_error_invalid_characters:"The following characters cannot be included in file names: \n",Name_error_already_exists:'" already exists.  Enter a different name.',Permission_denied:"Permission denied",Grant_permission:"Grant recording permission to BirdBlox in Settings",Dismiss:"Dismiss",
Name:"Name",Enter_file_name:"Enter file name",Name_error_blank:"Name cannot be blank. Enter a file name.",Edit_text:"Edit text",Question:"Question",Connection_Failure:"Connection Failure",Connection_failed_try_again:"Connection failed, please try again.",Disconnect_account:"Disconnect account",Disconnect_account_question:"Disconnect account?",Dont_disconnect:"Don't disconnect",Disconnect:"Disconnect",not_connected:"(Device) not connected",not_a_valid_number:"not a valid number",Intensity:"Intensity",
Angle:"Angle ",Speed:"Speed ",Note:"Note",Beats:"Beats",Firmware_incompatible:"Firmware incompatible",Update_firmware:"Update firmware",Device_firmware:"Device firmware version:",Required_firmware:"Required firmware version:",New:"New",block_math_of_number:"(Slot 1) (Slot 2 = 10)",ceiling:"ceiling",floor:"floor",abs:"abs",sqrt:"sqrt",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",block_divide:"(Slot 1) / (Slot 2)",block_finch_move:"Move (Slot 1) (Slot 2) cm at (Slot 3) %",block_finch_turn:"Turn (Slot 1) (Slot 2) \u00b0 at (Slot 3) %",
block_finch_motors:"Wheels L (Slot 1) % R (Slot 2) %",block_finch_beak:"Beak R (Slot 1) % G (Slot 2) % B (Slot 3)%",block_finch_tail:"Tail (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4)%",block_finch_reset_encoders:"Reset Encoders",block_encoder:"(Slot 1) Encoder",Line:"Line",Forward:"Forward",Backward:"Backward",Right:"Right",Left:"Left",Battery:"Battery",Beak_Up:"Beak Up",Beak_Down:"Beak Down",Finch_Is_Level:"Level",Upside_Down:"Upside Down",block_when_key_pressed:"when (Slot 1) key pressed",space:"space",
any_key:"any key",logo:"Logo",V2_required:"V2 micro:bit required",Temperature:"Temperature",Add_Comment:"Add Comment",Add_Comment_Here:"add comment here...",is_empty:"is empty",block_Fairy_Lights:"Fairy Lights (Slot 1) (Slot 2) %",block_Neopixel_Strip:"Neopixel (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4) %",block_Single_Neopixel:"Neopixel R (Slot 1) % G (Slot 2) % B (Slot 3) %"};
Language.es={block_Tri_LED:"Led tricolor (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4) %",port:"Puerto",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"Servo de posicion (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"Servo de rotacion (Slot 1) (Slot 2) %",block_Play_Note:"Emitir un sonido (Slot 1) por (Slot 2) pulsos",block_play_note:"emitir un sonido (Slot 1) por (Slot 2) pulsos",Light:"Luz",Distance:"Distancia",Dial:"Dial",Other:"Otro",Accelerometer:"Acelerometro",Magnetometer:"Magnetometro",
block_LED_Display:"Monitor",block_Print:"Imprimir (Slot 1 = Hola)",block_Button:"Pulsador (Slot 1)",Screen_Up:"Subir la pantalla",Screen_Down:"Bajar la pantalla",Tilt_Left:"Ladear hacia la izquierda",Tilt_Right:"Ladear hacia la derecha",Logo_Up:"Logo arriba",Logo_Down:"Logo abajo",Shake:"Sacudir",block_Compass:"Brujula",block_Servo:"Servo (Slot 1)(Slot 2)",block_Vibration:"Vibracion (Slot 1)(Slot 2)",block_Motor:"Motor (Slot 1)(Slot 2)",block_Temperature_C:"Temperatura C (Slot 1)",block_Temperature_F:"Temperatura F (Slot 1)",
block_write:"Escribir (Slot 1) (Slot 2) %",pin:"Pinche",block_read:"Leer (Slot 1)",block_Device_Shaken:"Sacudir la tableta",block_Device_LatLong:"Tableta (Slot 1)",Latitude:"Latitud",Longitude:"Longitudd",block_Device_SSID:"SSID de la tableta",block_Device_Pressure:"Presion de la tableta",block_Device_Relative_Altitude:"Altitud relativa de la tableta",block_Acceleration:"Tableta Acelerometro (Slot 1)",Total:"Total",block_Device_Orientation:"Tableta (Slot 1)",faceup:"Pantalla hacia arriba",facedown:"Pantalla hacia abajo",
portrait_bottom:"C\u00e1mara abajo",portrait_top:"C\u00e1mara arriba",landscape_left:"C\u00e1mara a la izquierda",landscape_right:"C\u00e1mara a la derecha",in_between:"Otro",block_Display:"Monitor (Slot 1 = Hola) en (Slot 2)",position:"Posicion",block_ask:"Preguntar (Slot 1 = Cual es tu nombre?) Y esperar",block_answer:"Responder",block_reset_timer:"Reiniciar el temporizador",block_timer:"Temporizador",block_current:"Actual (Slot 1)",date:"Fecha",year:"A\u00f1o",month:"Mes",hour:"Hora",minute:"Minuto",
second:"Segundo",day_of_the_week:"Dia de la semana",time_in_milliseconds:"Tiempo en milisegundos",block_mod:"(Slot 1) modo (Slot 2)",block_round:"Vuelta (Slot 1)",block_pick_random:" Eleccion aleatoria (Slot 1) a (Slot 2)",block_and:"(Slot 1) y (Slot 2)",block_or:"(Slot 1) o (Slot 2)",block_not:"No (Slot 1)","true":"Verdadero","false":"Falso",block_letter:"Letra (Slot 1) de (Slot 2 = mundo)",block_length:"Longitud de (Slot 1 = mundo)",block_join:"Unir (Slot 1 = hola) y (Slot 2 = mundo)",block_split:"Dividir (Slot 1 = Hola mundo) en (Slot 2)",
letter:"Letra",whitespace:"Espacio en blanco",block_validate:"Es (Slot 1 = 5) un (Slot 2)?",number:"Numero",text:"Texto","boolean":"Booleano",list:"Lista",invalid_number:"Numero invalido",block_when_flag_tapped:"Cuando (Icon) es presionado",block_when_I_receive:"Cuando recibo (Slot 1)",any_message:"Cualquier mensaje","new":"nuevo",block_when:"Cuando (Slot 1)",block_broadcast:"Transmitir (Slot 1)",block_broadcast_and_wait:"Transmitir (Slot 1) y esperar",block_message:"mensaje",block_wait:"esperar (Slot 1) segundos",
block_wait_until:"esperar hasta (Slot 1)",block_repeat_forever:"Repetir por siempre",block_repeat:"repetir (Slot 1)",block_repeat_until:"repetir hasta (Slot 1)",block_if:"si (Slot 1)",block_if_else:"si (Slot 1)","else":"caso contrario",block_stop:"detener (Slot 1)",all:"todo",this_script:"este esquema",all_but_this_script:"todo menos este esquema",Record_sound:"Grabar sonido",block_play_recording:"Reproducir grabacion (Slot 1)",block_play_recording_until_done:"Reproducir grabacion hasta el final (Slot 1)",
block_play_sound:"Reproducir sonido (Slot 1)",block_play_sound_until_done:"Reproducir sonido hasta el final (Slot 1)",block_stop_all_sounds:"Finalizar todos los sonidos",block_rest_for:"descansar por (Slot 1) pulsos",block_change_tempo_by:"cambiar el temporizador en (Slot 1)",block_set_tempo_to:"configurar el temporizador a (Slot 1)",block_tempo:"Temporizador",block_set_variable:"configurar (Slot 1) a (Slot 2)",Create_Variable:"Crear Variable",block_change_variable:"cambiar (Slot 1) en (Slot 2)",
block_add_to_list:"agregar (Slot 1 = objeto) a (Slot 2)",Create_List:"Crear Lista",block_delete_from_list:"borrar (Slot 1) de (Slot 2) ",block_insert_into_list:"insertar (Slot 1 = objeto) en (Slot 2) de (Slot 3)",block_replace_list_item:"reemplazar item (Slot 1) de (Slot 2) con (Slot 3 = objeto)",block_copy_list:"copiar (Slot 1) a (Slot 2)",block_list_item:"item (Slot 1) a (Slot 2)",block_list_length:"Longitud de (Slot 1)",block_list_contains:"(Slot 1) contiene (Slot 2 = objeto)",last:"Ultimo",random:"Aleatorio",
Robots:"Robots",Operators:"Operadores",Sound:"Sonido",Tablet:"Tableta",Control:"Control",Variables:"Variables",Zoom_in:"Acercar zoom",Zoom_out:"Alejar zoom",Reset_zoom:"Reiniciar zoom",Disable_snap_noise:"Deshabilitar sonido snap",Enable_snap_noise:"Habilitar sonido snap",CompassCalibrate:"Calibrar la brujula",Send_debug_log:"Enviar registro del debug",Show_debug_menu:"Mostrar resultados del debug",Connect_Device:"Conectar dispositivo",Connect_Multiple:"Coneccion multiple",Disconnect_Device:"Desconectar dispositivo",
Tap:"Presionar + para conectar",Scanning_for_devices:"Escaneando dispositivos",Open:"Abrir",No_saved_programs:"Programas no guardados",New:"Nuevo",Saving:"Guardando",On_Device:"En el dispositivo",Cloud:"Nube",Loading:"Cargando",Sign_in:"Ingresar",New_program:"Programa nuevo",Share:"Compartir",Recordings:"Grabaciones",Discard:"Descartar",Stop:"Detener",Pause:"Pausa",remaining:"restante",Record:"Grabar",Tap_record_to_start:"Presionar grabar para iniciar",Done:"Hecho",Delete:"Borrar",Delete_question:"Esta seguro que quiere borrar esto?",
Cancel:"Cancelar",OK:"Aceptar",Dont_delete:"No borrar",Rename:"Cambiar nombre",Enter_new_name:"Ingrese un nombre nuevo",Duplicate:"Duplicar",Name_duplicate_file:"Ingrese un nombre para el archivo duplicado",Name_error_invalid_characters:"Los siguientes caracteres no pueden ser utilizados en los nombres de los archivos: \n",Name_error_already_exists:'" ya existe. Entre un nombre diferente',Permission_denied:"Permiso denegado",Grant_permission:"Permiso especial de grabacion en la configuracion del BirdBlox",
Dismiss:"Descartar",Name:"Nombre",Enter_file_name:"Ingresar el nombre del archivo",Name_error_blank:"El nombre no puede estar vacio. Ingrese un nombre para el archivo",Edit_text:"Editar texto",Question:"Pregunta",Connection_Failure:"Coneccion fallada",Connection_failed_try_again:"Coneccion fallada, por favor intente de nuevo",Disconnect_account:"Desconectar la cuenta",Disconnect_account_question:"Desconectar la cuenta?",Dont_disconnect:"No desconectar",Disconnect:"Desconectar",not_connected:"(Device) no conectado",
not_a_valid_number:"Este numero no es valido",Intensity:"Intensidad",Angle:"Angulo",Speed:"Velocidad",Note:"Nota",Beats:"Pulsos",Firmware_incompatible:"El firmware es incompatible",Update_firmware:"Actualizar firmware",Device_firmware:"Version del firmware del dispositivo:",Required_firmware:"Version del firmware requerida:",block_math_of_number:"(Slot 1) (Slot 2 = 10)",ceiling:"ceiling",floor:"floor",abs:"abs",sqrt:"sqrt",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",block_divide:"(Slot 1) / (Slot 2)",
block_finch_move:"Mover (Slot 2) cm hacia (Slot 1) a velocidad (Slot 3) %",block_finch_turn:"Girar (Slot 2) \u00b0 hacia la (Slot 1) a velocidad (Slot 3) %",block_finch_motors:"Poner las ruedas a velocidad I (Slot 1) % D (Slot 2) %",block_finch_beak:"Encender el pico de color R (Slot 1) % V (Slot 2) % A (Slot 3) %",block_finch_tail:"Encender la cola de color (Slot 1) R (Slot 2) % V (Slot 3) % A (Slot 4) %",block_finch_reset_encoders:"Reinicializar los contadores de vueltas",block_encoder:"Recuento de vueltas (Slot 1)",
Line:"L\u00ednea",Forward:"Adelante",Backward:"Atr\u00e1s",Right:"Derecha",Left:"Izquierda",Beak_Up:"Pico hacia arriba",Beak_Down:"Pico hacia abajo",Finch_Is_Level:"Horizontal",Upside_Down:"Boca abajo",logo:"Logo",V2_required:"V2 micro:bit requerida",Temperature:"Temperatura"};
Language.fi={block_Tri_LED:"Tri-LED (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4) %",port:"Liit\u00e4nt\u00e4",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"Asentoservo (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"Kiertoservo (Slot 1) (Slot 2) %",block_Play_Note:"Soita s\u00e4vel (Slot 1)  (Slot 2) iskun ajan",block_play_note:"soita s\u00e4vel (Slot 1)  (Slot 2) iskun ajan",Light:"Valo",Distance:"Et\u00e4isyys",Dial:"S\u00e4\u00e4din",Other:"Muu",Accelerometer:"Kiihtyvyysanturi",Magnetometer:"Magnetometri",
block_LED_Display:"N\u00e4yt\u00e4",block_Print:"N\u00e4yt\u00e4 teksti (Slot 1 = Hello)",block_Button:"Painike",Screen_Up:"N\u00e4ytt\u00f6 yl\u00f6s",Screen_Down:"N\u00e4ytt\u00f6 alas",Tilt_Left:"Kallista vasempaan",Tilt_Right:"Kallista oikeaan",Logo_Up:"Logo yl\u00f6s",Logo_Down:"Logo alas",Shake:"Ravista",block_Compass:"Kompassi ",block_Servo:"Servo (Slot 1) (Slot 2)",block_Vibration:"V\u00e4rin\u00e4 (Slot 1) (Slot 2)",block_Motor:"Moottori (Slot 1) (Slot 2)",block_Temperature_C:"L\u00e4mp\u00f6tila C (Slot 1)",
block_Temperature_F:"L\u00e4mp\u00f6tila F (Slot 1)",block_write:"Kirjoita (Slot 1) (Slot 2) %",pin:"Pinni",block_read:"Lue (Slot 1)",block_Device_Shaken:"Tablettia ravistetaan",block_Device_LatLong:"Tabletti (Slot 1)",Latitude:"Leveysaste",Longitude:"Pituusaste",block_Device_SSID:"Tabletti SSID",block_Device_Pressure:"Tabletti ilmanpaine",block_Device_Relative_Altitude:"Tabletti suhteellinen korkeus",block_Acceleration:"Tabletti Kiihtyvyysanturi (Slot 1)",Total:"Kokonais-",block_Device_Orientation:"Tabletti asento",
faceup:"N\u00e4ytt\u00f6 yl\u00f6s",facedown:"N\u00e4ytt\u00f6 alas",portrait_bottom:"Pystykuva: kamera alhaalla",portrait_top:"Pystykuva: kamera ylh\u00e4\u00e4ll\u00e4",landscape_left:"Vaakakuva: kamera vasemmalla",landscape_right:"Vaakakuva: kamera oikealla",block_Display:"N\u00e4yt\u00e4 teksti (Slot 1 = Hello) (Slot 2)",position:"Sijainti",block_ask:"kysy (Slot 1 = Mik\u00e4 on nimesi?) ja odota",block_answer:"vastaus",block_reset_timer:"nollaa ajastin",block_timer:"ajastin",block_current:"nykyinen (Slot 1)",
date:"p\u00e4iv\u00e4m\u00e4\u00e4r\u00e4",year:"vuosi",month:"kuukausi",hour:"tunti",minute:"minuutti",second:"sekunti",day_of_the_week:"viikonp\u00e4iv\u00e4",time_in_milliseconds:"aika millisekunteina",block_mod:"(Slot 1) moduli (Slot 2)",block_round:"py\u00f6rist\u00e4 (Slot 1)",block_pick_random:"valitse satunnainen v\u00e4lilt\u00e4 (Slot 1) - (Slot 2)",block_and:"(Slot 1) ja (Slot 2)",block_or:"(Slot 1) tai (Slot 2)",block_not:"ei (Slot 1)","true":"tosi","false":"ep\u00e4tosi",block_letter:"kirjain (Slot 1) sanasta (Slot 2 = world)",
block_length:"sanan (Slot 1 = world) pituus",block_join:"yhdist\u00e4 (Slot 1 = hello) ja (Slot 2 = world)",block_split:"erota (Slot 1 = hello world) (Slot 2)",letter:"kirjain ",whitespace:"tyhj\u00e4merkki",block_validate:"onko (Slot 1 = 5) (Slot 2)?",number:"numero",text:"teksti","boolean":"totuusarvo",list:"lista",invalid_number:"ep\u00e4kelpo numero",block_when_flag_tapped:"kun (Icon) napautetaan",block_when_I_receive:"kun vastaanotan (Slot 1)",any_message:"mik\u00e4 tahansa viesti","new":"uusi",
block_when:"kun (Slot 1)",block_broadcast:"l\u00e4het\u00e4 (Slot 1)",block_broadcast_and_wait:"l\u00e4het\u00e4 (Slot 1) ja odota",block_message:"viesti",block_wait:"odota (Slot 1) sekuntia",block_wait_until:"odota kunnes",block_repeat_forever:"toista ikuisesti",block_repeat:"toista (Slot 1) kertaa",block_repeat_until:"toista kunnes",block_if:"jos (Slot 1)",block_if_else:"jos (Slot 1)","else":"muuten",block_stop:"pys\u00e4yt\u00e4 (Slot 1)",all:"kaikki",this_script:"t\u00e4m\u00e4 komentosarja",
all_but_this_script:"kaikki paitsi t\u00e4m\u00e4 komentosarja",Record_sound:"Tallenna \u00e4\u00e4nt\u00e4",block_play_recording:"soita \u00e4\u00e4nitys (Slot 1)",block_play_recording_until_done:"soita \u00e4\u00e4nitys kunnes valmis (Slot 1)",block_play_sound:"soita \u00e4\u00e4ni (Slot 1)",block_play_sound_until_done:"soita \u00e4\u00e4ni kunnes valmis (Slot 1)",block_stop_all_sounds:"pys\u00e4yt\u00e4 kaikki \u00e4\u00e4net",block_rest_for:"taukoa (Slot 1) iskun ajan",block_change_tempo_by:"muuta tempoa (Slot 1)",
block_set_tempo_to:"aseta tempo (Slot 1) bpm",block_tempo:"tempo",block_set_variable:"aseta (Slot 1) arvoon (Slot 2)",Create_Variable:"Luo Muuttuja",block_change_variable:"muuta (Slot 1) (Slot 2)",block_add_to_list:"lis\u00e4\u00e4 (Slot 1 = thing) listaan (Slot 2)",Create_List:"Luo lista",block_delete_from_list:"poista (Slot 1) listasta (Slot 2)",block_insert_into_list:"lis\u00e4\u00e4 (Slot 1) paikkaan (Slot 2) listaan (Slot 3)",block_replace_list_item:"korvaa listan (Slot 2) alkio (Slot 1) (Slot 3 = thing)",
block_copy_list:"kopioi (Slot 1) listaan (Slot 2)",block_list_item:"alkio (Slot 1) listalla (Slot 2)",block_list_length:"(Slot 1) pituus",block_list_contains:"(Slot 1) sis\u00e4lt\u00e4\u00e4 (Slot 2 = thing)",last:"Viimeinen",random:"Satunnainen",Robots:"Robotit",Operators:"Toiminnot",Sound:"\u00c4\u00e4ni",Tablet:"Tabletti",Control:"Ohjaus",Variables:"Muuttujat",Zoom_in:"L\u00e4henn\u00e4 ",Zoom_out:"Loitonna ",Reset_zoom:"Palauta ",Disable_snap_noise:"Est\u00e4 napsaus\u00e4\u00e4ni",Enable_snap_noise:"Salli napsaus\u00e4\u00e4ni",
CompassCalibrate:"Kalibroi kompassi",Send_debug_log:"L\u00e4het\u00e4 vianpoistoloki",Show_debug_menu:"N\u00e4yt\u00e4 vianpoistovalikko",Connect_Device:"Yhdist\u00e4 laite",Connect_Multiple:"Yhdist\u00e4 useita ",Disconnect_Device:"Katkaise yhteys",Tap:"Napauta + yhdist\u00e4\u00e4ksesi",Scanning_for_devices:"Etsii laitteita",Open:"Avaa",No_saved_programs:"Ei tallennettuja ohjelmia",New:"Uusi",Saving:"Tallentaa",On_Device:"Laitteella",Cloud:"Pilvi",Loading:"Lataa",Sign_in:"Kirjaudu sis\u00e4\u00e4n",
New_program:"Uusi ohjelma",Share:"Jaa",Recordings:"Tallennukset",Discard:"Hylk\u00e4\u00e4",Stop:"Pys\u00e4yt\u00e4",Pause:"Keskeyt\u00e4",remaining:"j\u00e4ljell\u00e4",Record:"\u00c4\u00e4nit\u00e4",Tap_record_to_start:"Napauta \u00e4\u00e4nit\u00e4 aloittaaksesi",Done:"Valmis",Delete:"Poista",Delete_question:"Haluatko varmasti poistaa t\u00e4m\u00e4n?",Cancel:"Peru",OK:"OK",Dont_delete:"\u00c4l\u00e4 poista",Rename:"Nime\u00e4 uudelleen",Enter_new_name:"Sy\u00f6t\u00e4 uusi nimi",Duplicate:"Tiedoston kopio",
Name_duplicate_file:"Anna tiedoston kopiolle nimi.",Name_error_invalid_characters:"Tiedoston nimess\u00e4 ei voi olla seruaavia merkkej\u00e4: \n",Name_error_already_exists:'" on jo olemassa. Anna uusi nimi.',Permission_denied:"Lupaa ei ole annettu",Grant_permission:"Anna BirdBloxille lupa k\u00e4ytt\u00e4\u00e4 mikrofonia asetuksissa",Dismiss:"Hylk\u00e4\u00e4",Name:"Nimi",Enter_file_name:"Sy\u00f6t\u00e4 tiedoston nimi.",Name_error_blank:"Nime\u00e4 ei voi j\u00e4tt\u00e4\u00e4 tyhj\u00e4ksi. Sy\u00f6t\u00e4 tiedoston nimi.",
Edit_text:"Muokkaa teksti\u00e4",Question:"Kysymys",Connection_Failure:"Virhe yhdistett\u00e4ess\u00e4",Connection_failed_try_again:"Virhe yhdistett\u00e4ess\u00e4, yrit\u00e4 uudelleen",Disconnect_account:"Poista tili laitteelta",Disconnect_account_question:"Poistetaanko tili laitteelta?",Dont_disconnect:"\u00c4l\u00e4 poista",Disconnect:"Poista ",not_connected:"(Device) ei yhdistetty",not_a_valid_number:"ep\u00e4kelpo numero",Intensity:"Voimakkuus",Angle:"Kulma",Speed:"Nopeus",Note:"S\u00e4vel",
Beats:"Iskua",Firmware_incompatible:"Yhteensopimaton laiteohjelma",Update_firmware:"P\u00e4ivit\u00e4 laiteohjelma",Device_firmware:"Laiteohjelman versio:",Required_firmware:"Vaadittu laiteohjelman versio:",block_math_of_number:"(Slot 1) (Slot 2 = 10)",ceiling:"ceiling",floor:"floor",abs:"abs",sqrt:"sqrt",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",block_divide:"(Slot 1) / (Slot 2)",logo:"Logo",V2_required:"V2 micro:bit vaadittu",Temperature:"L\u00e4mp\u00f6tila"};
Language.fr={block_Tri_LED:"Tri-LED (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4) %",port:"Connecteur",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"Position Servo (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"Rotation Servo (Slot 1) (Slot 2) %",block_Play_Note:"Jouer la note (Slot 1) pour (Slot 2) battement(s)",block_play_note:"jouer la note (Slot 1) pour (Slot 2) battement(s)",Light:"Lumi\u00e8re",Distance:"Distance",Dial:"Cadran",Other:"Autre",Accelerometer:"Acc\u00e9l\u00e9rom\u00e8tre",
Magnetometer:"Magn\u00e9tom\u00e8tre",block_LED_Display:"Display",block_Print:"Imprimer (Slot 1 = Bonjour)",block_Button:"Bouton (Slot 1)",Screen_Up:"\u00c9cran vers le haut",Screen_Down:"\u00c9cran vers le bas",Tilt_Left:"Incliner \u00e0 gauche",Tilt_Right:"Incliner \u00e0 droite",Logo_Up:"Logo vers le haut",Logo_Down:"Logo vers le bas",Shake:"Secouer",block_Compass:"Compas",block_Servo:"Servo (Slot 1) (Slot 2)",block_Vibration:"Vibration (Slot 1) (Slot 2)",block_Motor:"Moteur (Slot 1) (Slot 2)",
block_Temperature_C:"Temp\u00e9rature C (Slot 1)",block_Temperature_F:"Temp\u00e9rature F (Slot 1)",block_write:"\u00c9crire (Slot 1) (Slot 2) %",pin:"Broche",block_read:"Lire (Slot 1)",block_Device_Shaken:"Tablette secou\u00e9e",block_Device_LatLong:"Tablette (Slot 1)",Latitude:"Latitude",Longitude:"Longitude",block_Device_SSID:"Tablette SSID",block_Device_Pressure:"Tablette Pression",block_Device_Relative_Altitude:"Tablette Altitude Relative",block_Acceleration:"Tablette Acc\u00e9l\u00e9rom\u00e8tre (Slot 1)",
Total:"Total",block_Device_Orientation:"Tablette (Slot 1)",faceup:"\u00c9cran vers le haut",facedown:"\u00c9cran vers le bas",portrait_bottom:"Cam\u00e9ra vers le bas",portrait_top:"Cam\u00e9ra vers le haut",landscape_left:"Cam\u00e9ra \u00e0 gauche",landscape_right:"Cam\u00e9ra \u00e0 droite",in_between:"Autre",block_Display:"Display (Slot 1 = Bonjour) \u00e0 (Slot 2)",position:"Position",block_ask:"demande (Slot 1 = Quel est ton nom?) et attendez",block_answer:"r\u00e9pond",block_reset_timer:"r\u00e9initialisez la minuterie",
block_timer:"minuterie",block_current:"actuel (Slot 1)",date:"date",year:"ann\u00e9e",month:"mois",hour:"heure",minute:"minute",second:"seconde",day_of_the_week:"jour de la semaine",time_in_milliseconds:"temps en millisecondes",block_mod:"(Slot 1) modulo (Slot 2)",block_round:"round (Slot 1)",block_pick_random:"choisir au hasard (Slot 1) \u00e0 (Slot 2)",block_and:"(Slot 1) et (Slot 2)",block_or:"(Slot 1) ou (Slot 2)",block_not:"pas (Slot 1)","true":"vrai","false":"faux",block_letter:"lettre (Slot 1) ou (Slot 2 = monde)",
block_length:"longueur (Slot 1 = monde)",block_join:"joignez (Slot 1 = bonjour) et (Slot 2 = monde)",block_split:"divisez (Slot 1 = boujour monde) avec (Slot 2)",letter:"lettre",whitespace:"espace blanc",block_validate:"est (Slot 1 = 5) un (Slot 2)?",number:"num\u00e9ro",text:"texte","boolean":"bool\u00e9en",list:"liste",invalid_number:"num\u00e9ro invalide",block_when_flag_tapped:"quand (Icon) est tapot\u00e9",block_when_I_receive:"quand je re\u00e7ois (Slot 1)",any_message:"N'importe quel message",
"new":"neuf",block_when:"quand (Slot 1)",block_broadcast:"transmettre (Slot 1)",block_broadcast_and_wait:"transmettre (Slot 1) et attendez",block_message:"message",block_wait:"attendez (Slot 1) secondes",block_wait_until:"attend jusqu'\u00e0 (Slot 1)",block_repeat_forever:"r\u00e9p\u00e9tez pour toujours",block_repeat:"r\u00e9p\u00e9tez (Slot 1)",block_repeat_until:"r\u00e9p\u00e9tez jusqu'\u00e0 (Slot 1)",block_if:"si (Slot 1)",block_if_else:"si (Slot 1)","else":"autrement",block_stop:"stop (Slot 1)",
all:"tout",this_script:"ce script",all_but_this_script:"tout sauf ce script",Record_sound:"Enregistrez le son",block_play_recording:"jouez l' enregistrement (Slot 1)",block_play_recording_until_done:"jouez l' enregistrement jusqu'\u00e0 la fin (Slot 1)",block_play_sound:"jouez le son (Slot 1)",block_play_sound_until_done:"jouez le son jusqu'\u00e0 la fin (Slot 1)",block_stop_all_sounds:"arr\u00eatez tous les sons",block_rest_for:"reposez pour (Slot 1) Battement(s)",block_change_tempo_by:"changez le tempo de (Slot 1)",
block_set_tempo_to:"r\u00e9glez le tempo sur (Slot 1) bpm",block_tempo:"tempo",block_set_variable:"fixez (Slot 1) \u00e0 (Slot 2)",Create_Variable:"Cr\u00e9e une variable",block_change_variable:"changez (Slot 1) avec (Slot 2)",block_add_to_list:"ajoutez (Slot 1 = chose) \u00e0 (Slot 2)",Create_List:"Cr\u00e9ez une liste",block_delete_from_list:"supprimez (Slot 1) de (Slot 2)",block_insert_into_list:"ins\u00e9rez (Slot 1 = chose) \u00e0 (Slot 2) dans (Slot 3)",block_replace_list_item:"remplacez l'article (Slot 1) dans (Slot 2) avec (Slot 3 = chose)",
block_copy_list:"copiez (Slot 1) \u00e0 (Slot 2)",block_list_item:"item (Slot 1) de (Slot 2)",block_list_length:"longueur de (Slot 1)",block_list_contains:"(Slot 1) contient (Slot 2 = chose)",last:"Dernier",random:"Au hasard",Robots:"Robots",Operators:"Op\u00e9rateurs",Sound:"Son",Tablet:"Tablette",Control:"Contr\u00f4le",Variables:"Variables",Zoom_in:"Agrandir",Zoom_out:"D\u00e9zoomer",Reset_zoom:"R\u00e9initialiser le zoom",Disable_snap_noise:"D\u00e9sactiver le bruit d'accrochage",Enable_snap_noise:"Activer le bruit d'accrochage",
CompassCalibrate:"Calibrer le compas",Send_debug_log:"Envoyer un journal de d\u00e9bogage",Show_debug_menu:"Afficher le menu de d\u00e9bogage",Connect_Device:"Connecter le p\u00e9riph\u00e9rique",Connect_Multiple:"Connecter plusieurs",Disconnect_Device:"D\u00e9connecter le p\u00e9riph\u00e9rique",Tap:"Tapoter + pour connecter",Scanning_for_devices:"Recherche de p\u00e9riph\u00e9riques",Open:"Ouvrir",No_saved_programs:"Aucun programme sauv\u00e9",New:"Neuf",Saving:"Sauvegarde",On_Device:"Sur le p\u00e9riph\u00e9rique",
Cloud:"Cloud",Loading:"Chargement",Sign_in:"Se connecter",New_program:"Nouveau programme",Share:"Partager",Recordings:"Les enregistrements",Discard:"Jeter",Stop:"Stop",Pause:"Faire une pause",remaining:"restant",Record:"Enregistrer",Tap_record_to_start:"Tapotez pour commencer l' enregistrement",Done:"Fini",Delete:"Supprimer",Delete_question:"Supprimer vraiment?",Cancel:"Annuler",OK:"OK",Dont_delete:"Ne pas supprimer",Rename:"Renommer",Enter_new_name:"Entrez un nouveau nom",Duplicate:"Nom en double",
Name_duplicate_file:"Entrez le nom du fichier en double",Name_error_invalid_characters:"Les caract\u00e8res suivants ne peuvent pas \u00eatre inclus dans les noms de fichiers: \n",Name_error_already_exists:'" existe d\u00e9j\u00e0. Entrez un nom diff\u00e9rent.',Permission_denied:"Permission refus\u00e9e",Grant_permission:"Accorder une autorisation d'enregistrement \u00e0 BirdBlox dans les Param\u00e8tres",Dismiss:"Rejeter",Name:"Nom",Enter_file_name:"Entrez le nom du fichier",Name_error_blank:"Le nom ne peut pas \u00eatre vide. Entrez un nom de fichier",
Edit_text:"\u00c9diter le texte",Question:"Question",Connection_Failure:"\u00c9chec de connexion",Connection_failed_try_again:"La connexion a \u00e9chou\u00e9, veuillez r\u00e9essayer.",Disconnect_account:"D\u00e9connecter le compte",Disconnect_account_question:"",Dont_disconnect:"Ne pas d\u00e9connecter",Disconnect:"D\u00e9connecter",not_connected:"(Device) pas connect\u00e9",not_a_valid_number:"num\u00e9ro invalide",Intensity:"Intensit\u00e9",Angle:"Angle",Speed:"Vitesse",Note:"Note",Beats:"Battements",
Firmware_incompatible:"Firmware incompatible",Update_firmware:"Mettez \u00e0 jour le firmware",Device_firmware:"Version du firmware du p\u00e9riph\u00e9rique:",Required_firmware:"Version du firmware requise:",block_math_of_number:"(Slot 1) (Slot 2 = 10)",ceiling:"ceiling",floor:"floor",abs:"abs",sqrt:"sqrt",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",block_divide:"(Slot 1) / (Slot 2)",block_finch_move:"D\u00e9placer (Slot 1) (Slot 2) cm sur (Slot 3)%",block_finch_turn:"Tournez (Slot 1) (Slot 2) \u00b0 \u00e0 (Slot 3)%",
block_finch_motors:"Roues L (Slot 1)% R (Slot 2)%",block_finch_beak:"Bec R (Slot 1) % G (Slot 2) % B (Slot 3)%",block_finch_tail:"Queue (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4)%",block_finch_reset_encoders:"R\u00e9initialiser les encodeurs",block_encoder:"(Slot 1) Encodeur",Line:"Ligne",Forward:"En avant",Backward:"En arri\u00e8re",Right:"Droit",Left:"Gauche",Beak_Up:"Bec en haut",Beak_Down:"Bec en bas",Finch_Is_Level:"Horizontale",Upside_Down:"\u00c0 l'envers",logo:"Logo",V2_required:"V2 micro:bit requise",
Temperature:"Temp\u00e9rature"};
Language.he={block_Tri_LED:"R (Slot 2) G % (Slot 3) B % (Slot 4) % (Slot 1) \u05dc\u05d3 \u05e9\u05dc\u05d5\u05e9\u05d4 \u05e6\u05d1\u05e2\u05d9\u05dd",port:"\u05d9\u05e6\u05d9\u05d0\u05d4",block_LED:"% (Slot 2) (Slot 1) \u05dc\u05d3",block_Position_Servo:"(Slot 2) (Slot 1) \u05e1\u05e8\u05d5\u05d5 \u05db\u05d9\u05d5\u05d5\u05df",block_Rotation_Servo:"% (Slot 2) (Slot 1) \u05e1\u05e8\u05d5\u05d5 \u05e1\u05d9\u05d1\u05d5\u05d1\u05d9\u05dd",block_Play_Note:"\u05e4\u05e2\u05d9\u05de\u05d5\u05ea (Slot 2) \u05d1\u05de\u05e9\u05da (Slot 1) \u05e0\u05d2\u05df \u05ea\u05d5",block_play_note:"\u05e4\u05e2\u05d9\u05de\u05d5\u05ea (Slot 2) \u05d1\u05de\u05e9\u05da (Slot 1) \u05e0\u05d2\u05df \u05ea\u05d5",
Light:"\u05d0\u05d5\u05e8",Distance:"\u05de\u05e8\u05d7\u05e7",Dial:"\u05d7\u05d9\u05d5\u05d2",Other:"\u05d0\u05d7\u05e8",Accelerometer:"\u05d7\u05d9\u05d9\u05e9\u05df \u05ea\u05d0\u05d5\u05e6\u05d4",Magnetometer:"\u05d7\u05d9\u05e9\u05df \u05de\u05d2\u05e0\u05d8\u05d9",block_LED_Display:"\u05de\u05e1\u05da",block_Print:"(Slot 1 = Hello) \u05d4\u05d3\u05e4\u05e1",block_Button:"(Slot 1) \u05dc\u05d7\u05e6\u05df",Screen_Up:"\u05dc\u05d4\u05e2\u05dc\u05d5\u05ea \u05de\u05e1\u05da",Screen_Down:"\u05dc\u05d4\u05d5\u05e8\u05d9\u05d3 \u05de\u05e1\u05da",
Tilt_Left:"\u05d4\u05d8\u05d9\u05d9\u05d4 \u05dc\u05e9\u05de\u05d0\u05dc ",Tilt_Right:"\u05d4\u05d8\u05d9\u05d9\u05d4 \u05dc\u05d9\u05de\u05d9\u05df",Logo_Up:"\u05dc\u05d4\u05e2\u05dc\u05d5\u05ea  \u05dc\u05d5\u05d2\u05d5",Logo_Down:"\u05dc\u05d4\u05d5\u05e8\u05d9\u05d3 \u05dc\u05d5\u05d2\u05d5",Shake:"\u05dc\u05e0\u05e2\u05e8",block_Compass:"\u05de\u05e6\u05e4\u05df",block_Servo:"(Slot 2) (Slot 1) \u05e1\u05e8\u05d5\u05d5",block_Vibration:"(Slot 2) (Slot 1) \u05e8\u05d8\u05d8",block_Motor:"(Slot 2) (Slot 1) \u05de\u05e0\u05d5\u05e2",
block_Temperature_C:"(Slot 1) C \u05d8\u05de\u05e4\u05e8\u05d8\u05d5\u05e8\u05d4",block_Temperature_F:"(Slot 1) F \u05d8\u05de\u05e4\u05e8\u05d8\u05d5\u05e8\u05d4",block_write:"% (Slot 2) (Slot 1) \u05db\u05ea\u05d5\u05d1",pin:"\u05e1\u05d9\u05db\u05d4",block_read:"(Slot 1) \u05e7\u05d5\u05e8\u05d0",block_Device_Shaken:"\u05d8\u05d0\u05d1\u05dc\u05d8 \u05de\u05e0\u05d5\u05e2\u05e8",block_Device_LatLong:"(Slot 1) \u05d8\u05d0\u05d1\u05dc\u05d8",Latitude:"\u05e7\u05d5 \u05e8\u05d5\u05d7\u05d1",Longitude:"\u05e7\u05d5 \u05d0\u05d5\u05e8\u05da",
block_Device_SSID:"SSID \u05d8\u05d0\u05d1\u05dc\u05d8",block_Device_Pressure:"\u05dc\u05d7\u05e5 \u05e2\u05dc \u05d4\u05d8\u05d0\u05d1\u05dc\u05d8",block_Device_Relative_Altitude:"\u05d2\u05d5\u05d1\u05d4 \u05d9\u05d7\u05e1\u05d9 \u05e9\u05dc \u05d4\u05d8\u05d0\u05d1\u05dc\u05d8",block_Acceleration:"(Slot 1) \u05d8\u05d0\u05d1\u05dc\u05d8 \u05d7\u05d9\u05d9\u05e9\u05df \u05ea\u05d0\u05d5\u05e6",Total:"\u05e1\u05d4''\u05db",block_Device_Orientation:"(Slot 1) \u05d8\u05d0\u05d1\u05dc\u05d8",faceup:"\u05dc\u05e2\u05dc\u05d5\u05ea \u05de\u05e1\u05da",
facedown:"\u05dc\u05d4\u05d5\u05e8\u05d9\u05d3 \u05de\u05e1\u05da",portrait_bottom:"\u05dc\u05d4\u05d5\u05e8\u05d9\u05d3 \u05de\u05e6\u05dc\u05de\u05d4",portrait_top:"\u05dc\u05e2\u05dc\u05d5\u05ea \u05de\u05e6\u05dc\u05de\u05d4",landscape_left:"\u05de\u05e6\u05dc\u05de\u05d4 \u05dc\u05e9\u05de\u05d0\u05dc",landscape_right:"\u05de\u05e6\u05dc\u05de\u05d4 \u05dc\u05d9\u05de\u05d9\u05df",in_between:"\u05d0\u05d7\u05e8",block_Display:"(Slot 2) \u05d1 (Slot 1 = \u05e9\u05dc\u05d5\u05dd) \u05dc\u05d4\u05e6\u05d9\u05d2 ",
position:"\u05db\u05d9\u05d5\u05d5\u05df",block_ask:"\u05d5\u05dc\u05d7\u05db\u05d5\u05ea (Slot 1 = \u05de\u05d4 \u05e9\u05de\u05da?) \u05dc\u05e9\u05d0\u05d5\u05dc",block_answer:"\u05dc\u05e2\u05e0\u05d5\u05ea",block_reset_timer:"\u05d0\u05d9\u05e4\u05d5\u05e1 \u05d8\u05d9\u05d9\u05de\u05e8",block_timer:"\u05d8\u05d9\u05d9\u05de\u05e8",block_current:"(Slot 1) \u05e0\u05d5\u05db\u05d7\u05d9",date:"\u05ea\u05d0\u05e8\u05d9\u05da",year:"\u05e9\u05e0\u05d4",month:"\u05d7\u05d5\u05d3\u05e9",hour:"\u05e9\u05e2\u05d4",
minute:"\u05d3\u05e7\u05d4",second:"\u05e9\u05e0\u05d9\u05d4",day_of_the_week:"\u05d9\u05d5\u05dd",time_in_milliseconds:"\u05d6\u05de\u05df \u05d1\u05de\u05d9\u05dc\u05d9\u05e9\u05e0\u05d9\u05d5\u05ea ",block_mod:"(Slot 1) \u05de\u05e6\u05d1 (Slot 2)",block_round:"(Slot 1) \u05e1\u05d9\u05d1\u05d5\u05d1",block_pick_random:"(Slot 2) (Slot 1) \u05d1\u05d7\u05d9\u05e8\u05d4 \u05d0\u05e7\u05e8\u05d0\u05d9\u05ea",block_and:"(Slot 2) \u05d5 (Slot 1)",block_or:"(Slot 2) \u05d0\u05d5 (Slot 1)",block_not:"(Slot 1) \u05dc\u05d0",
"true":"\u05d0\u05de\u05ea","false":"\u05e9\u05e7\u05e8",block_letter:"(Slot 2 = \u05e2\u05d5\u05dc\u05dd) \u05d1 (Slot 1) \u05d0\u05d5\u05ea",block_length:"(Slot 1 = \u05e2\u05d5\u05dc\u05dd) \u05d0\u05d5\u05e8\u05da",block_join:"(Slot 2 = \u05e2\u05d5\u05dc\u05dd) \u05d5 (Slot 1 = \u05e9\u05dc\u05d5\u05dd) \u05d7\u05d9\u05d1\u05d5\u05e8",block_split:"(Slot 2) \u05d1 (Slot 1 = \u05e9\u05dc\u05d5\u05dd \u05e2\u05d5\u05dc\u05dd) \u05e4\u05d9\u05e8\u05d5\u05e7",letter:"\u05d0\u05d5\u05ea",whitespace:"\u05e8\u05d5\u05d5\u05d7",
block_validate:"(Slot 2) (Slot 1 = 5) \u05d6\u05d4",number:"\u05de\u05e1\u05e4\u05e8",text:"\u05d8\u05e7\u05e1\u05d8","boolean":"\u05d1\u05d5\u05dc\u05d9\u05d0\u05e0\u05d9",list:"\u05e8\u05e9\u05d9\u05de\u05d4",invalid_number:"\u05de\u05e1\u05e4\u05e8 \u05dc\u05d0 \u05d7\u05d5\u05e7\u05d9",block_when_flag_tapped:"\u05d4\u05d5\u05e7\u05e9 (Icon) \u05db\u05d0\u05e9\u05e8",block_when_I_receive:"\u05db\u05d0\u05e9\u05e8 \u05d0\u05e0\u05d9 \u05de\u05e7\u05d1\u05dc",any_message:"\u05d4\u05d5\u05d3\u05e2\u05d4",
"new":"\u05d7\u05d3\u05e9",block_when:"(Slot 1) \u05db\u05d0\u05e9\u05e8",block_broadcast:"(Slot 1) \u05dc\u05e9\u05d3\u05e8",block_broadcast_and_wait:"\u05d5\u05dc\u05d7\u05db\u05d5\u05ea (Slot 1) \u05dc\u05e9\u05d3\u05e8",block_message:"\u05d4\u05d5\u05d3\u05e2\u05d4",block_wait:"\u05e9\u05e0\u05d9\u05d5\u05ea (Slot 1) \u05d7\u05db\u05d4",block_wait_until:"(Slot 1) \u05d7\u05db\u05d4 \u05e2\u05d3",block_repeat_forever:"\u05d7\u05d6\u05d5\u05e8 \u05dc\u05e2\u05d5\u05dc\u05de\u05d9\u05dd",block_repeat:"(Slot 1) \u05d7\u05d6\u05d5\u05e8",
block_repeat_until:"(Slot 1) \u05d7\u05d6\u05d5\u05e8 \u05e2\u05d3 \u05e9",block_if:"(Slot 1) \u05d0\u05dd",block_if_else:"(Slot 1) \u05d0\u05dd","else":"\u05d0\u05d6",block_stop:"(Slot 1) \u05dc\u05d4\u05e4\u05e1\u05d9\u05e7",all:"\u05d4\u05db\u05dc",this_script:"\u05ea\u05e1\u05e8\u05d9\u05d8 \u05d6\u05d4",all_but_this_script:"\u05d4\u05db\u05dc \u05de\u05dc\u05d1\u05d3 \u05ea\u05e1\u05e8\u05d9\u05d8 \u05d6\u05d4",Record_sound:"\u05d4\u05e7\u05dc\u05d8 \u05e7\u05d5\u05dc",block_play_recording:"(Slot 1) \u05dc\u05d4\u05e4\u05e2\u05d9\u05dc \u05d4\u05e7\u05dc\u05d8\u05d4",
block_play_recording_until_done:"(Slot 1) \u05dc\u05d4\u05e4\u05e2\u05d9\u05dc \u05d4\u05e7\u05dc\u05d8\u05d4 \u05e2\u05d3 \u05e1\u05d9\u05d5\u05dd \u05d4\u05ea\u05e1\u05e8\u05d9\u05d8",block_play_sound:"(Slot 1) \u05dc\u05d4\u05e4\u05e2\u05d9\u05dc \u05e7\u05d5\u05dc",block_play_sound_until_done:"(Slot 1) \u05dc\u05d4\u05e4\u05e2\u05d9\u05dc \u05e7\u05d5\u05dc \u05e2\u05d3 \u05e1\u05d9\u05d5\u05dd \u05d4\u05ea\u05e1\u05e8\u05d9\u05d8",block_stop_all_sounds:"\u05dc\u05d4\u05e4\u05e1\u05d9\u05e7  \u05db\u05dc \u05d4\u05e6\u05dc\u05d9\u05dc\u05d9\u05dd\u05dd",
block_rest_for:"\u05e4\u05e2\u05d9\u05de\u05d5\u05ea (Slot 1) \u05dc\u05d7\u05db\u05d5\u05ea",block_change_tempo_by:"(Slot 1) \u05e9\u05e0\u05d4 \u05d6\u05de\u05df \u05d1",block_set_tempo_to:"bpm (Slot 1) \u05dc\u05d4\u05d2\u05d3\u05d9\u05e8 \u05d6\u05de\u05df \u05d1",block_tempo:"\u05d6\u05de\u05df",block_set_variable:"(Slot 2) \u05dc (Slot 1) \u05dc\u05d4\u05d2\u05d3\u05d9\u05e8",Create_Variable:"\u05e6\u05d5\u05e8 \u05de\u05e9\u05ea\u05e0\u05d4",block_change_variable:"(Slot 2) \u05d1 (Slot 1) \u05e9\u05d9\u05e0\u05d5\u05d9",
Rename:"\u05e9\u05dd \u05d7\u05d3\u05e9",Delete:"\u05de\u05d7\u05e7",block_add_to_list:"(Slot 2) \u05d1 (Slot 1 = \u05d0\u05d5\u05d1\u05d9\u05d9\u05e7\u05d8) \u05d4\u05d5\u05e1\u05e3",Create_List:"\u05e6\u05d5\u05e8 \u05e8\u05e9\u05d9\u05de\u05d4",block_delete_from_list:"(Slot 2) \u05e9\u05dc (Slot 1) \u05de\u05d7\u05e7",block_insert_into_list:"(Slot 3) \u05e9\u05dc (Slot 2) \u05d1 (Slot 1 = \u05d0\u05d5\u05d1\u05d9\u05d9\u05e7\u05d8) \u05d4\u05d5\u05e1\u05e3",block_replace_list_item:"(Slot 3 = \u05d0\u05d5\u05d1\u05d9\u05d9\u05e7\u05d8) \u05e2\u05dd (Slot 2) \u05e9\u05dc (Slot 1) \u05d4\u05d7\u05dc\u05e3 \u05e4\u05e8\u05d9\u05d8",
block_copy_list:"(Slot 2) \u05dc (Slot 1) \u05e2\u05ea\u05e7",block_list_item:"(Slot 2) \u05e9\u05dc (Slot 1) \u05e4\u05e8\u05d9\u05d8",block_list_length:"(Slot 1) \u05d0\u05d5\u05e8\u05da \u05e9\u05dc",block_list_contains:"(Slot 2 = \u05d0\u05d5\u05d1\u05d9\u05d9\u05e7\u05d8)    \u05de\u05db\u05d9\u05dc (Slot 1)",last:"\u05d0\u05d7\u05e8\u05d5\u05df",random:"\u05d0\u05e7\u05e8\u05d0\u05d9\u05ea",Robots:"\u05e8\u05d5\u05d1\u05d5\u05d8\u05d9\u05dd",Operators:"\u05de\u05e4\u05e2\u05d9\u05dc\u05d9\u05dd",
Sound:"\u05e7\u05d5\u05dc",Tablet:"\u05d8\u05d0\u05d1\u05dc\u05d8",Control:"\u05d1\u05e7\u05e8\u05d4",Variables:"\u05de\u05e9\u05ea\u05e0\u05d9\u05dd",Zoom_in:"\u05dc\u05e7\u05e8\u05d1 \u05d6\u05d5\u05dd",Zoom_out:"\u05dc\u05d4\u05e8\u05d7\u05d9\u05e7 \u05d6\u05d5\u05dd",Reset_zoom:"\u05d0\u05ea\u05d7\u05d5\u05dc \u05d6\u05d5\u05dd",Disable_snap_noise:"\u05dc\u05d1\u05d8\u05dc \u05db\u05dc \u05d4\u05e6\u05dc\u05d9\u05dc\u05d9\u05dd",Enable_snap_noise:"\u05dc\u05d0\u05e4\u05e9\u05e8 \u05e6\u05dc\u05d9\u05dc\u05d9\u05dd",
CompassCalibrate:"\u05db\u05d9\u05d5\u05dc \u05de\u05e6\u05e4\u05df",Send_debug_log:"\u05e9\u05dc\u05d7 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea  \u05d1\u05d3\u05d9\u05e7\u05d4",Show_debug_menu:"\u05e4\u05ea\u05d7 \u05ea\u05e4\u05e8\u05d9\u05d8 \u05d1\u05d3\u05d9\u05e7\u05d4",Connect_Device:"\u05d7\u05d9\u05d1\u05e8 \u05d4\u05ea\u05e7\u05df ",Connect_Multiple:"\u05d7\u05d9\u05d1\u05e8 \u05e8\u05d1 \u05d4\u05ea\u05e7\u05e0\u05d9\u05dd",Disconnect_Device:"\u05e0\u05ea\u05e7 \u05d4\u05ea\u05e7\u05df",Tap:"\u05d4\u05e7\u05e9 + \u05dc\u05d7\u05d9\u05d1\u05d5\u05e8",
Scanning_for_devices:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d4\u05ea\u05e7\u05e0\u05d9\u05dd",Open:"\u05e4\u05ea\u05d7",No_saved_programs:"\u05ea\u05d5\u05db\u05e0\u05d9\u05d5\u05ea \u05dc\u05d0 \u05e9\u05de\u05d5\u05e8\u05d5\u05ea",New:"\u05d7\u05d3\u05e9",Saving:"\u05e9\u05de\u05d9\u05e8\u05d4",On_Device:"\u05d4\u05ea\u05e7\u05df",Cloud:"\u05e2\u05e0\u05df",Loading:"\u05d8\u05d5\u05e2\u05df",Sign_in:"\u05db\u05e0\u05d9\u05e1\u05d4",New_program:"\u05ea\u05db\u05e0\u05d9\u05ea \u05d7\u05d3\u05e9\u05d4",
Share:"\u05e9\u05ea\u05e3",Recordings:"\u05d4\u05e7\u05dc\u05d8\u05d5\u05ea",Discard:"\u05dc\u05d1\u05d8\u05dc",Stop:"\u05dc\u05d4\u05e4\u05e1\u05d9\u05e7",Pause:"\u05d4\u05e9\u05d4\u05d9\u05d9\u05d4",remaining:"\u05e0\u05d5\u05ea\u05e8",Record:"\u05dc\u05d4\u05e7\u05dc\u05d9\u05d8",Tap_record_to_start:"\u05d4\u05e7\u05e9 \u05d4\u05e7\u05dc\u05d8\u05d4 \u05db\u05d3\u05d9 \u05dc\u05d4\u05ea\u05d7\u05d9\u05dc",Done:"\u05de\u05d5\u05db\u05df",Delete_question:"\u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05e8\u05d5\u05e6\u05d4 \u05dc\u05de\u05d7\u05d5\u05e7?",
Cancel:"\u05d1\u05d8\u05dc",OK:"\u05d0\u05d9\u05e9\u05d5\u05e8",Dont_delete:"\u05dc\u05d0 \u05dc\u05de\u05d7\u05d5\u05e7",Enter_new_name:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05d7\u05d3\u05e9",Duplicate:"\u05e9\u05db\u05e4\u05dc",Name_duplicate_file:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05dc\u05e7\u05d5\u05d1\u05e5 \u05d4\u05de\u05e9\u05d5\u05db\u05e4\u05dc",Name_error_invalid_characters:"\u05d0\u05d9\u05df \u05dc\u05d4\u05db\u05e0\u05d9\u05e1 \u05e1\u05d9\u05de\u05e0\u05d9\u05dd \u05d0\u05dc\u05d5 \u05d1\u05e9\u05de\u05d5\u05ea \u05d4\u05e7\u05d1\u05e6\u05d9\u05dd :  \n",
Name_error_already_exists:'" \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd. \u05db\u05ea\u05d5\u05d1 \u05e9\u05dd \u05e9\u05d5\u05e0\u05d4',Permission_denied:"\u05d4\u05d4\u05e8\u05e9\u05d0\u05d4 \u05e0\u05d3\u05d7\u05ea\u05d4",Grant_permission:"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05d4\u05e7\u05dc\u05d8\u05d4 \u05de\u05d9\u05d5\u05d7\u05d3 \u05dc\u05d1\u05d9\u05e8\u05d3\u05d1\u05dc\u05d5\u05e7\u05e1 \u05d1\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea ",Dismiss:"\u05dc\u05d1\u05d8\u05dc",Name:"\u05e9\u05dd",Enter_file_name:"\u05db\u05ea\u05d5\u05d1 \u05e9\u05dd \u05dc\u05e7\u05d5\u05d1\u05e5",
Name_error_blank:"\u05e9\u05dd \u05dc\u05d0 \u05d9\u05db\u05d5\u05dc \u05dc\u05d4\u05d9\u05d5\u05ea \u05e8\u05d9\u05e7. \u05db\u05ea\u05d5\u05d1 \u05e9\u05dd \u05dc\u05e7\u05d5\u05d1\u05e5",Edit_text:"\u05e2\u05e8\u05d9\u05db\u05ea \u05d8\u05e7\u05e1\u05d8",Question:"\u05e9\u05d0\u05dc\u05d4",Connection_Failure:"\u05d7\u05d9\u05d1\u05d5\u05e8 \u05e0\u05db\u05e9\u05dc",Connection_failed_try_again:"\u05d7\u05d9\u05d1\u05d5\u05e8 \u05e0\u05db\u05e9\u05dc, \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1 \u05d1\u05d1\u05e7\u05e9\u05d4",
Disconnect_account:"\u05e0\u05ea\u05e7 \u05d7\u05e9\u05d1\u05d5\u05df",Disconnect_account_question:"\u05dc\u05e0\u05ea\u05e7 \u05d7\u05e9\u05d1\u05d5\u05df?",Dont_disconnect:"\u05dc\u05d0 \u05dc\u05e0\u05ea\u05e7",Disconnect:"\u05e0\u05ea\u05e7",not_connected:"\u05dc\u05d0 \u05de\u05d7\u05d5\u05d1\u05e8 (Device)",not_a_valid_number:"\u05de\u05e1\u05e4\u05e8 \u05dc\u05d0 \u05d7\u05d5\u05e7\u05d9",Intensity:"\u05e2\u05e6\u05de\u05d4",Angle:"\u05d6\u05d5\u05d5\u05d9\u05ea",Speed:"\u05de\u05d4\u05d9\u05e8\u05d5\u05ea",
Note:"\u05d4\u05e2\u05e8\u05d4",Beats:"\u05e4\u05e2\u05d9\u05de\u05d5\u05ea",Firmware_incompatible:"\u05d4\u05e7\u05e9\u05d5\u05d7\u05d4 \u05d0\u05d9\u05e0\u05d4 \u05ea\u05d5\u05d0\u05de\u05ea",Update_firmware:"\u05e2\u05d3\u05db\u05d5\u05df \u05e7\u05e9\u05d5\u05d7\u05d4",Device_firmware:"\u05d2\u05d9\u05e8\u05e1\u05d4 \u05e7\u05e9\u05d5\u05d7\u05d4 \u05d1\u05d4\u05ea\u05e7\u05df",Required_firmware:"\u05e0\u05d9\u05d3\u05e8\u05e9\u05ea \u05e7\u05e9\u05d5\u05d7\u05d4  \u05d2\u05d9\u05e8\u05e1\u05d4: ",
block_math_of_number:"(Slot 1) (Slot 2 = 10)",ceiling:"ceiling",floor:"floor",abs:"abs",sqrt:"sqrt",CM:"\u05e1\u05d9\u05d9\u05de",Inch:"\u05d0\u05d9\u05e0\u05e5",block_subtract:"(Slot 1) \u2013 (Slot 2)",block_divide:"(Slot 1) / (Slot 2)",block_finch_move:"\u05d6\u05d5\u05d6 (Slot 1) (Slot 2) \u05e1''\u05de \u05d1 (Slot 3) %",block_finch_turn:"\u05d4\u05e1\u05ea\u05d5\u05d1\u05d1 (Slot 1) (Slot 2) \u05de\u05e2\u05dc\u05d5\u05ea \u05d1 (Slot 3) %",block_finch_motors:"\u05d2\u05dc\u05d2\u05dc\u05d9\u05dd \u05e9\u05de\u05d0\u05dc (Slot 1) % \u05d9\u05de\u05d9\u05df (Slot 2) %",
block_finch_beak:"\u05de\u05e7\u05d5\u05e8 \u05d0\u05d3\u05d5\u05dd (Slot 1) % \u05d9\u05e8\u05d5\u05e7 (Slot 2) % \u05db\u05d7\u05d5\u05dc (Slot 3) %",block_finch_tail:"\u05d6\u05e0\u05d1 (Slot 1) \u05d0\u05d3\u05d5\u05dd (Slot 2) % \u05d9\u05e8\u05d5\u05e7 (Slot 3) % \u05db\u05d7\u05d5\u05dc (Slot 4) %",block_finch_reset_encoders:"\u05dc\u05d0\u05e4\u05e1 \u05e7\u05d5\u05d3\u05d0\u05d9",block_encoder:"(Slot 1) \u05e7\u05d5\u05d3\u05d0\u05d9",Line:"\u05e7\u05d5",Forward:"\u05e7\u05d3\u05d9\u05de\u05d4",
Backward:"\u05d0\u05d7\u05d5\u05e8\u05d4",Right:"\u05d9\u05de\u05d9\u05e0\u05d4",Left:"\u05e9\u05de\u05d0\u05dc\u05d4",Beak_Up:"\u05dc\u05e2\u05dc\u05d5\u05ea \u05d0\u05ea \u05d4\u05de\u05e7\u05d5\u05e8",Beak_Down:"\u05dc\u05d4\u05d5\u05e8\u05d9\u05d3 \u05d0\u05ea \u05d4\u05de\u05e7\u05d5\u05e8",Finch_Is_Level:"\u05e8\u05de\u05d4",Upside_Down:"\u05d4\u05e4\u05d5\u05da",logo:"\u05dc\u05d5\u05d2\u05d5",V2_required:"V2 micro:bit \u05e0\u05d9\u05d3\u05e8\u05e9\u05ea",Temperature:"\u05d8\u05de\u05e4\u05e8\u05d8\u05d5\u05e8\u05d4"};
Language.ko={block_Tri_LED:"\uc0bc\uc0c9 LED (Slot 1) \ube68\uac15 (Slot 2) % \ucd08\ub85d (Slot 3) % \ud30c\ub791 (Slot 4) %",port:"\ud3ec\ud2b8",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"\uc704\uce58 \uc81c\uc5b4 \uc11c\ubcf4 (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"\ud68c\uc804\uc18d\ub3c4 \uc81c\uc5b4 \uc11c\ubcf4 (Slot 1) (Slot 2) %",block_Play_Note:"(Slot 1) \ubc88 \uc74c\uc744 (Slot 2) \ubc15\uc790\ub85c \uc5f0\uc8fc\ud558\uae30",block_play_note:"(Slot 1) \ubc88 \uc74c\uc744 (Slot 2) \ubc15\uc790\ub85c \uc5f0\uc8fc\ud558\uae30",
Light:"\ube5b \uc13c\uc11c",Distance:"\uac70\ub9ac \uc13c\uc11c",Dial:"\uac00\ubcc0 \uc800\ud56d",Other:"\ub2e4\ub978 \uc13c\uc11c",Accelerometer:"\uac00\uc18d\ub3c4 \uc13c\uc11c",Magnetometer:"\uc790\uae30\ub825 \uc13c\uc11c",block_LED_Display:"\ubcf4\uc774\uae30",block_Print:"\ucd9c\ub825 (Slot 1 = Hello)",block_Button:"\ubc84\ud2bc (Slot 1)",Screen_Up:"\ud654\uba74 \ud558\ub298 \ubc29\ud5a5",Screen_Down:"\ud654\uba74 \ub545 \ubc29\ud5a5",Tilt_Left:"\uc67c\ucabd \uae30\uc6b8\uc784",Tilt_Right:"\uc624\ub978\ucabd \uae30\uc6b8\uc784",
Logo_Up:"\ub85c\uace0 \ud558\ub298 \ubc29\ud5a5",Logo_Down:"\ub85c\uace0 \ub545 \ubc29\ud5a5",Shake:"\ud754\ub4e4\ub9bc",block_Compass:"\ub098\uce68\ubc18 \uc13c\uc11c",block_Servo:"\uc11c\ubcf4 (Slot 1) (Slot 2)",block_Vibration:"\uc9c4\ub3d9 (Slot 1) (Slot 2)",block_Motor:"\uae30\uc5b4 \ubaa8\ud130 (Slot 1) (Slot 2)",block_Temperature_C:"\uc628\ub3c4(\uc12d\uc528) \uc13c\uc11c (Slot 1) ",block_Temperature_F:"\uc628\ub3c4(\ud654\uc528) \uc13c\uc11c (Slot 1) ",block_write:"\ucd9c\ub825 (Slot 1) \uac12 (Slot 2) %",
pin:"\ud540",block_read:"\uc785\ub825 (Slot 1)",block_Device_Shaken:"\ud0dc\ube14\ub9bf\uc774 \ud754\ub4e4\ub838\ub294\uac00?",block_Device_LatLong:"\ud0dc\ube14\ub9bf (Slot 1)",Latitude:"\uc704\ub3c4",Longitude:"\uacbd\ub3c4",block_Device_SSID:"\ud0dc\ube14\ub9bf SSID(\ub124\ud2b8\uc6cc\ud06c \uc774\ub984)",block_Device_Pressure:"\ud0dc\ube14\ub9bf \uae30\uc555",block_Device_Relative_Altitude:"\ud0dc\ube14\ub9bf \uace0\ub3c4",block_Acceleration:"\ud0dc\ube14\ub9bf \uac00\uc18d\ub3c4 \uc13c\uc11c (Slot 1)",
Total:"\uc804\uccb4",block_Device_Orientation:"\ud14c\ube14\ub9bf (Slot 1)",faceup:"\ud654\uba74 \ud558\ub298 \ubc29\ud5a5",facedown:"\ud654\uba74 \ub545 \ubc29\ud5a5",portrait_bottom:"\uce74\uba54\ub77c \uc544\ub798\ub85c",portrait_top:"\uce74\uba54\ub77c \uc704\ub85c",landscape_left:"\uce74\uba54\ub77c \uc67c\ucabd\uc73c\ub85c",landscape_right:"\uce74\uba54\ub77c \uc624\ub978\ucabd\uc73c\ub85c",in_between:"\uadf8 \uc678",block_Display:"(Slot 1 = \uc548\ub155) \ubcf4\uc774\uae30 \uc704\uce58: (Slot 2)",
position:"\uc704\uce58",block_ask:"(Slot 1 = \uc774\ub984\uc774 \ubb34\uc5c7\uc774\ub2c8?) \ubb3b\uace0 \uae30\ub2e4\ub9ac\uae30",block_answer:"\ub300\ub2f5",block_reset_timer:"\ud0c0\uc774\uba38 \ucd08\uae30\ud654",block_timer:"\ud0c0\uc774\uba38",block_current:"\ud604\uc7ac (Slot 1)",date:"\uc77c",year:"\ub144",month:"\uc6d4",hour:"\uc2dc\uac04",minute:"\ubd84",second:"\ucd08",day_of_the_week:"\uc694\uc77c",time_in_milliseconds:"\ubc00\ub9ac\ucd08",block_mod:"(Slot 1) \ub098\ub204\uae30 (Slot 2) \uc758 \ub098\uba38\uc9c0",
block_round:"(Slot 1) \uc758 \ubc18\uc62c\ub9bc",block_math_of_number:"(Slot 2 = 10) \uc758 (Slot 1)",ceiling:"\uc62c\ub9bc",floor:"\ubc84\ub9bc",abs:"\uc808\ub300\uac12",sqrt:"\uc81c\uacf1\uadfc",block_pick_random:"(Slot 1) \ubd80\ud130 (Slot 2) \uc0ac\uc774\uc758 \uc784\uc758\uc758 \uc218",block_and:"(Slot 1) \uadf8\ub9ac\uace0 (Slot 2)",block_or:"(Slot 1) \ub610\ub294 (Slot 2)",block_not:"(Slot 1) \uc774/\uac00 \uc544\ub2c8\ub2e4","true":"\ucc38","false":"\uac70\uc9d3",block_letter:"(Slot 2 = \uce5c\uad6c\ub4e4) \uc758 (Slot 1) \ubc88\uc9f8 \uae00\uc790",
block_length:"(Slot 1 = \uce5c\uad6c\ub4e4) \uc758 \uae00\uc790 \uc218",block_join:"(Slot 1 = \uc548\ub155) \uc640/\uacfc (Slot 2 = \uce5c\uad6c\ub4e4) \ud569\uce58\uae30",block_split:"(Slot 1 = \uc548\ub155 \uce5c\uad6c\ub4e4) \uc744/\ub97c (Slot 2) (\uc73c)\ub85c \ub098\ub204\uae30",letter:"\uae00\uc790",whitespace:"\uc5ec\ubc31",block_validate:"(Slot 1 = 5) \uc774/\uac00 (Slot 2) \uc778\uac00?",number:"\uc22b\uc790",text:"\ubb38\uc790","boolean":"\ubd80\uc6b8",list:"\ub9ac\uc2a4\ud2b8",invalid_number:"\ubd80\uc801\uc808\ud55c \uac12",
block_when_flag_tapped:"(Icon) \uc744 \ub20c\ub800\uc744 \ub54c",block_when_I_receive:"(Slot 1) \uc744/\ub97c \ubc1b\uc558\uc744 \ub54c",any_message:"\uc5b4\ub5a4 \uba54\uc2dc\uc9c0\ub4e0","new":"\uc0c8 \uba54\uc2dc\uc9c0",block_when:"(Slot 1) \uc77c \ub54c",block_broadcast:"(Slot 1) \ubc29\uc1a1\ud558\uae30",block_broadcast_and_wait:"(Slot 1) \ubc29\uc1a1\ud558\uace0 \uae30\ub2e4\ub9ac\uae30",block_message:"\uba54\uc2dc\uc9c0",block_wait:"(Slot 1) \ucd08 \uae30\ub2e4\ub9ac\uae30",block_wait_until:"(Slot 1) \uae4c\uc9c0 \uae30\ub2e4\ub9ac\uae30",
block_repeat_forever:"\ubb34\ud55c \ubc18\ubcf5\ud558\uae30",block_repeat:"(Slot 1) \ubc88 \ubc18\ubcf5\ud558\uae30",block_repeat_until:"(Slot 1) \uae4c\uc9c0 \ubc18\ubcf5\ud558\uae30",block_if:"\ub9cc\uc57d (Slot 1) (\uc774)\ub77c\uba74",block_if_else:"\ub9cc\uc57d (Slot 1) (\uc774)\ub77c\uba74","else":"\uc544\ub2c8\uba74",block_stop:"(Slot 1) \uba48\ucd94\uae30",all:"\ubaa8\ub450",this_script:"\uc774 \uc2a4\ud06c\ub9bd\ud2b8",all_but_this_script:"\uc774 \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc81c\uc678\ud55c \ub2e4\ub978 \uc2a4\ud06c\ub9bd\ud2b8",
Record_sound:"\uc18c\ub9ac \ub179\uc74c\ud558\uae30",block_play_recording:"\ub179\uc74c \uc7ac\uc0dd\ud558\uae30 (Slot 1) ",block_play_recording_until_done:"\ub179\uc74c \ub05d\uae4c\uc9c0 \uc7ac\uc0dd\ud558\uae30 (Slot 1) ",block_play_sound:"(Slot 1) \uc7ac\uc0dd\ud558\uae30",block_play_sound_until_done:"(Slot 1) \ub05d\uae4c\uc9c0 \uc7ac\uc0dd\ud558\uae30",block_stop_all_sounds:"\ubaa8\ub4e0 \uc18c\ub9ac \uba48\ucd94\uae30",block_rest_for:"(Slot 1) \ubc15\uc790 \uc26c\uae30",block_change_tempo_by:"\ube60\ub974\uae30\ub97c (Slot 1) \ub9cc\ud07c \ubc14\uafb8\uae30",
block_set_tempo_to:"\ube60\ub974\uae30\ub97c (Slot 1) bpm\uc73c\ub85c \uc815\ud558\uae30",block_tempo:"\ubc15\uc790",block_set_variable:"(Slot 1) \uc744/\ub97c (Slot 2) \uc73c\ub85c \uc815\ud558\uae30",Create_Variable:"\ubcc0\uc218 \ub9cc\ub4e4\uae30",block_change_variable:"(Slot 1) \uc744/\ub97c (Slot 2) \ub9cc\ud07c \ubc14\uafb8\uae30",Rename:"\uc774\ub984 \ubc14\uafb8\uae30",Delete:"\uc0ad\uc81c\ud558\uae30",block_add_to_list:"(Slot 1 =\uc5b4\ub5a4 \uac83) \ud56d\ubaa9\uc744 (Slot 2) \uc5d0 \ucd94\uac00\ud558\uae30",
Create_List:"\ub9ac\uc2a4\ud2b8 \ub9cc\ub4e4\uae30",block_delete_from_list:"(Slot 1) \ubc88\uc9f8 \ud56d\ubaa9\uc744 (Slot 2) \uc5d0\uc11c \uc0ad\uc81c\ud558\uae30",block_insert_into_list:"(Slot 1 = \uc5b4\ub5a4 \uac83) \uc744/\ub97c (Slot 3) \uc758 (Slot 2) \ubc88\uc9f8\uc5d0 \ub123\uae30",block_replace_list_item:"(Slot 3 = \uc5b4\ub5a4 \uac83) \uc758 (Slot 1) \ubc88\uc9f8 \ud56d\ubaa9\uc744 (Slot 2) (\uc73c)\ub85c \ubc14\uafb8\uae30",block_copy_list:"(Slot 1) \uc744/\ub97c (Slot 2)\uc73c\ub85c \ubcf5\uc0ac\ud558\uae30",
block_list_item:"(Slot 2) \uc758 (Slot 1) \ubc88\uc9f8 \ud56d\ubaa9",block_list_length:"(Slot 1) \ud56d\ubaa9 \uc218",block_list_contains:"(Slot 1) \uc774/\uac00 (Slot 2 = \uc5b4\ub5a4 \uac83) \uc744/\ub97c \ud3ec\ud568\ud558\ub294\uac00?",last:"\ub9c8\uc9c0\ub9c9",random:"\uc784\uc758\uc758 \uc218",Robots:"\ub85c\ubd07",Operators:"\uc5f0\uc0b0\uc790",Sound:"\uc18c\ub9ac",Tablet:"\ud0dc\ube14\ub9bf",Control:"\uc81c\uc5b4",Variables:"\ubcc0\uc218",Zoom_in:"\ub354 \ud06c\uac8c\ubcf4\uae30",Zoom_out:"\ub354 \uc791\uac8c\ubcf4\uae30",
Reset_zoom:"\uc6d0\ub798 \ud06c\uae30\ub85c \ubcf4\uae30",Disable_snap_noise:"\ub538\uae4d\uc18c\ub9ac \ub0b4\uae30",Enable_snap_noise:"\ub538\uae4d\uc18c\ub9ac \uc5c6\uc560\uae30",CompassCalibrate:"\ub098\uce68\ubc18 \uc13c\uc11c \ubcf4\uc815",Send_debug_log:"\ub514\ubc84\uadf8 \uae30\ub85d \ubcf4\ub0b4\uae30",Show_debug_menu:"\ub514\ubc84\uadf8 \uba54\ub274 \ubcf4\uae30",Connect_Device:"\uae30\uae30 \uc5f0\uacb0\ud558\uae30",Connect_Multiple:"\uc5ec\ub7ec \uae30\uae30 \uc5f0\uacb0\ud558\uae30",
Disconnect_Device:"\uc7a5\uce58 \uc5f0\uacb0 \ub04a\uae30",Tap:" + \ub97c \ub20c\ub7ec \uc5f0\uacb0\ud558\uae30",Scanning_for_devices:"\uae30\uae30 \uac80\uc0c9 \uc911",Open:"\uc5f4\uae30",No_saved_programs:"\uc800\uc7a5\ub41c \ud504\ub85c\uadf8\ub7a8 \uc5c6\uc74c",New:"\uc0c8\ub85c \ub9cc\ub4e4\uae30",Saving:"\uc800\uc7a5\ud558\uae30",On_Device:"\uc774 \uae30\uae30",Cloud:"\ud074\ub77c\uc6b0\ub4dc",Loading:"\ub85c\ub4dc \uc911",Sign_in:"\ub85c\uadf8\uc778 \ud558\uae30",New_program:"\uc0c8 \ud504\ub85c\uadf8\ub7a8",
Share:"\uacf5\uc720\ud558\uae30",Recordings:"\ub179\uc74c\ud30c\uc77c",Discard:"\uc0ad\uc81c",Stop:"\uba48\ucda4",Pause:"\uc77c\uc2dc\uc815\uc9c0",remaining:"\ub0a8\uc740 \uc2dc\uac04",Record:"\ub179\uc74c",Tap_record_to_start:"\ub179\uc74c \ubc84\ud2bc \ub20c\ub7ec \uc2dc\uc791\ud558\uae30",Done:"\uc644\ub8cc",Delete_question:"\uc815\ub9d0\ub85c this\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",Cancel:"\ucde8\uc18c",OK:"\ud655\uc778",Dont_delete:"\uc0ad\uc81c\ud558\uc9c0 \uc54a\uae30",
Enter_new_name:"\uc0c8 \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694.",Duplicate:"\ubcf5\uc0ac\ud558\uae30",Name_duplicate_file:"\ubcf5\uc0ac\ud560 \ud30c\uc77c \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694.",Name_error_invalid_characters:"\ud30c\uc77c \uc774\ub984\uc5d0\ub294 \ub2e4\uc74c \ubb38\uc790\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \n ",Name_error_already_exists:'"\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uc774\ub984\uc785\ub2c8\ub2e4. \ub2e4\ub978 \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694.',
Permission_denied:"\uad8c\ud55c \ud5c8\uc6a9 \ubd88\uac00",Grant_permission:"\uc124\uc815\uc5d0\uc11c BirdBlox\uc5d0 \ub300\ud55c \ub9c8\uc774\ud06c \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud574\uc8fc\uc138\uc694.",Dismiss:"\ucde8\uc18c",Name:"\ud30c\uc77c \uc774\ub984",Enter_file_name:"\ud30c\uc77c \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694.",Name_error_blank:"\uc774\ub984\uc740 \ube48\uce78\uc73c\ub85c \ub0a8\uaca8\ub458 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ud30c\uc77c \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694.",
Edit_text:"\ud14d\uc2a4\ud2b8 \ud3b8\uc9d1\ud558\uae30",Question:"\uc9c8\ubb38",Connection_Failure:"\uc5f0\uacb0 \uc2e4\ud328",Connection_failed_try_again:"\uc5f0\uacb0 \uc2e4\ud328, \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",Disconnect_account:"\uacc4\uc815 \uc5f0\uacb0 \ub04a\uae30",Disconnect_account_question:"\uacc4\uc815 \uc5f0\uacb0\uc744 \ub04a\uc73c\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",Dont_disconnect:"\ucde8\uc18c",Disconnect:"\uc5f0\uacb0 \ub04a\uae30",not_connected:"(Device) \uc5f0\uacb0 \uc548 \ub428",
not_a_valid_number:"\ubd80\uc801\uc808\ud55c \uac12\uc785\ub2c8\ub2e4.",Intensity:"\uc138\uae30",Angle:"\uac01\ub3c4",Speed:"\uc18d\ub3c4",Note:"\uc74c",Beats:"\ubc15\uc790",Firmware_incompatible:"\ud38c\uc6e8\uc5b4 \ud638\ud658\ubd88\uac00",Update_firmware:"\ud38c\uc6e8\uc5b4 \uc5c5\ub370\uc774\ud2b8",Device_firmware:"\uae30\uae30 \ud38c\uc6e8\uc5b4 \ubc84\uc804:",Required_firmware:"\ud544\uc694\ud55c \ud38c\uc6e8\uc5b4 \ubc84\uc804:",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",
block_divide:"(Slot 1) / (Slot 2)",block_finch_move:"(Slot 1) (Slot 2) cm \ub85c \uc6c0\uc9c1\uc774\uae30 \ube60\ub974\uae30 (Slot 3) %",block_finch_turn:"(Slot 1) (Slot 2) \u00b0 \ub85c \ud68c\uc804\ud558\uae30 \ube60\ub974\uae30 (Slot 3) %",block_finch_motors:"\ubc14\ud034 \uc67c\ucabd (Slot 1) % \uc624\ub978\ucabd (Slot 2) %",block_finch_beak:"\ubd80\ub9ac \ube68\uac15 (Slot 1) % \ucd08\ub85d (Slot 2) % \ud30c\ub791 (Slot 3) %",block_finch_tail:"\uaf2c\ub9ac (Slot 1) \ube68\uac15 (Slot 2) % \ucd08\ub85d (Slot 3) % \ud30c\ub791 (Slot 4) %",
block_finch_reset_encoders:"\uc778\ucf54\ub354 \ub9ac\uc14b\ud558\uae30",block_encoder:"(Slot 1) \uc778\ucf54\ub354",Line:"\uc120",Forward:"\uc55e\uc73c\ub85c",Backward:"\ub4a4\ub85c",Right:"\uc624\ub978\ucabd",Left:"\uc67c\ucabd",Beak_Up:"\ubd80\ub9ac \uc704\ub85c",Beak_Down:"\ubd80\ub9ac \uc544\ub798\ub85c",Finch_Is_Level:"\uc218\ud3c9",Upside_Down:"\ub4a4\uc9da\ud798",logo:"\ub85c\uace0",V2_required:"V2 micro:bit \ud544\uc694\ud55c",Temperature:"\uc628\ub3c4"};
Language.nl={block_Tri_LED:"Tri-LED (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4) %",port:"Poort",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"Positie-Servo (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"Draai-Servo (Slot 1) (Slot 2) %",block_Play_Note:"speel noot (Slot 1) voor (Slot 2) Beats",block_play_note:"speel noot (Slot 1) voor (Slot 2) beats",Light:"Licht",Distance:"Afstand",Dial:"Draaiknop",Other:"Ander",Accelerometer:"Accelerometer",Magnetometer:"Magnetometer",block_LED_Display:"Scherm",
block_Print:"Schrijf (Slot 1 = Hello)",block_Button:"Knop (Slot 1)",Screen_Up:"Scherm Omhoog",Screen_Down:"Scherm Omlaag",Tilt_Left:"Naar Links Kantelen",Tilt_Right:"Naar Rechts Kantelen",Logo_Up:"Logo Omhoog",Logo_Down:"Logo Omlaag",Shake:"Schudden",block_Compass:"Kompas",block_Servo:"Servo (Slot 1) (Slot 2)",block_Vibration:"Vibratie (Slot 1) (Slot 2)",block_Motor:"Motor (Slot 1) (Slot 2)",block_Temperature_C:"Temperatuur C (Slot 1)",block_Temperature_F:"Temperatuur F (Slot 1)",block_write:"Schrijf (Slot 1) (Slot 2) %",
pin:"Pin",block_read:"Lees (Slot 1)",block_Device_Shaken:"Tablet Geschud",block_Device_LatLong:"Tablet (Slot 1)",Latitude:"Breedtegraad",Longitude:"Lengtegraad",block_Device_SSID:"Tablet SSID",block_Device_Pressure:"Tablet Druk",block_Device_Relative_Altitude:"Tablet Relatieve Hoogte",block_Acceleration:"Tablet Accelerometer (Slot 1)",Total:"Totaal",block_Device_Orientation:"Tablet (Slot 1)",faceup:"Scherm Omhoog",facedown:"Scherm Omlaag",portrait_bottom:"Camera Omlaag",portrait_top:"Camera Omhoog",
landscape_left:"Camera Links",landscape_right:"Camera Rechts",in_between:"Ander",block_Display:"Schrijf (Slot 1 = Hello) in (Slot 2)",position:"Positie",block_ask:"Vraag (Slot 1 = Wat is uw naam?) en wacht",block_answer:"antwoord",block_reset_timer:"zet tijd op nul",block_timer:"tijd",block_current:"huidig",date:"datum",year:"jaar",month:"maand",hour:"uur",minute:"minuut",second:"seconde",day_of_the_week:"dag van de week",time_in_milliseconds:"tijd in milliseconden",block_mod:"(Slot 1) modulo (Slot 2)",
block_round:"afgerond (Slot 1)",block_pick_random:"willekeurig getal (Slot 1) to (Slot 2)",block_and:"(Slot 1) en (Slot 2)",block_or:"(Slot 1) of (Slot 2)",block_not:"niet (Slot 1)","true":"waar","false":"onwaar",block_letter:"letter (Slot 1) van (Slot 2 = world)",block_length:"lengte van (Slot 1 = world)",block_join:"voeg (Slot 1 = hello) en (Slot 2 = world) samen",block_split:"splits (Slot 1 = hello world) bij (Slot 2)",letter:"letter",whitespace:"spatie",block_validate:"is (Slot 1 = 5) een (Slot 2)?",
number:"getal",text:"tekst","boolean":"boolean",list:"lijst",invalid_number:"ongeldig getal",block_when_flag_tapped:"wanneer (Icon) wordt aangeklikt",block_when_I_receive:"wanneer ik ontvang (Slot 1)",any_message:"elk signaal","new":"nieuw",block_when:"wanneer (Slot 1)",block_broadcast:"zend signaal (Slot 1)",block_broadcast_and_wait:"zend signaal (Slot 1) en wacht",block_message:"signaal",block_wait:"wacht (Slot 1) secs",block_wait_until:"wacht tot (Slot 1)",block_repeat_forever:"herhaal",block_repeat:"herhaal (Slot 1) keer",
block_repeat_until:"herhaal tot (Slot 1)",block_if:"als (Slot 1)",block_if_else:"als (Slot 1)","else":"anders",block_stop:"stop (Slot 1)",all:"alle",this_script:"dit Script",all_but_this_script:"alle scripts behalve deze",Record_sound:"Geluid Opnemen",block_play_recording:"speel opname (Slot 1)",block_play_recording_until_done:"speel opname tot het einde (Slot 1)",block_play_sound:"speel geluid (Slot 1)",block_play_sound_until_done:"speel geluid tot het einde (Slot 1)",block_stop_all_sounds:"stop alle geluiden",
block_rest_for:"rust voor (Slot 1) Beats",block_change_tempo_by:"verander tempo met (Slot 1)",block_set_tempo_to:"maak tempo (Slot 1) bpm",block_tempo:"tempo",block_set_variable:"maak (Slot 1) (Slot 2)",Create_Variable:"Maak een Variabele",block_change_variable:"verander (Slot 1) met (Slot 2)",block_add_to_list:"voeg (Slot 1 = ding) toe aan (Slot 2)",Create_List:"Maak een Lijst",block_delete_from_list:"verwijder (Slot 1) van (Slot 2)",block_insert_into_list:"voeg (Slot 1 = ding) op (Slot 2) aan (Slot 3) toe",
block_replace_list_item:"vervang item (Slot 1) van (Slot 2) door (Slot 3 = ding)",block_copy_list:"kopieer (Slot 1) in op (Slot 2)",block_list_item:"item (Slot 1) van (Slot 2)",block_list_length:"lengte van (Slot 1)",block_list_contains:"(Slot 1) bevat (Slot 2 = ding)",last:"laatste",random:"willekeurig",Robots:"Robots",Operators:"Operatoren",Sound:"Geluid",Tablet:"Tablet",Control:"Controle",Variables:"Variabelen",Zoom_in:"Inzoomen",Zoom_out:"Uitzoomen",Reset_zoom:"Reset zoom",Disable_snap_noise:"Klikgeluid Uitschakelen",
Enable_snap_noise:"Klikgeluid Inschakelen",CompassCalibrate:"Kompas Kalibreren",Send_debug_log:"Stuur foutopsporingslog",Show_debug_menu:"Toon debug-menu",Connect_Device:"Verbind Apparaat",Connect_Multiple:"Verbind Meerdere",Disconnect_Device:"Ontkoppel Apparaat",Tap:"Tik + verbinden",Scanning_for_devices:"Scannen van apparaten",Open:"Open",No_saved_programs:"Geen opgeslagen programmas",New:"Nieuw",Saving:"Opslaan",On_Device:"In Apparaat",Cloud:"Cloud",Loading:"Laden",Sign_in:"Inloggen",New_program:"Nieuw programma",
Share:"Share",Recordings:"Opnames",Discard:"Verwijder",Stop:"Stop",Pause:"Pauze",remaining:"overblijvende",Record:"Opnemen",Tap_record_to_start:"Tik om opnemen te starten",Done:"Klaar",Delete:"Verwijder",Delete_question:"Ben je zeker dat je dit wilt verwijderen?",Cancel:"Annuleer",OK:"OK",Dont_delete:"Niet verwijderen",Rename:"Hernoemen",Enter_new_name:"Voer een nieuwe naam in",Duplicate:"Kopi\u00ebren",Name_duplicate_file:"Voer een naam in voor het gekopieerde bestand",Name_error_invalid_characters:"De volgende lettertekens mogen niet gebruikt worden in bestandsnamen: \n",
Name_error_already_exists:'" bestaat al. Voer een andere naam in.',Permission_denied:"Geen toestemming",Grant_permission:"Geef toestemming tot opnames aan BirdBlox in Instellingen",Dismiss:"Ontslaan",Name:"Naam",Enter_file_name:"Voor een bestandsnaam in",Name_error_blank:"Naam moet ingevuld zijn. Voer een bestandsnaam in.",Edit_text:"Tekst bewerken",Question:"Vraag",Connection_Failure:"Verbindingsfout",Connection_failed_try_again:"Verbindingsfout, probeer opnieuw.",Disconnect_account:"Account Loskoppelen",
Disconnect_account_question:"Account Loskoppelen?",Dont_disconnect:"Niet Loskoppelen",Disconnect:"Loskoppelen",not_connected:"(Device) niet verbonden",not_a_valid_number:"geen geldig getal",Intensity:"Percent",Angle:"Graad",Speed:"Snelheid",Note:"Noot",Beats:"Beats",Firmware_incompatible:"Onverenigbare Firmware",Update_firmware:"Update firmware",Device_firmware:"Apparaat firmware versie:",Required_firmware:"Vereiste firmware versie:",block_math_of_number:"(Slot 1) (Slot 2 = 10)",ceiling:"ceiling",
floor:"floor",abs:"abs",sqrt:"sqrt",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",block_divide:"(Slot 1) / (Slot 2)",block_finch_move:"Beweeg (Slot 1) (Slot 2) cm op (Slot 3) %",block_finch_turn:"Draai (Slot 1) (Slot 2) \u00b0 op (Slot 3) %",block_finch_motors:"Wielen L (Slot 1) % R (Slot 2) %",block_finch_beak:"Bek R (Slot 1) % G (Slot 2) % B (Slot 3)%",block_finch_tail:"Staart (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4)%",block_finch_reset_encoders:"Encoders Resetten",block_encoder:"(Slot 1) Encoder",
Line:"Lijn",Forward:"Vooruit",Backward:"Achteruit",Right:"Rechts",Left:"Links",Beak_Up:"Bek Omhoog",Beak_Down:"Bek Omlaag",Finch_Is_Level:"Horizontaal",Upside_Down:"Ondersteboven",logo:"Logo",V2_required:"V2 micro:bit vereiste",Temperature:"Temperatuur"};
Language.pt={block_Tri_LED:"LED Tricolor (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4) %",port:"Porta",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"Posi\u00e7\u00e3o do Servo (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"Rota\u00e7\u00e3o do Servo (Slot 1) (Slot 2) %",block_Play_Note:"Toque Notas (Slot 1) por (Slot 2) Batidas",block_play_note:"toque notas (Slot 1) por (Slot 2) batidas",Light:"Luz",Distance:"Dist\u00e2ncia",Dial:"Discar",Other:"Outro",Accelerometer:"Aceler\u00f4metro",
Magnetometer:"Magnet\u00f4metro",block_LED_Display:"Visor",block_Print:"Imprimir (Slot 1 = Ol\u00e1)",block_Button:"Tecla (Slot 1) ",Screen_Up:"Tela para cima",Screen_Down:"Tela para baixo",Tilt_Left:"Incline para a esquerda",Tilt_Right:"Incline para a direita",Logo_Up:"Logo para cima",Logo_Down:"Logo para baixo",Shake:"Agitar",block_Compass:"B\u00fassola ",block_Servo:"Servo (Slot 1) (Slot 2)",block_Vibration:"Vibrador (Slot 1) (Slot 2)",block_Motor:"Motor (Slot 1) (Slot 2)",block_Temperature_C:"Temperatura C (Slot 1)",
block_Temperature_F:"Temperatura F (Slot 1)",block_write:"Escrever (Slot 1) (Slot 2) %",pin:"Pino",block_read:"Ler (slot 1)",block_Device_Shaken:"Tablet Agitado",block_Device_LatLong:"Tablet (Slot 1)",Latitude:"Latitude",Longitude:"Longitude",block_Device_SSID:"Tablet SSID",block_Device_Pressure:"Tablet Press\u00e3o",block_Device_Relative_Altitude:"Tablet Altitude Relativa",block_Acceleration:"Tablet Aceler\u00f4metro (Slot 1)",Total:"Total",block_Device_Orientation:"Tablet (Slot 1)",faceup:"Tela Para Cima",
facedown:"Tela Para Baixo",portrait_bottom:"Parte Inferior da C\u00e2mera",portrait_top:"Parte Superior da C\u00e2merra",landscape_left:"C\u00e2mera Esquerda",landscape_right:"C\u00e2mera Direita",in_between:"Outros",block_Display:"Visor (Slot 1 = Ol\u00e1) a (Slot 2)",position:"Posi\u00e7ao",block_ask:"Perguntar (Slot 1 = Qual o seu nome?) e esperar",block_answer:"Responder ",block_reset_timer:"Redefinir tempo",block_timer:"tempo",block_current:"atual",date:"data",year:"ano",month:"m\u00eas",hour:"hora",
minute:"minuto",second:"segundo",day_of_the_week:"dia da semana",time_in_milliseconds:"tempo em milissegundos",block_mod:"(Slot 1) m\u00f3dulo (Slot 2)",block_round:"arredondamento de (Slot 1)",block_pick_random:"sele\u00e7\u00e3o aleat\u00f3ria (Slot 1) para (Slot 2)",block_and:"(Slot 1) e (Slot 2)",block_or:"(Slot 1) ou (Slot 2)",block_not:"n\u00e3o (Slot 1)","true":"verdadeiro","false":"falso",block_letter:"letra (Slot 1) de (Slot 2 = mundo)",block_length:"tamanho de (Slot 1 = mundo)",block_join:"junte (Slot 1 = ol\u00e1) e (Slot 2 = mundo)",
block_split:"separe (Slot 1 = ol\u00e1 mundo) por (Slot 2)",letter:"letra",whitespace:"espa\u00e7o em branco",block_validate:"\u00e9 (Slot 1 = 5) a (Slot 2)?",number:"n\u00famero",text:"texto","boolean":"booleano",list:"lista",invalid_number:"n\u00famero inv\u00e1lido",block_when_flag_tapped:"quando (Icon) clicado",block_when_I_receive:"quando receber (Slot 1)",any_message:"qualquer mensagem","new":"nova",block_when:"quando (Slot 1)",block_broadcast:"envie (Slot 1)",block_broadcast_and_wait:"envie (Slot 1) e espere",
block_message:"mensagem ",block_wait:"espere (Slot 1) seg",block_wait_until:"espere at\u00e9 (Slot 1)",block_repeat_forever:"repita sempre",block_repeat:"repita (Slot 1)",block_repeat_until:"repita at\u00e9 (Slot 1)",block_if:"se (Slot 1)",block_if_else:"se (Slot 1)","else":"sen\u00e3o",block_stop:"pare (Slot 1)",all:"todos ",this_script:"este script",all_but_this_script:"todos menos este script",Record_sound:"Gravar som",block_play_recording:"toque a grava\u00e7\u00e3o (Slot 1)",block_play_recording_until_done:"toque a grava\u00e7\u00e3o at\u00e9 o fim (Slot 1)",
block_play_sound:"toque o som (Slot 1)",block_play_sound_until_done:"toque o som at\u00e9 o fim (Slot 1)",block_stop_all_sounds:"pare todos os sons",block_rest_for:"sil\u00eancio por (Slot 1) batidas",block_change_tempo_by:"mude o tempo para (Slot 1)",block_set_tempo_to:"adicione o tempo para (Slot 1) bmp",block_tempo:"tempo",block_set_variable:"adcione (Slot 1) para (Slot 2)",Create_Variable:"Criar uma vari\u00e1vel",block_change_variable:"mude (Slot 1) por (Slot 2)",block_add_to_list:"adicionar (Slot 1 = objeto) para (Slot 2)",
Create_List:"Criar uma lista",block_delete_from_list:"apague (Slot 1) de (Slot 2)",block_insert_into_list:"insira (Slot 1 = objeto) na posi\u00e7\u00e3o (Slot 2) de (Slot 3)",block_replace_list_item:"substitua o item (Slot 1) de (Slot 2) por (Slot 3 = objeto)",block_copy_list:"copiar (Slot 1) para (Slot 2)",block_list_item:"item (Slot 1) de (Slot 2)",block_list_length:"tamanho de (Slot 1)",block_list_contains:"(Slot 1) cont\u00e9m (Slot 2 = objeto)",last:"\u00daltimo",random:"Aleat\u00f3rio",Robots:"Rob\u00f4s",
Operators:"Operadores",Sound:"Som",Tablet:"Tablet",Control:"Controle",Variables:"Vari\u00e1veis",Zoom_in:"Mais zoom",Zoom_out:"Menos zoom",Reset_zoom:"Redefinir zoom",Disable_snap_noise:"Desativar o ru\u00eddo de encaixe",Enable_snap_noise:"Ativar o ru\u00eddo de encaixe",CompassCalibrate:"Calibrar B\u00fassola",Send_debug_log:"Enviar debug log",Show_debug_menu:"Mostrar manual do debug ",Connect_Device:"Conectar Dispositivo",Connect_Multiple:"Conectar V\u00e1rios",Disconnect_Device:"Desconectar Dispositivo",
Tap:"Toque + para conectar",Scanning_for_devices:"Verificando dispositivos",Open:"Abrir",No_saved_programs:"Nenhum programa salvo",New:"Novo",Saving:"Salvando",On_Device:"No Dispositivo",Cloud:"Nuvem",Loading:"Carregando ",Sign_in:"Autenticar",New_program:"Programa Novo",Share:"Compartilhe",Recordings:"Grava\u00e7\u00f5es",Discard:"Descartar",Stop:"Parar",Pause:"Pausar",remaining:"restante",Record:"Gravar",Tap_record_to_start:"Toque gravar para come\u00e7ar",Done:"Feito",Delete:"Excluir",Delete_question:"Voc\u00ea tem certeza que quer excluir?",
Cancel:"Cancelar",OK:"OK",Dont_delete:"N\u00e3o excluir",Rename:"Renomear",Enter_new_name:"Digite um nome novo",Duplicate:"Duplicar",Name_duplicate_file:"Digite o nome do aquivo duplicado",Name_error_invalid_characters:"Os seguintes caracteres n\u00e3o podem ser inclu\u00eddos nos nomes de arquivos: \n",Name_error_already_exists:'" j\u00e1 existe. Digite um nome diferente.',Permission_denied:"Permiss\u00e3o negada",Grant_permission:"Conceda permiss\u00e3o de grava\u00e7\u00e3o para o BirdBlox em Configura\u00e7\u00f5es",
Dismiss:"Dispensar",Name:"Nome",Enter_file_name:"Digite nome do arquivo",Name_error_blank:"Nome n\u00e3o pode estar em branco. Digite um nome do arquivo.",Edit_text:"Editar texto",Question:"Pergunta",Connection_Failure:"Falha na Conex\u00e3o ",Connection_failed_try_again:"Falha na conex\u00e3o, por favor tentar novamente. ",Disconnect_account:"Desconectar conta",Disconnect_account_question:"Desconectar conta?",Dont_disconnect:"N\u00e3o desconectar",Disconnect:"Desconectado",not_connected:"(Device) n\u00e3o conectado",
not_a_valid_number:"N\u00e3o \u00e9 um n\u00famero v\u00e1lido",Intensity:"Intensidade",Angle:"\u00c2ngulo",Speed:"Velocidade",Note:"Nota",Beats:"Batidas",Firmware_incompatible:"Firmware incompat\u00edvel",Update_firmware:"Atualizar firmware",Device_firmware:"Vers\u00e3o de firmware do dispositivo:",Required_firmware:"Vers\u00e3o de firmware necess\u00e1ria:",block_math_of_number:"(Slot 1) (Slot 2 = 10)",ceiling:"ceiling",floor:"floor",abs:"abs",sqrt:"sqrt",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",
block_divide:"(Slot 1) / (Slot 2)",block_finch_move:"Mova (Slot 1) (Slot 2) cm  a (Slot 3) %",block_finch_turn:"Gire (Slot 1) (Slot 2) \u00b0 a (Slot 3) %",block_finch_motors:"Rodas E (Slot 1) % D (Slot 2) %",block_finch_beak:"Bico R (Slot 1) % G (Slot 2) % B (Slot 3)%",block_finch_tail:"Cauda (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4)%",block_finch_reset_encoders:"Redefinir C\u00f3digo",block_encoder:"(Slot 1) C\u00f3digo",Line:"Linha",Forward:"Frente",Backward:"Tr\u00e1s",Right:"Direita",Left:"Esquerda",
Beak_Up:"Bico Para Cima",Beak_Down:"Bico Para Baixo ",Finch_Is_Level:"N\u00edvel",Upside_Down:"Invertido",logo:"Logo",V2_required:"V2 micro:bit necess\u00e1ria",Temperature:"Temperatura"};
Language.sv={block_Tri_LED:"Tri-LED (Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4) %",port:"Port",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"Positionsservo (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"Rotationsservo (Slot 1) (Slot 2) %",block_Play_Note:"Spela not",block_play_note:"spela not",Light:"Ljus",Distance:"Avst\u00e5nd",Dial:"Rotation",Other:"Annan",Accelerometer:"Accelerometer",Magnetometer:"Magnetometer",block_LED_Display:"Sk\u00e4rm",block_Print:"Visa text (Slot 1 = Hello)",
block_Button:"Knapp",Screen_Up:"Sk\u00e4rm upp",Screen_Down:"Sk\u00e4rm ner",Tilt_Left:"Luta v\u00e4nster",Tilt_Right:"Luta h\u00f6ger",Logo_Up:"Logotyp upp",Logo_Down:"Logotyp ner",Shake:"Skaka",block_Compass:"Kompass",block_Servo:"Servo (Slot 1) (Slot 2)",block_Vibration:"Vibration (Slot 1) (Slot 2)",block_Motor:"Motor (Slot 1) (Slot 2)",block_Temperature_C:"Temperatur C (Slot 1)",block_Temperature_F:"Temperatur  F (Slot 1)",block_write:"Skriv  (Slot 1) (Slot 2) %",pin:"Pin",block_read:"L\u00e4s",
block_Device_Shaken:"Tabeltten skakas",block_Device_LatLong:"Tablett",Latitude:"Latitud",Longitude:"Longitud",block_Device_SSID:"Tabettens SSID",block_Device_Pressure:"Tablettens tryck",block_Device_Relative_Altitude:"Tabelettens relativa h\u00f6jd",block_Acceleration:"Tablettens Accelerometer (Slot 1)",Total:"Total",block_Device_Orientation:"Tablettens orientering",faceup:"Sk\u00e4rm upp",facedown:"Sk\u00e4rm ner",portrait_bottom:"St\u00e5ende: kamera nere",portrait_top:"St\u00e5ende: kamera uppe",
landscape_left:"Liggande: kamera till v\u00e4nster",landscape_right:"Liggande: kamera till h\u00f6ger",block_Display:"Visa (Slot 1 = Hej) p\u00e5 (Slot 2)",position:"Position",block_ask:"fr\u00e5ga (Slot 1 = Vad heter du?) och v\u00e4nta",block_answer:"svar",block_reset_timer:"nolla tidtagarur",block_timer:"tidtagarur",block_current:"aktuell (Slot 1)",date:"datum",year:"\u00e5r",month:"m\u00e5nad",hour:"timme",minute:"minut",second:"sekund",day_of_the_week:"veckodag",time_in_milliseconds:"tid i millisekunder",
block_mod:"(Slot 1) modul (Slot 2)",block_round:"avrunda (Slot 1)",block_pick_random:"v\u00e4lj slumptal (Slot 1) till (Slot 2)",block_and:"(Slot 1) och (Slot 2)",block_or:"(Slot 1) eller (Slot 2)",block_not:"ej","true":"sann","false":"falsk",block_letter:"bokstav (Slot 1) i (Slot 2 = world)",block_length:"ordets (Slot 1 = world) l\u00e4ngd",block_join:"sammanfoga (Slot 1 = hello) och (Slot 2 = world)",block_split:"dela (Slot 1 = hello world) med (Slot 2)",letter:"bokstav",whitespace:"blank",block_validate:"\u00e4r (Slot 1 = 5) ett (Slot 2)?",
number:"nummer",text:"text","boolean":"boolesk",list:"lista",invalid_number:"ogiltigt nummer",block_when_flag_tapped:"n\u00e4r (Icon) klickas p\u00e5",block_when_I_receive:"n\u00e4r jag tar emot",any_message:"ett meddelande ","new":"ny",block_when:"n\u00e4r (Slot 1)",block_broadcast:"skicka (Slot 1)",block_broadcast_and_wait:"skicka (Slot 1) och v\u00e4nta",block_message:"meddelande",block_wait:"v\u00e4nta (Slot 1 ) sekunder",block_wait_until:"v\u00e4nta tills (Slot 1)",block_repeat_forever:"repetera f\u00f6r alltid",
block_repeat:"repetera (Slot 1) ",block_repeat_until:"repetera tills (Slot 1)",block_if:"om (Slot 1)",block_if_else:"om (Slot 1)","else":"annars",block_stop:"stop (Slot 1)",all:"allt",this_script:"detta skript",all_but_this_script:"allt f\u00f6rutom detta skript",Record_sound:"Spela in ljud",block_play_recording:"spela upp inspelning (Slot 1)",block_play_recording_until_done:"spela upp inspelning tills f\u00e4rdig (Slot 1)",block_play_sound:"spela ljudet (Slot 1)",block_play_sound_until_done:"spela ljudet tills f\u00e4rdigt (Slot 1)",
block_stop_all_sounds:"stoppa alla ljud",block_rest_for:"pausa i (Slot 1) Takter",block_change_tempo_by:"\u00e4ndra tempo med (Slot 1)",block_set_tempo_to:"s\u00e4tt tempo till (Slot 1) bpm",block_tempo:"tempo",block_set_variable:"s\u00e4tt (Slot 1) till (Slot 2)",Create_Variable:"Skapa variabel",block_change_variable:"\u00e4ndra (Slot 1) med (Slot 2)",block_add_to_list:"l\u00e4gg till (Slot 1 = objekt) till (Slot 2)",Create_List:"Skapa lista",block_delete_from_list:"ta bort (Slot 1) av  (Slot 2)",
block_insert_into_list:"infoga (Slot 1=objekt) p\u00e5 (Slot 2) av (Slot 3)",block_replace_list_item:"ers\u00e4tt posten (Slot 1) av (Slot 2) med (Slot 3 = objekt)",block_copy_list:"kopiera (Slot 1) till listan (Slot 2)",block_list_item:"post (Slot 1) p\u00e5 listan (Slot 2)",block_list_length:"(Slot 1) l\u00e4ngd",block_list_contains:"(Slot 1) inneh\u00e5ller (Slot 2 = objekt)",last:"Sista",random:"Slumpvis",Robots:"Robotar",Operators:"Operatorer",Sound:"Ljud",Tablet:"Tablett",Control:"Kontroll",
Variables:"Variabel",Zoom_in:"Zooma in",Zoom_out:"Zooma ut",Reset_zoom:"\u00c5terst\u00e4ll zoom",Disable_snap_noise:"Inaktivera snap ljud",Enable_snap_noise:"Aktivera snap ljud",CompassCalibrate:"Kalibrera kompass",Send_debug_log:"Skicka fels\u00f6kningslogg",Show_debug_menu:"Visa fels\u00f6kningsmenyn",Connect_Device:"Anslut enhet",Connect_Multiple:"Koppla flera ",Disconnect_Device:"Koppla fr\u00e5n enheten",Tap:"Tryck + f\u00f6r att ansluta",Scanning_for_devices:"S\u00f6ker efter enheter",Open:"\u00d6ppna",
No_saved_programs:"Inga sparade program",New:"Ny",Saving:"Sparar",On_Device:"P\u00e5 enheten",Cloud:"Moln",Loading:"Laddar",Sign_in:"Logga in ",New_program:"Nytt program",Share:"Dela",Recordings:"Inspelningar",Discard:"F\u00f6rkasta",Stop:"Stop",Pause:"Pausa",remaining:"\u00e5terst\u00e5ende",Record:"Spela in",Tap_record_to_start:"Tryck p\u00e5 spela in f\u00f6r att starta",Done:"F\u00e4rdig",Delete:"Radera",Delete_question:"\u00c4r du s\u00e4ker p\u00e5 att du vill radera detta?",Cancel:"Avbryt",
OK:"OK",Dont_delete:"Radera inte",Rename:"Byt namn",Enter_new_name:"Namnge p\u00e5 nytt",Duplicate:"Kopiera ",Name_duplicate_file:"Namnge kopierad fil",Name_error_invalid_characters:"Dessa tecken kan inte finnas i filens namn: \n",Name_error_already_exists:'" finns redan. Ge ett annat namn.',Permission_denied:"Tillst\u00e5nd \u00e4r inte givet",Grant_permission:"Ge tillst\u00e5nd till BirdBlox i inst\u00e4llningar",Dismiss:"Avvisa",Name:"Namn",Enter_file_name:"Skriv in filnamn",Name_error_blank:"Namn kan inte l\u00e4mnas tomt. Namnge filen.",
Edit_text:"Editera texten",Question:"Fr\u00e5ga",Connection_Failure:"Problem med kopplingen",Connection_failed_try_again:"Anslutningen misslyckades, f\u00f6rs\u00f6k igen.",Disconnect_account:"Fr\u00e5nkoppla kontot fr\u00e5n enheten",Disconnect_account_question:"Fr\u00e5nkoppla kontot fr\u00e5n enheten?",Dont_disconnect:"Fr\u00e5nkoppla inte",Disconnect:"Fr\u00e5nkoppla",not_connected:"(Device) inte kopplad",not_a_valid_number:"ogiltigt nummer",Intensity:"Intensitet",Angle:"Vinkel",Speed:"Hastighet",
Note:"Not",Beats:"Takt",Firmware_incompatible:"Okompatibel programvara",Update_firmware:"Uppdatera programvara",Device_firmware:"Enhetens programversion:",Required_firmware:"Programvaruversion som kr\u00e4vs:",block_math_of_number:"(Slot 1) (Slot 2 = 10)",ceiling:"ceiling",floor:"floor",abs:"abs",sqrt:"sqrt",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",block_divide:"(Slot 1) / (Slot 2)",logo:"Logotyp",V2_required:"V2 micro:bit som kr\u00e4vs",Temperature:"Temperatur"};
Language.zhs={block_Tri_LED:"\u4e09\u8272LED (Slot 1) \u7ea2 (Slot 2) % \u7eff (Slot 3) % \u84dd (Slot 4) %",port:"\u7aef",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"\u4f4d\u7f6e\u4f3a\u670d (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"\u65cb\u8f6c\u4f3a\u670d (Slot 1) (Slot 2) %",block_Play_Note:"\u6f14\u594f \u97f3\u9636 (Slot 1)\u4e8e(Slot 2) \u62cd",block_play_note:"\u6f14\u594f \u97f3\u9636 (Slot 1)\u4e8e(Slot 2) \u62cd",Light:"\u706f\u5149",Distance:"\u8ddd\u79bb",Dial:"\u62e8\u53f7",
Other:"\u5176\u4ed6",Accelerometer:"\u52a0\u901f\u8ba1",Magnetometer:"\u78c1\u529b\u4eea",block_LED_Display:"\u663e\u793a",block_Print:"\u6253\u5370 (Slot 1 = Hello)",block_Button:"\u6309\u94ae (Slot 1)",Screen_Up:"\u6b63\u9762\u671d\u4e0a",Screen_Down:"\u80cc\u9762\u671d\u4e0a",Tilt_Left:"\u5411\u5de6\u503e\u659c",Tilt_Right:"\u5411\u53f3\u503e\u659c",Logo_Up:"\u4e0b\u5219\u504f\u4f4e",Logo_Down:"\u4e0a\u5219\u504f\u4f4e",Shake:"\u6643\u52a8",block_Compass:"\u6307\u5357\u9488",block_Servo:"\u4f3a\u670d (Slot 1) (Slot 2)",
block_Vibration:"\u9707\u52a8 (Slot 1) (Slot 2)",block_Motor:"\u9a6c\u8fbe (Slot 1) (Slot 2)",block_Temperature_C:"\u6e29\u5ea6 \u6444\u6c0f (Slot 1)",block_Temperature_F:"\u6e29\u5ea6 \u534e\u6c0f (Slot 1)",block_write:"\u5199\u5165 (Slot 1) (Slot 2) %",pin:"\u5f15\u811a",block_read:"\u8bfb\u53d6 (Slot 1)",block_Device_Shaken:"\u5e73\u677f\u7535\u8111\u6447\u52a8\u4e86",block_Device_LatLong:"\u5e73\u677f\u7535\u8111 (Slot 1)",Latitude:"\u7eac\u5ea6",Longitude:"\u7ecf\u5ea6",block_Device_SSID:"\u5e73\u677f\u7535\u8111\u7684\u670d\u52a1\u8bbe\u5b9a\u8bc6\u522b\u7801",
block_Device_Pressure:"\u5e73\u677f\u7535\u8111\u7684\u5927\u6c14\u538b\u529b",block_Device_Relative_Altitude:"\u5e73\u677f\u7535\u8111\u7684\u76f8\u5bf9\u9ad8\u5ea6",block_Acceleration:"\u5e73\u677f\u7535\u8111 \u52a0\u901f\u8ba1(Slot 1)",Total:"\u603b\u548c",block_Device_Orientation:"\u677f\u5757(Slot 1)",faceup:"\u5c4f\u5e55\u5411\u4e0a",facedown:"\u5c4f\u5e55\u5411\u4e0b",portrait_bottom:"\u6444\u50cf\u5934\u5e95\u90e8",portrait_top:"\u6444\u50cf\u5934\u9876\u90e8",landscape_left:"\u6444\u50cf\u5934\u5de6\u8fb9",
landscape_right:"\u6444\u50cf\u5934\u53f3\u8fb9",in_between:"\u5176\u4ed6",block_Display:"(Slot 2) \u663e\u793a (Slot 1 = \u4f60\u597d)",position:"\u4f4d\u7f6e",block_ask:"\u95ee (Slot 1 = \u4f60\u7684\u540d\u5b57\u662f\u4ec0\u4e48\uff1f) \u5e76\u7b49\u5f85",block_answer:"\u56de\u7b54",block_reset_timer:"\u91cd\u7f6e\u8ba1\u65f6\u5668",block_timer:"\u8ba1\u65f6\u5668",block_current:"\u5f53\u524d\u65f6\u95f4 (Slot 1)",date:"\u65e5",year:"\u5e74",month:"\u6708",hour:"\u65f6",minute:"\u5206",second:"\u79d2",
day_of_the_week:"\u4e00\u5468\u4e2d\u7684\u65e5",time_in_milliseconds:"\u65f6\u95f4(\u6beb\u79d2)",block_mod:"(Slot 1) \u548c (Slot 2) \u7684\u4f59",block_round:"\u56db\u820d\u4e94\u5165 (Slot 1)",block_pick_random:"\u9009\u53d6\u7531 (Slot 1) \u81f3 (Slot 2) \u7684\u4e00\u4e2a\u968f\u673a\u6570",block_and:"(Slot 1) \u548c (Slot 2)",block_or:"(Slot 1) \u6216 (Slot 2)",block_not:"\u4e0d\u6210\u7acb (Slot 1)","true":"\u771f\u786e","false":"\u4e0d\u771f\u786e",block_letter:"(Slot 2 = \u4e16\u754c)\u7684\u5b57\u6bcd(Slot 1)",
block_length:"(Slot 1 = \u4e16\u754c) \u7684\u5b57\u957f",block_join:"\u7ed3\u5408 (Slot 1 = \u4f60\u597d) \u548c (Slot 2 = \u4e16\u754c)",block_split:"\u900f\u8fc7(Slot 2) \u62c6\u5206 (Slot 1 = \u4f60\u597d\u4e16\u754c)",letter:"\u5b57\u6bcd",whitespace:"\u7a7a\u767d",block_validate:"(Slot 1 = 5) \u662f\u5426 (Slot 2)?",number:"\u6570\u5b57",text:"\u6587\u5b57","boolean":"\u5e03\u5c14",list:"\u540d\u5355",invalid_number:"\u65e0\u6548\u53f7\u7801",block_when_flag_tapped:"\u5f53 (Icon) \u70b9\u51fb\u65f6",
block_when_I_receive:"\u5f53\u6211\u6536\u5230",any_message:"\u4efb\u4f55\u8baf\u606f","new":"\u65b0",block_when:"\u5f53(Slot 1)",block_broadcast:"\u5e7f\u64ad (Slot 1)",block_broadcast_and_wait:"\u5e7f\u64ad (Slot 1) \u5e76\u7b49\u5f85",block_message:"\u8baf\u606f",block_wait:"\u7b49\u5f85 (Slot 1) \u79d2",block_wait_until:"\u7b49\u5f85\u76f4\u81f3(Slot 1)",block_repeat_forever:"\u91cd\u590d\u65e0\u9650\u6b21",block_repeat:"\u91cd\u590d(Slot 1)",block_repeat_until:"\u91cd\u590d\u76f4\u81f3(Slot 1)",
block_if:"\u5982\u679c(Slot 1)",block_if_else:"\u5982\u679c(Slot 1)","else":" \u5426\u5219",block_stop:"\u505c\u6b62(Slot 1)",all:"\u5168\u90e8",this_script:"\u8fd9\u4e2a\u811a\u672c",all_but_this_script:"\u9664\u4e86\u8fd9\u4e2a\u811a\u672c\u4e4b\u5916",Record_sound:"\u5f55\u5236\u58f0\u97f3",block_play_recording:"\u64ad\u653e\u5f55\u97f3 (Slot 1)",block_play_recording_until_done:"\u64ad\u653e\u5f55\u97f3\u76f4\u5230\u5b8c\u6210 (Slot 1)",block_play_sound:"\u64ad\u653e\u58f0\u97f3 (Slot 1)",block_play_sound_until_done:"\u64ad\u653e\u58f0\u97f3\u76f4\u5230\u5b8c\u6210 (Slot 1)",
block_stop_all_sounds:"\u505c\u6b62\u6240\u6709\u58f0\u97f3",block_rest_for:"\u4f11\u606f (Slot 1) \u62cd",block_change_tempo_by:"\u6539\u53d8\u62cd\u5b50 (Slot 1)",block_set_tempo_to:"\u5c06\u901f\u5ea6\u8bbe\u5b9a\u4e3a (Slot 1) bpm",block_tempo:"\u62cd\u5b50",block_set_variable:"\u8bbe\u7f6e (Slot 1) \u5230 (Slot 2)",Create_Variable:"\u521b\u5efa\u53d8\u6570",block_change_variable:"(Slot 1) \u6539\u53d8 (Slot 2)",Delete:"\u5220\u9664",block_add_to_list:"\u6dfb\u52a0 (Slot 1 = \u7269\u4ef6) \u5230 (Slot 2)",
Create_List:"\u521b\u5efa\u5217\u8868",block_delete_from_list:"\u4ece (Slot 2) \u5220\u9664 (Slot 1)",block_insert_into_list:"\u4ece (Slot 3) \u63d2\u5165 (Slot 1 = \u7269\u4ef6) \u4f4d\u4e8e (Slot 2)",block_replace_list_item:"\u7528 (Slot 3 = \u7269\u4ef6) \u66ff\u6362 (Slot 2) \u7684 \u7269\u4ef6 (Slot 1)",block_copy_list:"\u590d\u5236 (Slot 1) \u5230 (Slot 2)",block_list_item:"(Slot 2) \u7684\u7269\u4ef6 (Slot 1)",block_list_length:"(Slot 1) \u7684\u957f\u5ea6",block_list_contains:"(Slot 1) \u5305\u542b (Slot 2 = thing)",
last:"\u6700\u540e",random:"\u968f\u673a",Robots:"\u673a\u5668\u4eba",Operators:"\u7b97\u5b50",Sound:"\u58f0\u97f3",Tablet:"\u5e73\u677f\u7535\u8111",Control:"\u63a7\u5236",Variables:"\u53d8\u6570",Zoom_in:"\u653e\u5927",Zoom_out:"\u7f29\u5c0f",Reset_zoom:"\u91cd\u7f6e\u7f29\u653e",Disable_snap_noise:"\u7981\u7528\u62cd\u7167\u58f0\u97f3",Enable_snap_noise:"\u542f\u7528\u62cd\u7167\u58f0\u97f3",CompassCalibrate:"\u6821\u51c6\u6307\u5357\u9488",Send_debug_log:"\u53d1\u9001\u8c03\u8bd5\u65e5\u5fd7",
Show_debug_menu:"\u663e\u793a\u8c03\u8bd5\u753b\u9762",Connect_Device:"\u8fde\u63a5\u8bbe\u5907",Connect_Multiple:"\u8fde\u63a5\u591a\u4e2a\u8bbe\u5907",Disconnect_Device:"\u65ad\u5f00\u8bbe\u5907",Tap:"\u70b9\u6309+\u5373\u53ef\u8fde\u63a5",Scanning_for_devices:"\u626b\u63cf\u8bbe\u5907",Open:"\u5f00\u542f",No_saved_programs:"\u6ca1\u6709\u4fdd\u5b58\u7684\u7a0b\u5f0f",New:"\u65b0",Saving:"\u4fdd\u5b58\u4e2d",On_Device:"\u5728\u8bbe\u5907\u4e0a",Cloud:"\u4e91\u7aef",Loading:"\u8f7d\u5165\u4e2d",
Sign_in:"\u767b\u5165",New_program:"\u65b0\u7a0b\u5f0f",Share:"\u5206\u4eab",Recordings:"\u5f55\u97f3",Discard:"\u4e22\u5f03",Stop:"\u505c\u6b62",Pause:"\u6682\u505c",remaining:"\u5176\u4f59",Record:"\u5f55\u5236",Tap_record_to_start:"\u70b9\u51fb\u5f55\u5236\u5f00\u59cb",Done:"\u5b8c\u6210",Delete_question:"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u5417\uff1f",Cancel:"\u53d6\u6d88",OK:"\u597d",Dont_delete:"\u4e0d\u8981\u5220\u9664",Rename:"\u91cd\u65b0\u547d\u540d",Enter_new_name:"\u8f93\u5165\u65b0\u540d\u79f0",
Duplicate:"\u590d\u5236",Name_duplicate_file:"\u8f93\u5165\u91cd\u590d\u6587\u4ef6\u7684\u540d\u79f0",Name_error_invalid_characters:"\u6587\u4ef6\u540d\u4e2d\u4e0d\u80fd\u5305\u542b\u4ee5\u4e0b\u5b57\u7b26\uff1a\n",Name_error_already_exists:"\u201c\u5df2\u7ecf\u5b58\u5728\u3002\u8bf7\u8f93\u5165\u5176\u4ed6\u540d\u79f0\u3002",Permission_denied:"\u6ca1\u6709\u6743\u9650",Grant_permission:"\u5728\u201c\u8bbe\u7f6e\u201d\u4e2d\u4e3aBirdBlox\u6388\u4e88\u5f55\u5236\u6743\u9650",Dismiss:"\u64a4",Name:"\u540d\u79f0",
Enter_file_name:"\u8f93\u5165\u6587\u4ef6\u540d",Name_error_blank:"\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a\u3002\u8f93\u5165\u6587\u4ef6\u540d\u3002",Edit_text:"\u7f16\u8f91\u6587\u5b57",Question:"\u95ee\u9898",Connection_Failure:"\u8fde\u63a5\u5931\u8d25",Connection_failed_try_again:"\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u518d\u8bd5\u4e00\u6b21\u3002",Disconnect_account:"\u5e10\u6237\u8fde\u63a5\u65ad\u5f00",Disconnect_account_question:"\u5e10\u6237\u8fde\u63a5\u65ad\u5f00?",Dont_disconnect:"\u4e0d\u8981\u65ad\u5f00\u8fde\u63a5",
Disconnect:"\u8fde\u63a5",not_connected:"(Device) \u672a\u8fde\u63a5",not_a_valid_number:"\u4e0d\u662f\u6709\u6548\u7684\u53f7\u7801",Intensity:"\u5f3a\u5ea6",Angle:"\u89d2\u5ea6",Speed:"\u901f\u5ea6",Note:"\u97f3\u7b26",Beats:"\u62cd\u5b50",Firmware_incompatible:"\u56fa\u4ef6\u4e0d\u517c\u5bb9",Update_firmware:"\u66f4\u65b0\u56fa\u4ef6",Device_firmware:"\u8bbe\u5907\u56fa\u4ef6\u7248\u672c\uff1a",Required_firmware:"\u6240\u9700\u7684\u56fa\u4ef6\u7248\u672c\uff1a",block_math_of_number:"(Slot 1) (Slot 2 = 10)",
ceiling:"ceiling",floor:"floor",abs:"abs",sqrt:"sqrt",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",block_divide:"(Slot 1) / (Slot 2)",block_finch_move:"\u4ee5(Slot 3) % \u79fb\u52a8 (Slot 1) (Slot 2) cm",block_finch_turn:"\u4ee5(Slot 3) % \u8f6c\u52a8 (Slot 1) (Slot 2) \u00b0",block_finch_motors:"\u5de6\u8f6e(Slot 1) % \u53f3\u8f6e(Slot 2) %",block_finch_beak:"\u9e1f\u5599 R (Slot 1) % G (Slot 2) % B (Slot 3)%",block_finch_tail:"\u9e1f\u5c3e(Slot 1) R (Slot 2) % G (Slot 3) % B (Slot 4)%",
block_finch_reset_encoders:"\u91cd\u7f6e\u7f16\u7801\u5668",block_encoder:"(Slot 1)\u7f16\u7801\u5668",Line:"\u7ebf",Forward:"\u524d\u8fdb",Backward:"\u540e\u9000",Right:"\u53f3",Left:"\u5de6",Beak_Up:"\u5599\u90e8\u5411\u4e0a",Beak_Down:"\u5599\u90e8\u5411\u4e0b",Finch_Is_Level:"\u6c34\u5e73",Upside_Down:"\u7ffb\u8f6c",logo:"\u5fbd\u6807",V2_required:"V2 micro:bit \u6240\u9700\u7684",Temperature:"\u6e29\u5ea6"};
Language.zht={block_Tri_LED:"\u4e09\u8272LED (Slot 1) \u7d05 (Slot 2) % \u7da0 (Slot 3) % \u85cd (Slot 4) %",port:"\u7aef",block_LED:"LED (Slot 1) (Slot 2) %",block_Position_Servo:"\u4f4d\u7f6e\u4f3a\u670d (Slot 1) (Slot 2) \u00b0",block_Rotation_Servo:"\u65cb\u8f49\u4f3a\u670d (Slot 1) (Slot 2) %",block_Play_Note:"\u6f14\u594f \u97f3\u968e (Slot 1)\u65bc(Slot 2) \u62cd",block_play_note:"\u6f14\u594f \u97f3\u968e (Slot 1)\u65bc(Slot 2) \u62cd",Light:"\u71c8\u5149",Distance:"\u8ddd\u96e2",Dial:"\u64a5\u865f",
Other:"\u5176\u4ed6",Accelerometer:"\u52a0\u901f\u8a08",Magnetometer:"\u78c1\u529b\u5100",block_LED_Display:"\u986f\u793a",block_Print:"\u6253\u5370 (Slot 1 = Hello)",block_Button:"\u6309\u9215 (Slot 1)",Screen_Up:"\u6b63\u9762\u671d\u4e0a",Screen_Down:"\u80cc\u9762\u671d\u4e0a",Tilt_Left:"\u5411\u5de6\u50be\u659c",Tilt_Right:"\u5411\u53f3\u50be\u659c",Logo_Up:"\u4e0b\u5247\u504f\u4f4e",Logo_Down:"\u4e0a\u5247\u504f\u4f4e",Shake:"\u6643\u52d5",block_Compass:"\u6307\u5357\u91dd",block_Servo:"\u4f3a\u670d (Slot 1) (Slot 2)",
block_Vibration:"\u9707\u52d5 (Slot 1) (Slot 2)",block_Motor:"\u6469\u6253 (Slot 1) (Slot 2)",block_Temperature_C:"\u6eab\u5ea6 \u651d\u6c0f (Slot 1)",block_Temperature_F:"\u6eab\u5ea6 \u83ef\u6c0f (Slot 1)",block_write:"\u5beb\u5165 (Slot 1) (Slot 2) %",pin:"\u5f15\u8173",block_read:"\u8b80\u53d6 (Slot 1)",block_Device_Shaken:"\u5e73\u677f\u96fb\u8166\u6416\u52d5\u4e86",block_Device_LatLong:"\u5e73\u677f\u96fb\u8166 (Slot 1)",Latitude:"\u7def\u5ea6",Longitude:"\u7d93\u5ea6",block_Device_SSID:"\u5e73\u677f\u96fb\u8166\u7684\u670d\u52d9\u8a2d\u5b9a\u8b58\u5225\u78bc",
block_Device_Pressure:"\u5e73\u677f\u96fb\u8166\u7684\u5927\u6c23\u58d3\u529b",block_Device_Relative_Altitude:"\u5e73\u677f\u96fb\u8166\u7684\u76f8\u5c0d\u9ad8\u5ea6",block_Acceleration:"\u5e73\u677f\u96fb\u8166 \u52a0\u901f\u8a08 (Slot 1)",Total:"\u7e3d\u548c",block_Device_Orientation:"\u5e73\u677f\u96fb\u8166 (Slot 1)",faceup:"\u5c4f\u5e55\u5411\u4e0a",facedown:"\u5c4f\u5e55\u5411\u4e0b",portrait_bottom:"\u93e1\u982d\u5411\u4e0b",portrait_top:"\u93e1\u982d\u5411\u4e0a",landscape_left:"\u93e1\u982d\u5411\u5de6",
landscape_right:"\u93e1\u982d\u5411\u53f3",in_between:"\u5176\u4ed6",block_Display:"(Slot 2) \u986f\u793a (Slot 1 = \u4f60\u597d)",position:"\u4f4d\u7f6e",block_ask:"\u554f (Slot 1 = \u4f60\u7684\u540d\u5b57\u662f\u4ec0\u9ebc\uff1f) \u4e26\u7b49\u5f85",block_answer:"\u56de\u7b54",block_reset_timer:"\u91cd\u7f6e\u8a08\u6642\u5668",block_timer:"\u8a08\u6642\u5668",block_current:"\u7576\u524d\u6642\u9593 (Slot 1)",date:"\u65e5",year:"\u5e74",month:"\u6708",hour:"\u6642",minute:"\u5206",second:"\u79d2",
day_of_the_week:"\u4e00\u5468\u4e2d\u7684\u65e5",time_in_milliseconds:"\u6642\u9593(\u6beb\u79d2)",block_mod:"(Slot 1) \u548c (Slot 2) \u7684\u9918",block_round:"\u56db\u6368\u4e94\u5165 (Slot 1)",block_pick_random:"\u9078\u53d6\u7531 (Slot 1) \u81f3 (Slot 2) \u7684\u4e00\u500b\u96a8\u6a5f\u6578",block_and:"(Slot 1) \u548c (Slot 2)",block_or:"(Slot 1) \u6216 (Slot 2)",block_not:"\u4e0d\u6210\u7acb (Slot 1)","true":"\u771f\u78ba","false":"\u4e0d\u771f\u78ba",block_letter:"(Slot 2 = \u4e16\u754c)\u7684\u5b57\u6bcd(Slot 1)",
block_length:"(Slot 1 = \u4e16\u754c) \u7684\u5b57\u9577",block_join:"\u7d50\u5408 (Slot 1 = \u4f60\u597d) \u548c (Slot 2 = \u4e16\u754c)",block_split:"\u900f\u904e(Slot 2) \u62c6\u5206 (Slot 1 = \u4f60\u597d\u4e16\u754c) ",letter:"\u5b57\u6bcd",whitespace:"\u7a7a\u767d",block_validate:"(Slot 1 = 5) \u662f\u5426 (Slot 2)?",number:"\u6578\u5b57",text:"\u6587\u5b57","boolean":"\u5e03\u723e",list:"\u540d\u55ae",invalid_number:"\u7121\u6548\u865f\u78bc",block_when_flag_tapped:"\u7576 (Icon) \u9ede\u64ca\u6642",
block_when_I_receive:"\u7576\u6211\u6536\u5230",any_message:"\u4efb\u4f55\u8a0a\u606f","new":"\u65b0",block_when:"\u7576(Slot 1)",block_broadcast:"\u5ee3\u64ad (Slot 1)",block_broadcast_and_wait:"\u5ee3\u64ad (Slot 1) \u4e26\u7b49\u5f85",block_message:"\u8a0a\u606f",block_wait:"\u7b49\u5f85 (Slot 1) \u79d2",block_wait_until:"\u7b49\u5f85\u76f4\u81f3(Slot 1) ",block_repeat_forever:"\u91cd\u8907\u7121\u9650\u6b21",block_repeat:"\u91cd\u8907(Slot 1)",block_repeat_until:"\u91cd\u8907\u76f4\u81f3(Slot 1)",
block_if:"\u5982\u679c(Slot 1)",block_if_else:"\u5982\u679c(Slot 1)","else":"\u5426\u5247",block_stop:"\u505c\u6b62(Slot 1)",all:"\u5168\u90e8",this_script:"\u9019\u500b\u8173\u672c",all_but_this_script:"\u9664\u4e86\u9019\u500b\u8173\u672c\u4e4b\u5916",Record_sound:"\u9304\u88fd\u8072\u97f3",block_play_recording:"\u64ad\u653e\u9304\u97f3 (Slot 1)",block_play_recording_until_done:"\u64ad\u653e\u9304\u97f3\u76f4\u5230\u5b8c\u6210 (Slot 1)",block_play_sound:"\u64ad\u653e\u8072\u97f3 (Slot 1)",block_play_sound_until_done:"\u64ad\u653e\u8072\u97f3\u76f4\u5230\u5b8c\u6210 (Slot 1)",
block_stop_all_sounds:"\u505c\u6b62\u6240\u6709\u8072\u97f3",block_rest_for:"\u4f11\u606f (Slot 1)\u62cd",block_change_tempo_by:"\u6539\u8b8a\u62cd\u5b50 (Slot 1)",block_set_tempo_to:"\u5c07\u901f\u5ea6\u8a2d\u5b9a\u70ba (Slot 1) bpm",block_tempo:"\u62cd\u5b50",block_set_variable:"\u8a2d\u7f6e (Slot 1) \u5230 (Slot 2)",Create_Variable:"\u5275\u5efa\u8b8a\u6578",block_change_variable:"(Slot 1) \u6539\u8b8a (Slot 2)",block_add_to_list:"\u6dfb\u52a0 (Slot 1 = thing) \u5230 (Slot 2)",Create_List:"\u5275\u5efa\u5217\u8868",
block_delete_from_list:"\u5f9e (Slot 2) \u522a\u9664 (Slot 1)",block_insert_into_list:"\u5f9e (Slot 3) \u63d2\u5165 (Slot 1 = \u7269\u4ef6) \u4f4d\u65bc (Slot 2)",block_replace_list_item:"\u7528 (Slot 3 = \u7269\u4ef6) \u66ff\u63db (Slot 2) \u7684 \u7269\u4ef6 (Slot 1)",block_copy_list:"\u8907\u88fd (Slot 1) \u5230 (Slot 2)",block_list_item:"(Slot 2) \u7684\u7269\u4ef6 (Slot 1)",block_list_length:"(Slot 1)\u7684\u9577\u5ea6",block_list_contains:"(Slot 1) \u5305\u542b (Slot 2 = \u7269\u4ef6)",last:"\u6700\u5f8c",
random:"\u96a8\u6a5f",Robots:"\u6a5f\u5668\u4eba",Operators:"\u7b97\u5b50",Sound:"\u8072\u97f3",Tablet:"\u5e73\u677f\u96fb\u8166",Control:"\u63a7\u5236",Variables:"\u8b8a\u6578",Zoom_in:"\u653e\u5927",Zoom_out:"\u7e2e\u5c0f",Reset_zoom:"\u91cd\u7f6e\u7e2e\u653e",Disable_snap_noise:"\u7981\u7528\u62cd\u7167\u8072\u97f3",Enable_snap_noise:"\u555f\u7528\u62cd\u7167\u8072\u97f3",CompassCalibrate:"\u6821\u6e96\u6307\u5357\u91dd",Send_debug_log:"\u767c\u9001\u8abf\u8a66\u65e5\u8a8c",Show_debug_menu:"\u986f\u793a\u8abf\u8a66\u756b\u9762",
Connect_Device:"\u9023\u63a5\u8a2d\u5099",Connect_Multiple:"\u9023\u63a5\u591a\u500b\u8a2d\u5099",Disconnect_Device:"\u65b7\u958b\u8a2d\u5099",Tap:"\u9ede\u6309+\u5373\u53ef\u9023\u63a5",Scanning_for_devices:"\u6383\u63cf\u8a2d\u5099",Open:"\u958b\u555f",No_saved_programs:"\u6c92\u6709\u4fdd\u5b58\u7684\u7a0b\u5f0f",New:"\u65b0",Saving:"\u4fdd\u5b58\u4e2d",On_Device:"\u5728\u8a2d\u5099\u4e0a",Cloud:"\u96f2\u7aef",Loading:"\u8f09\u5165\u4e2d",Sign_in:"\u767b\u5165",New_program:"\u65b0\u7a0b\u5f0f",
Share:"\u5206\u4eab",Recordings:"\u9304\u97f3",Discard:"\u4e1f\u68c4",Stop:"\u505c\u6b62",Pause:"\u66ab\u505c",remaining:"\u5176\u9918",Record:"\u9304\u88fd",Tap_record_to_start:"\u9ede\u64ca\u9304\u88fd\u958b\u59cb",Done:"\u5b8c\u6210",Delete:"\u522a\u9664",Delete_question:"\u4f60\u78ba\u5b9a\u8981\u522a\u9664\u9019\u500b\u55ce\uff1f",Cancel:"\u53d6\u6d88",OK:"\u597d",Dont_delete:"\u4e0d\u8981\u522a\u9664",Rename:"\u91cd\u65b0\u547d\u540d",Enter_new_name:"\u8f38\u5165\u65b0\u540d\u7a31",Duplicate:"\u8907\u88fd",
Name_duplicate_file:"\u8f38\u5165\u91cd\u8907\u6587\u4ef6\u7684\u540d\u7a31",Name_error_invalid_characters:"\u6587\u4ef6\u540d\u4e2d\u4e0d\u80fd\u5305\u542b\u4ee5\u4e0b\u5b57\u7b26\uff1a\n",Name_error_already_exists:"\u201c\u5df2\u7d93\u5b58\u5728\u3002\u8acb\u8f38\u5165\u5176\u4ed6\u540d\u7a31\u3002",Permission_denied:"\u6c92\u6709\u6b0a\u9650",Grant_permission:"\u5728\u201c\u8a2d\u7f6e\u201d\u4e2d\u70baBirdBlox\u6388\u4e88\u9304\u88fd\u6b0a\u9650",Dismiss:"\u64a4",Name:"\u540d\u7a31",Enter_file_name:"\u8f38\u5165\u6587\u4ef6\u540d",
Name_error_blank:"\u540d\u7a31\u4e0d\u80fd\u70ba\u7a7a\u3002 \u8f38\u5165\u6587\u4ef6\u540d\u3002",Edit_text:"\u7de8\u8f2f\u6587\u5b57",Question:"\u554f\u984c",Connection_Failure:"\u9023\u63a5\u5931\u6557",Connection_failed_try_again:"\u9023\u63a5\u5931\u6557\uff0c\u8acb\u518d\u8a66\u4e00\u6b21\u3002",Disconnect_account:"\u5e33\u6236\u9023\u63a5\u65b7\u958b",Disconnect_account_question:"\u5e33\u6236\u9023\u63a5\u65b7\u958b?",Dont_disconnect:"\u4e0d\u8981\u65b7\u958b\u9023\u63a5",Disconnect:"\u9023\u63a5",
not_connected:"(Device) \u672a\u9023\u63a5",not_a_valid_number:"\u4e0d\u662f\u6709\u6548\u7684\u865f\u78bc",Intensity:"\u5f37\u5ea6",Angle:"\u89d2\u5ea6",Speed:"\u901f\u5ea6",Note:"\u97f3\u7b26",Beats:"\u62cd\u5b50",Firmware_incompatible:"\u56fa\u4ef6\u4e0d\u517c\u5bb9",Update_firmware:"\u66f4\u65b0\u56fa\u4ef6",Device_firmware:"\u8a2d\u5099\u56fa\u4ef6\u7248\u672c\uff1a",Required_firmware:"\u6240\u9700\u7684\u56fa\u4ef6\u7248\u672c\uff1a",block_math_of_number:"(Slot 1) (Slot 2 = 10)",ceiling:"ceiling",
floor:"floor",abs:"abs",sqrt:"sqrt",CM:"CM",Inch:"Inch",block_subtract:"(Slot 1) \u2013 (Slot 2)",block_divide:"(Slot 1) / (Slot 2)",block_finch_move:"\u79fb\u52d5  (Slot 1) (Slot 2) \u5398\u7c73\u5728 (Slot 3) %",block_finch_turn:"\u8f49\u52d5 (Slot 1) (Slot 2) \u00b0\u5728 (Slot 3) %",block_finch_motors:"\u8eca\u8f2a  \u5de6 (Slot 1) % \u53f3 (Slot 2) %",block_finch_beak:"\u9ce5\u5634 \u7d05 (Slot 1) % \u7da0 (Slot 2) % \u85cd (Slot 3)%",block_finch_tail:"\u5c3e\u5df4 (Slot 1) \u7d05 (Slot 2) % \u7da0 (Slot 3) % \u85cd (Slot 4)%",
block_finch_reset_encoders:"\u91cd\u7f6e\u7de8\u78bc\u5668",block_encoder:"(Slot 1) \u7de8\u78bc\u5668",Line:"\u7dda",Forward:"\u5411\u524d",Backward:"\u5411\u5f8c",Right:"\u53f3\u50be",Left:"\u5de6\u50be",Beak_Up:"\u5411\u4e0a",Beak_Down:"\u5411\u4e0b",Finch_Is_Level:"\u6c34\u5e73",Upside_Down:"\u7ffb\u8f49",logo:"\u5fbd\u6a19",V2_required:"V2 micro:bit \u6240\u9700\u7684",Temperature:"\u6eab\u5ea6"};
function Device(a,b,c,d){this.name=a;this.id=b;this.RSSI=c;this.device=d;b=a.split(" ");this.shortName="";for(c=0;c<b.length;c++)this.shortName+=b[c][0];this.listLabel=this.shortName+" - "+a+" ("+d+")";Language.isRTL&&(this.listLabel+=Language.forceLTR);this.connected=!1;this.firmwareStatus=Device.firmwareStatuses.upToDate;this.batteryState="4";this.hasV2Microbit=this.firmwareStatusListener=this.statusListener=null}
Device.setStatics=function(){Device.firmwareStatuses={upToDate:"upToDate",old:"old",incompatible:"incompatible"}};Device.setStatics();
Device.setDeviceTypeName=function(a,b,c,d){a.getDeviceTypeName=function(f,g){return f||null!=g&&c.length>g?d:c};a.getDeviceTypeId=function(){return b};a.getNotConnectedMessage=function(f,g){return Language.getStr("not_connected").replace("(Device)",c)};const e=new DeviceManager(a);a.getManager=function(){return e};a.getConnectionInstructions=function(){return Language.getStr("Scanning_for_devices")+"..."}};
Device.prototype.getDeviceTypeName=function(a,b){return this.constructor.getDeviceTypeName(a,b)};Device.prototype.getDeviceTypeId=function(){return this.constructor.getDeviceTypeId()};Device.prototype.disconnect=function(){const a=new HttpRequestBuilder("robot/disconnect");a.addParam("type",this.getDeviceTypeId());a.addParam("id",this.id);HtmlServer.sendRequestWithCallback(a.toString())};
Device.prototype.connect=function(){const a=new HttpRequestBuilder("robot/connect");a.addParam("type",this.getDeviceTypeId());a.addParam("id",this.id);HtmlServer.sendRequestWithCallback(a.toString())};Device.prototype.setConnected=function(a){this.connected=a;null!=this.statusListener&&this.statusListener(this.getStatus());DeviceManager.updateStatus()};Device.prototype.setBatteryStatus=function(a){this.batteryState=a};Device.prototype.getBatteryStatus=function(){return this.batteryState};
Device.prototype.setCompassCalibrationStatus=function(a){this.compassCalibrated="true"==a};Device.prototype.getConnected=function(){return this.connected};Device.prototype.setFirmwareStatus=function(a){this.firmwareStatus=a;null!=this.statusListener&&this.statusListener(this.getStatus());null!=this.firmwareStatusListener&&this.firmwareStatusListener(this.getFirmwareStatus());DeviceManager.updateStatus()};
Device.prototype.getStatus=function(){const a=DeviceManager.statuses,b=Device.firmwareStatuses;return this.connected?this.firmwareStatus===b.incompatible?a.incompatibleFirmware:this.firmwareStatus===b.old?a.oldFirmware:a.connected:a.disconnected};Device.prototype.getFirmwareStatus=function(){return this.firmwareStatus};Device.prototype.setStatusListener=function(a){this.statusListener=a};Device.prototype.setFirmwareStatusListener=function(a){this.firmwareStatusListener=a};
Device.prototype.showFirmwareInfo=function(){const a=new HttpRequestBuilder("robot/showInfo");a.addParam("type",this.getDeviceTypeId());a.addParam("id",this.id);HtmlServer.sendRequestWithCallback(a.toString())};
Device.prototype.notifyIncompatible=function(a,b){let c=this.name+" "+Language.getStr("Firmware_incompatible")+". ";c+=Language.getStr("Device_firmware")+a+" ";c+=Language.getStr("Required_firmware")+b;DialogManager.showChoiceDialog(Language.getStr("Firmware_incompatible"),c,Language.getStr("Dismiss"),Language.getStr("Update_firmware"),!0,function(d){"2"===d&&(d=new HttpRequestBuilder("robot/showUpdateInstructions"),d.addParam("type",this.getDeviceTypeId()),HtmlServer.sendRequestWithCallback(d.toString()))}.bind(this))};
Device.prototype.setHasV2Microbit=function(a){this.hasV2Microbit=a};Device.fromJson=function(a){return"micro:bit"===a.device?new DeviceMicroBit(a.name,a.id,a.RSSI,a.device):"Bit"===a.device?new DeviceHummingbirdBit(a.name,a.id,a.RSSI,a.device):"Duo"===a.device?new DeviceHummingbird(a.name,a.id,a.RSSI,a.device):"Finch"===a.device?new DeviceFinch(a.name,a.id,a.RSSI,a.device):"Hatch"===a.device?new DeviceHatchling(a.name,a.id,a.RSSI,a.device,a.advertisedName):null};
Device.fromJsonArray=function(a){let b=[];for(let c=0;c<a.length;c++){const d=Device.fromJson(a[c]);null!=d&&b.push(d)}return b};Device.fromJsonArrayString=function(a){if(null==a)return[];let b=[];try{b=JSON.parse(a)}catch(c){b=[]}return Device.fromJsonArray(b)};Device.getTypeList=function(){return[DeviceHummingbird,DeviceHummingbirdBit,DeviceMicroBit,DeviceFinch,DeviceHatchling]};Device.stopAll=function(){const a=new HttpRequestBuilder("robot/stopAll");HtmlServer.sendRequestWithCallback(a.toString())};
function DeviceWithPorts(a,b,c,d){Device.call(this,a,b,c,d)}DeviceWithPorts.prototype=Object.create(Device.prototype);DeviceWithPorts.prototype.constructor=Device;DeviceWithPorts.prototype.readSensor=function(a,b,c){const d=new HttpRequestBuilder("robot/in");d.addParam("type",this.getDeviceTypeId());d.addParam("id",this.id);null!=c&&d.addParam("port",c);d.addParam("sensor",b);HtmlServer.sendRequest(d.toString(),a,!0)};
DeviceWithPorts.prototype.readMagnetometerSensor=function(a,b,c){const d=new HttpRequestBuilder("robot/in");d.addParam("type",this.getDeviceTypeId());d.addParam("id",this.id);d.addParam("axis",c);d.addParam("sensor",b);HtmlServer.sendRequest(d.toString(),a,!0)};DeviceWithPorts.prototype.readButtonSensor=function(a,b){const c=new HttpRequestBuilder("robot/in");c.addParam("type",this.getDeviceTypeId());c.addParam("id",this.id);c.addParam("sensor",b);HtmlServer.sendRequest(c.toString(),a,!0)};
DeviceWithPorts.prototype.readPrintBlock=function(a,b){const c=new HttpRequestBuilder("robot/out/printBlock");c.addParam("type",this.getDeviceTypeId());c.addParam("id",this.id);c.addParam("printString",b);HtmlServer.sendRequest(c.toString(),a,!0)};DeviceWithPorts.prototype.setOutput=function(a,b,c,d,e){b=new HttpRequestBuilder("robot/out/"+b);b.addParam("type",this.getDeviceTypeId());b.addParam("id",this.id);b.addParam("port",c);b.addParam(e,d);HtmlServer.sendRequest(b.toString(),a,!0)};
DeviceWithPorts.prototype.setTriLed=function(a,b,c,d,e){const f=new HttpRequestBuilder("robot/out/triled");f.addParam("type",this.getDeviceTypeId());f.addParam("id",this.id);f.addParam("port",b);f.addParam("red",c);f.addParam("green",d);f.addParam("blue",e);HtmlServer.sendRequest(f.toString(),a,!0)};
DeviceWithPorts.prototype.setBuzzer=function(a,b,c){c=Math.round(c);const d=new HttpRequestBuilder("robot/out/buzzer");d.addParam("type",this.getDeviceTypeId());d.addParam("id",this.id);d.addParam("note",b);d.addParam("duration",c);HtmlServer.sendRequest(d.toString(),a,!0)};
DeviceWithPorts.prototype.setLedArray=function(a,b){const c=new HttpRequestBuilder("robot/out/ledArray");c.addParam("type",this.getDeviceTypeId());c.addParam("id",this.id);c.addParam("ledArrayStatus",b);HtmlServer.sendRequest(c.toString(),a,!0)};DeviceWithPorts.prototype.readCompass=function(a){const b=new HttpRequestBuilder("robot/in");b.addParam("type",this.getDeviceTypeId());b.addParam("id",this.id);b.addParam("sensor","compass");HtmlServer.sendRequest(b.toString(),a,!0)};
DeviceWithPorts.prototype.calibrateCompass=function(a){const b=new HttpRequestBuilder("robot/out/compassCalibrate");b.addParam("type",this.getDeviceTypeId());b.addParam("id",this.id);HtmlServer.sendRequest(b.toString(),a,!0)};DeviceWithPorts.prototype.sendMicroBlocksData=function(a){const b=new HttpRequestBuilder("robot/out/microblocks");b.addParam("type",this.getDeviceTypeId());b.addParam("id",this.id);b.addParam("data",a);HtmlServer.sendRequest(b.toString(),status,!0)};
function DeviceManager(a){this.deviceClass=a;this.connectedDevices=[];this.connectionStatus=DeviceManager.statuses.noDevices;this.selectableDevices=0;this.scanning=!1;this.discoverCache=this.renewDiscoverFn=this.deviceDiscoverCallback=null}DeviceManager.setStatics=function(){const a=DeviceManager,b=DeviceManager.statuses={disconnected:0,incompatibleFirmware:1,oldFirmware:2,connected:3,noDevices:4};a.totalStatus=b.noDevices;a.batteryCheckInterval=1E3;a.statusListener=null;a.maxDevices=4};DeviceManager.setStatics();
DeviceManager.checkBattery=function(){var a="4",b="",c=Colors.lightGray;DeviceManager.forEach(function(d){for(var e=0;e<d.connectedDevices.length;e++)b=d.connectedDevices[e].getBatteryStatus(),parseInt(b,10)<parseInt(a,10)&&(a=b)});"3"===a&&(a="2");FinchBlox?("2"===a?c=Colors.flagGreen:"1"===a?c=Colors.fbYellow:"0"===a&&(c=Colors.stopRed),TitleBar.finchButton.battIcon.setColor(c)):("2"===a?c=Colors.green:"1"===a?c=Colors.yellow:"0"===a&&(c=Colors.red),TitleBar.batteryBn.icon.setColor(c))};
DeviceManager.prototype.getDeviceCount=function(){return this.connectedDevices.length};DeviceManager.prototype.getDevice=function(a){return a>=this.getDeviceCount()?null:this.connectedDevices[a]};DeviceManager.prototype.lookupRobotIndexById=function(a){for(let b=0;b<this.connectedDevices.length;b++)if(this.connectedDevices[b].id===a)return b;return-1};
DeviceManager.prototype.setDevice=function(a,b){DebugOptions.assert(a<this.getDeviceCount());this.connectedDevices[a].disconnect();b.connect();this.connectedDevices[a]=b;this.devicesChanged(DeviceManager.getDeviceClass(b),!0)};DeviceManager.getDeviceClass=function(a){return"micro:bit"===a.device?DeviceMicroBit:"Bit"===a.device?DeviceHummingbirdBit:"Duo"===a.device?DeviceHummingbird:"Finch"===a.device?DeviceFinch:"Hatch"===a.device?DeviceHatchling:null};
DeviceManager.prototype.removeDevice=function(a){let b=-1;for(let c=0;c<this.getDeviceCount();c++)if(this.connectedDevices[c].name===a){this.connectedDevices[c].disconnect();this.scanning&&this.markStoppedDiscover();b=c;break}-1!==b&&(this.connectedDevices.splice(b,1),this.devicesChanged(null,!0))};DeviceManager.prototype.appendDevice=function(a){a.connect();this.connectedDevices.push(a);this.devicesChanged(DeviceManager.getDeviceClass(a),!0)};
DeviceManager.prototype.setOneDevice=function(a){for(let b=0;b<this.connectedDevices.length;b++)this.connectedDevices[b].disconnect();a.connect();this.connectedDevices=[a];this.devicesChanged(null,!1)};DeviceManager.prototype.swapDevices=function(a,b){const c=this.connectedDevices[a];this.connectedDevices[a]=this.connectedDevices[b];this.connectedDevices[b]=c;this.devicesChanged(null,!1)};
DeviceManager.prototype.setOrSwapDevice=function(a,b){const c=this.lookupRobotIndexById(b.id);-1<c?this.swapDevices(a,c):this.setDevice(a,b)};DeviceManager.prototype.removeAllDevices=function(){this.scanning&&this.markStoppedDiscover();this.connectedDevices.forEach(function(a){a.disconnect()});this.connectedDevices=[];this.devicesChanged(null,!1)};
DeviceManager.prototype.deviceIsConnected=function(a){if(a>=this.getDeviceCount())return!1;a=this.connectedDevices[a].getStatus();const b=DeviceManager.statuses;return a===b.connected||a===b.oldFirmware};
DeviceManager.prototype.updateSelectableDevices=function(){var a=this.selectableDevices,b=CodeManager.countDevicesInUse(this.deviceClass);const c=this.getDeviceCount();this.selectableDevices=b=Math.max(c,b);1>=b&&1<a?CodeManager.hideDeviceDropDowns(this.deviceClass):1<b&&1>=a&&CodeManager.showDeviceDropDowns(this.deviceClass);a=0===b;BlockPalette.setSuggestedCollapse(this.deviceClass.getDeviceTypeId(),a)};
DeviceManager.prototype.hasV2Microbit=function(){let a=!1;this.connectedDevices.forEach(function(b){b.hasV2Microbit&&(a=!0)});return a};DeviceManager.prototype.getSelectableDeviceCount=function(){return this.selectableDevices};DeviceManager.prototype.devicesChanged=function(a,b){b&&(null!=a?ConnectMultipleDialog.reloadDialog(a):ConnectMultipleDialog.reloadDialog());this.updateSelectableDevices();DeviceManager.updateStatus();CodeManager.updateConnectionStatus();DeviceManager.checkBattery()};
DeviceManager.prototype.startDiscover=function(a){this.renewDiscoverFn=a;this.scanning||(this.scanning=!0,this.discoverCache=null,a=new HttpRequestBuilder("robot/startDiscover"),HtmlServer.sendRequestWithCallback(a.toString()))};DeviceManager.prototype.registerDiscoverCallback=function(a){this.deviceDiscoverCallback=a};DeviceManager.prototype.getDiscoverCache=function(){return this.discoverCache};
DeviceManager.prototype.possiblyRescan=function(){null!=this.renewDiscoverFn&&this.renewDiscoverFn()?(this.scanning=!1,this.discoverCache=null,this.startDiscover(this.renewDiscoverFn)):this.markStoppedDiscover()};
DeviceManager.prototype.fromJsonArrayString=function(a,b,c){a=Device.fromJsonArrayString(a);let d=[];a.forEach(function(f){FinchBlox&&DeviceManager.getDeviceClass(f)!=this.deviceClass||-1===this.lookupRobotIndexById(f.id)&&d.push(f)}.bind(this));let e=d;b&&(e=this.connectedDevices.concat(a),null!=c&&e.splice(c,1));DebugOptions.shouldAllowVirtualDevices()&&(e=e.concat(this.createVirtualDeviceList()));return e};
DeviceManager.prototype.backendDiscovered=function(a){this.discoverCache=a;null!=this.deviceDiscoverCallback&&this.deviceDiscoverCallback(a)};DeviceManager.prototype.stopDiscover=function(a,b){let c=new HttpRequestBuilder("robot/stopDiscover");HtmlServer.sendRequestWithCallback(c.toString(),a,b);this.markStoppedDiscover()};DeviceManager.prototype.markStoppedDiscover=function(){this.renewDiscoverFn=this.discoverCache=this.deviceDiscoverCallback=null;this.scanning=!1};
DeviceManager.prototype.createVirtualDeviceList=function(){let a=[],b=20*Math.random()+20;for(let c=0;c<b;c++)a.push(DebugOptions.createVirtualDevice(this.deviceClass,c+""));return a};DeviceManager.prototype.updateConnectionStatus=function(a,b){var c=this.lookupRobotIndexById(a);a=null;0<=c&&(a=this.connectedDevices[c]);null!=a&&(c=a.getConnected(),a.setConnected(b),!c||b||this.scanning||this.startDiscover(function(){return!0}),b&&!c&&this.scanning&&this.markStoppedDiscover(),Hatchling&&b&&!c&&mbRuntime.justConnected())};
DeviceManager.prototype.updateRobotBatteryStatus=function(a,b){a=this.lookupRobotIndexById(a);let c=null;0<=a&&(c=this.connectedDevices[a]);null!=c&&c.setBatteryStatus(b)};DeviceManager.prototype.updateCompassCalibrationStatus=function(a,b){a=this.lookupRobotIndexById(a);0<=a&&this.connectedDevices[a].setCompassCalibrationStatus(b)};DeviceManager.prototype.setHasV2Microbit=function(a,b){a=this.lookupRobotIndexById(a);0<=a&&this.connectedDevices[a].setHasV2Microbit(b)};
DeviceManager.prototype.updateFirmwareStatus=function(a,b){a=this.lookupRobotIndexById(a);let c=null;0<=a&&(c=this.connectedDevices[a]);null!=c&&c.setFirmwareStatus(b)};DeviceManager.prototype.removeDisconnected=function(a,b,c){a=this.lookupRobotIndexById(a);if(0<=a){const d=this.connectedDevices[a];this.connectedDevices.splice(a,1);this.devicesChanged(null,!0);null!=b&&null!=c&&d.notifyIncompatible(b,c)}};
DeviceManager.prototype.getStatus=function(){let a=DeviceManager.statuses.noDevices;this.connectedDevices.forEach(function(b){a=Math.min(a,b.getStatus())});return this.connectionStatus=a};DeviceManager.forEach=function(a){Device.getTypeList().forEach(function(b){a(b.getManager())})};DeviceManager.updateSelectableDevices=function(){DeviceManager.forEach(function(a){a.updateSelectableDevices()})};
DeviceManager.updateConnectionStatus=function(a,b){DeviceManager.forEach(function(c){c.updateConnectionStatus(a,b)});CodeManager.updateConnectionStatus()};DeviceManager.updateRobotBatteryStatus=function(a,b){DeviceManager.forEach(function(c){c.updateRobotBatteryStatus(a,b)});DeviceManager.checkBattery()};DeviceManager.updateCompassCalibrationStatus=function(a,b){DeviceManager.forEach(function(c){c.updateCompassCalibrationStatus(a,b)})};
DeviceManager.setHasV2Microbit=function(a,b){DeviceManager.forEach(function(c){c.setHasV2Microbit(a,b)})};DeviceManager.hasV2MicrobitConnected=function(a){let b=!1;DeviceManager.forEach(function(c){c.deviceClass==a&&c.hasV2Microbit()&&(b=!0)});return b};DeviceManager.updateFirmwareStatus=function(a,b){DeviceManager.forEach(function(c){c.updateFirmwareStatus(a,b)});CodeManager.updateConnectionStatus()};
DeviceManager.updateStatus=function(){const a=DeviceManager;let b=a.getStatus();null!=a.statusListener&&a.statusListener(b);return b};DeviceManager.getStatus=function(){let a=DeviceManager,b=a.statuses.noDevices;a.forEach(function(c){b=a.minStatus(c.getStatus(),b)});return a.totalStatus=b};DeviceManager.minStatus=function(a,b){return Math.min(a,b)};DeviceManager.setStatusListener=function(a){DeviceManager.statusListener=a};DeviceManager.backendDiscovered=function(a){DeviceManager.forEach(function(b){b.backendDiscovered(a)})};
DeviceManager.removeDisconnected=function(a,b,c){DeviceManager.forEach(function(d){d.removeDisconnected(a,b,c)})};DeviceManager.possiblyRescan=function(){DeviceManager.forEach(function(a){a.possiblyRescan()})};DeviceManager.removeAllDevices=function(){DeviceManager.forEach(function(a){a.removeAllDevices()})};function DeviceHummingbird(a,b,c,d){DeviceWithPorts.call(this,a,b,c,d)}DeviceHummingbird.prototype=Object.create(DeviceWithPorts.prototype);DeviceHummingbird.prototype.constructor=DeviceHummingbird;
Device.setDeviceTypeName(DeviceHummingbird,"hummingbird","Hummingbird Duo","Duo");function DeviceHummingbirdBit(a,b,c,d){DeviceWithPorts.call(this,a,b,c,d)}DeviceHummingbirdBit.prototype=Object.create(DeviceWithPorts.prototype);DeviceHummingbirdBit.prototype.constructor=DeviceHummingbirdBit;Device.setDeviceTypeName(DeviceHummingbirdBit,"hummingbirdbit","Hummingbird Bit","Bit");function DeviceMicroBit(a,b,c,d){DeviceWithPorts.call(this,a,b,c,d)}DeviceMicroBit.prototype=Object.create(DeviceWithPorts.prototype);
DeviceMicroBit.prototype.constructor=DeviceMicroBit;Device.setDeviceTypeName(DeviceMicroBit,"microbit","micro:bit","micro:bit");function DeviceFlutter(a,b,c,d){DeviceWithPorts.call(this,a,b,c,d)}DeviceFlutter.prototype=Object.create(DeviceWithPorts.prototype);Device.setDeviceTypeName(DeviceFlutter,"flutter","Flutter","F");DeviceFlutter.prototype.constructor=DeviceFlutter;
DeviceFlutter.prototype.setBuzzer=function(a,b,c){const d=new HttpRequestBuilder("robot/out/buzzer");d.addParam("type",this.getDeviceTypeId());d.addParam("id",this.id);d.addParam("volume",b);d.addParam("frequency",c);HtmlServer.sendRequest(d.toString(),a,!0)};DeviceFlutter.getConnectionInstructions=function(){return'Press the "find me" button on your Flutter'};function DeviceFinch(a,b,c,d){DeviceWithPorts.call(this,a,b,c,d);this.isMoving=!1}DeviceFinch.prototype=Object.create(DeviceWithPorts.prototype);
Device.setDeviceTypeName(DeviceFinch,"finch","Finch","Finch");DeviceFinch.prototype.constructor=DeviceFinch;DeviceFinch.ticksPerCM=49.7;DeviceFinch.ticksPerDegree=4.335;DeviceFinch.cmPerDistance=.0919;DeviceFinch.prototype.setBeak=function(a,b,c,d){const e=new HttpRequestBuilder("robot/out/beak");e.addParam("type",this.getDeviceTypeId());e.addParam("id",this.id);e.addParam("red",b);e.addParam("green",c);e.addParam("blue",d);HtmlServer.sendRequest(e.toString(),a,!0)};
DeviceFinch.prototype.setTail=function(a,b,c,d,e){const f=new HttpRequestBuilder("robot/out/tail");f.addParam("type",this.getDeviceTypeId());f.addParam("id",this.id);f.addParam("port",b);f.addParam("red",c);f.addParam("green",d);f.addParam("blue",e);HtmlServer.sendRequest(f.toString(),a,!0)};
DeviceFinch.prototype.setMotors=function(a,b,c,d,e){100<b&&(b=100);-100>b&&(b=-100);100<d&&(d=100);-100>d&&(d=-100);b=Math.round(.36*b);d=Math.round(.36*d);0<b&&3>b&&(b=3);0>b&&-3<b&&(b=-3);0<d&&3>d&&(d=3);0>d&&-3<d&&(d=-3);const f=new HttpRequestBuilder("robot/out/motors");f.addParam("type",this.getDeviceTypeId());f.addParam("id",this.id);f.addParam("speedL",b);f.addParam("ticksL",c);f.addParam("speedR",d);f.addParam("ticksR",e);HtmlServer.sendRequest(f.toString(),a,!0,!0)};
DeviceFinch.prototype.resetEncoders=function(a){const b=new HttpRequestBuilder("robot/out/resetEncoders");b.addParam("type",this.getDeviceTypeId());b.addParam("id",this.id);HtmlServer.sendRequest(b.toString(),a,!0)};DeviceFinch.prototype.readSensor=function(a,b,c){const d=new HttpRequestBuilder("robot/in");d.addParam("type",this.getDeviceTypeId());d.addParam("id",this.id);d.addParam("sensor",b);null!=c&&d.addParam("position",c);HtmlServer.sendRequest(d.toString(),a,!0)};
function DeviceHatchling(a,b,c,d,e){console.log("DeviceHatchling "+a+", "+b+", "+c+", "+d+", "+e);DeviceWithPorts.call(this,a,b,c,d);console.log("device created.");this.hlState=[];this.supportedStates=[0,1,3,8,9,10,14,31];this.portStates=[0,0,0,0,0,0];this.advertisedName=e;this.messageInProgress=this.batteryLevel=null}DeviceHatchling.prototype=Object.create(DeviceWithPorts.prototype);DeviceHatchling.prototype.constructor=DeviceHatchling;
Device.setDeviceTypeName(DeviceHatchling,"hatchling","Hatchling","Hatchling");
DeviceHatchling.prototype.setHatchlingState=function(a){if(null!=this.messageInProgress){var b=this.messageInProgress.data.length+a.length;let c=new Uint8Array(b);c.set(this.messageInProgress.data,0);c.set(a,this.messageInProgress.data.length);b<this.messageInProgress.length?this.messageInProgress.data=c:(this.messageInProgress=null,this.setHatchlingState(c))}else 250!=a[0]&&251!=a[0]?console.error("Data received starts with unknown code: "+a):(b=250==a[0]?3:(a[3]|a[4]<<8)+5,a.length==b?mbRuntime.handleMessage(a):
a.length>b?(mbRuntime.handleMessage(a.slice(0,b)),this.setHatchlingState(a.slice(b))):a.length<b&&(this.messageInProgress={length:b,data:a}))};
DeviceHatchling.prototype.receiveBroadcast=function(a){if(252!=a[0])console.error("Unsupported broadcast message "+a[0]);else for(this.hlState=a.slice(1),this.batteryLevel=this.hlState[6],a=0;a<this.portStates.length;a++)this.portStates[a]!=this.hlState[a]&&(this.supportedStates.includes(this.hlState[a])?(console.log("New value for port "+a+": "+this.hlState[a]),this.setOutput(null,"portOff",a,0,"offValue"),this.portStates[a]=this.hlState[a],31==this.portStates[a]&&(this.portStates[a]=0),CodeManager.updateAvailablePorts(a)):
console.log("Unsupported type "+this.hlState[a]+" at port "+a))};DeviceHatchling.prototype.getPortsByType=function(a){let b=[];for(let c=0;c<this.portStates.length;c++)this.portStates[c]==a&&b.push(c);return b};DeviceHatchling.prototype.readSensor=function(a,b,c){a=new HttpRequestBuilder("robot/in");a.addParam("type",this.getDeviceTypeId());a.addParam("id",this.id);a.addParam("sensor",b);null!=c&&a.addParam("port",c)};DeviceHatchling.prototype.getSensorValue=function(a){return this.hlState[a+14]};
DeviceHatchling.prototype.getHatchlingCode=function(){let a=[],b=0;for(let c=0;5>c;c++){let d=parseInt("2468A"[c],16);b+=d;a.push(this.getColor(d))}a.push(this.getColor(b%16));return a};DeviceHatchling.prototype.getColor=function(a){switch(a){case 0:case 1:return"#f00";case 2:case 3:return"#f60";case 4:case 5:return"#ff0";case 6:case 7:return"#0f0";case 8:case 9:return"#0ff";case 10:case 11:return"#00f";case 12:case 13:return"#f0f";case 14:case 15:return"#fff";default:return"#000"}};
DeviceHatchling.prototype.setOutput=function(a,b,c,d,e){};DeviceHatchling.prototype.setTriLed=function(a,b,c,d,e){};DeviceHatchling.prototype.setBuzzer=function(a,b,c){};DeviceHatchling.prototype.setLedArray=function(a,b){};function TabletSensors(){TabletSensors.clear();TabletSensors.requestAvailable()}TabletSensors.requestAvailable=function(){const a=new HttpRequestBuilder("tablet/availableSensors");HtmlServer.sendRequestWithCallback(a.toString(),function(b){TabletSensors.updateAvailable(b)})};
TabletSensors.updateAvailable=function(a){TabletSensors.clear();const b=TabletSensors.sensors;let c=a.split("\n");""===a&&(c=[]);c.forEach(function(d){!1===b[d]&&(b[d]=!0)});CodeManager.updateAvailableSensors()};TabletSensors.addSensor=function(a){const b=TabletSensors;return null!=b.sensors[a]?(b.sensors[a]=!0,CodeManager.updateAvailableSensors(),!0):!1};
TabletSensors.removeSensor=function(a){const b=TabletSensors;return null!=b.sensors[a]?(b.sensors[a]=!1,CodeManager.updateAvailableSensors(),!0):!1};TabletSensors.clear=function(){const a=TabletSensors.sensors={};a.accelerometer=!1;a.barometer=!1;a.microphone=!1;a.gps=!1};
function GuiElements(){document.getElementById("debug").innerHTML="";let a=document.getElementById("frontSvg"),b=document.getElementById("middleSvg"),c=document.getElementById("backSvg");GuiElements.svgs=[c,b,a];GuiElements.defs=document.getElementById("SvgDefs");GuiElements.loaded=!1;GuiElements.loadInitialSettings(function(){GuiElements.setLanguage();GuiElements.setConstants();GuiElements.createLayers();GuiElements.dialogBlock=null;GuiElements.buildUI();HtmlServer.sendFinishedLoadingRequest();GuiElements.loaded=
!0})}document.addEventListener("DOMContentLoaded",function(){GuiElements.alert("Loading");DebugOptions.safeFunc(GuiElements)()},!1);window.onresize=function(){if(GuiElements.loaded){let a=function(){FinchBlox?FBPopup.isEditingText||(GuiElements.zoomMultiple=window.innerWidth/800,GuiElements.updateZoom()):GuiElements.updateDims()};GuiElements.isIos?setTimeout(function(){a()},500):a()}};
GuiElements.setLanguage=function(){var a=sessionStorage.getItem("language");void 0!=a&&null!=a&&(Language.lang=a);a=document.createElement("link");a.type="text/css";a.rel="stylesheet";-1===Language.rtlLangs.indexOf(Language.lang)?a.href="MyCSS.css":(a.href="MyCSS_rtl.css",Language.isRTL=!0,document.getElementsByTagName("html")[0].setAttribute("dir","rtl"));document.getElementsByTagName("head")[0].appendChild(a)};
GuiElements.setGuiConstants=function(){GuiElements.minZoom=.25;GuiElements.maxZoom=4;GuiElements.minZoomMult=.5;GuiElements.maxZoomMult=2;GuiElements.zoomAmount=.1;GuiElements.defaultZoomMm=246.38;GuiElements.defaultZoomPx=1280;GuiElements.defaultZoomMultiple=1;GuiElements.smallModeThreshold=620;GuiElements.computedZoom=GuiElements.defaultZoomMultiple;GuiElements.zoomMultiple=1;FinchBlox&&(GuiElements.zoomMultiple=window.innerWidth/800);GuiElements.zoomFactor=GuiElements.defaultZoomMultiple;GuiElements.width=
window.innerWidth/GuiElements.zoomFactor;GuiElements.height=window.innerHeight/GuiElements.zoomFactor;GuiElements.blockerOpacity=.5;GuiElements.isKindle=!1;GuiElements.isIos=!1;GuiElements.isAndroid=!1;GuiElements.paletteLayersVisible=!0;GuiElements.smallMode=!1};
GuiElements.setConstants=function(){Hatchling&&MicroBlocksRuntime.init();VectorPaths();ImageLists();DialogManager();Sound.setConstants();BlockList();Colors();Button.setGraphics();CloseButton.setGraphics();DeviceStatusLight.setConstants();TitleBar.setGraphicsPart1();BlockGraphics();HexSlotShape.setConstants();EditableSlotShape.setConstants();RectSlotShape.setConstants();RoundSlotShape.setConstants();DropSlotShape.setConstants();Slot.setConstants();EditableSlot.setConstants();Block.setConstants();BlockPalette.setGraphics();
CollapsibleSet.setConstants();CollapsibleItem.setConstants();TitleBar.setGraphicsPart2();TabManager.setGraphics();CategoryBN.setGraphics();SmoothMenuBnList.setGraphics();Menu.setGraphics();DeviceMenu.setGraphics();BatteryMenu.setGraphics();TabletSensors();BubbleOverlay.setGraphics();ResultBubble.setConstants();BlockContextMenu.setGraphics();RecordingManager();RowDialog.setConstants();OpenDialog.setConstants();FileContextMenu.setGraphics();LevelDialog.setConstants();LevelManager.setConstants();FBPopup.setConstants();
InputPad.setConstants();SoundInputPad.setConstants();InputWidget.NumPad.setConstants();InputWidget.Label.setConstants();InputWidget.Slider.setConstants();InputWidget.Piano.setConstants();ConnectMultipleDialog.setConstants();RobotConnectionList.setConstants();TabRow.setConstants();RecordingDialog.setConstants();DisplayBox.setGraphics();OverflowArrows.setConstants();CodeManager();SaveManager.setConstants();UndoManager();Comment.setGlobals()};
GuiElements.buildUI=function(){document.body.style.backgroundColor=Colors.black;Colors.createGradients();Overlay.setStatics();TouchReceiver();FinchBlox&&LevelManager();BlockPalette();TitleBar();TabManager();DisplayBoxManager();Highlighter();SaveManager();GuiElements.blockInteraction();FinchBlox?LevelManager.loadLevelSavePoint():OpenDialog.showDialog();DebugOptions.applyActions()};
GuiElements.createLayers=function(){const a=GuiElements.create;GuiElements.zoomGroups=[];GuiElements.svgs.forEach(function(d){d=a.group(0,0,d);GuiElements.zoomGroups.push(d);GuiElements.update.zoom(d,GuiElements.zoomFactor)});GuiElements.layers={};let b=0;const c=GuiElements.layers;c.temp=a.layer(b);c.aTabBg=a.layer(b);c.activeTab=a.layer(b);c.TabsBg=a.layer(b);c.paletteBG=a.layer(b);c.paletteScroll=document.getElementById("paletteScrollDiv");b++;c.trash=a.layer(b);c.catBg=a.layer(b);c.categories=
a.layer(b);c.titleBg=a.layer(b);c.titlebar=a.layer(b);c.overflowArr=a.layer(b);c.stage=a.layer(b);c.display=a.layer(b);c.drag=a.layer(b);c.highlight=a.layer(b);c.resultBubble=a.layer(b);c.inputPad=a.layer(b);c.tabMenu=a.layer(b);c.dialogBlock=a.layer(b);c.dialog=a.layer(b);c.overlay=a.layer(b);c.frontScroll=document.getElementById("frontScrollDiv");b++;c.overlayOverlay=a.layer(b);c.overlayOverlayScroll=document.getElementById("overlayOverlayScrollDiv")};
GuiElements.alert=function(a){DebugOptions.shouldAllowLogging()&&(debug.innerHTML=a)};GuiElements.create={};GuiElements.create.group=function(a,b,c){DebugOptions.validateOptionalNums(a,b);const d=document.createElementNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"transform","translate("+a+","+b+")");null!=c&&c.appendChild(d);return d};
GuiElements.create.layer=function(a){DebugOptions.validateNumbers(a);let b=GuiElements.create.group(0,0,GuiElements.zoomGroups[a]),c=GuiElements.create.group(0,0,b);a={};a.appendChild=c.appendChild.bind(c);a.setAttributeNS=c.setAttributeNS.bind(c);a.hide=c.remove.bind(c);a.show=function(){b.appendChild(c)};return a};
GuiElements.create.gradient=function(a,b,c,d,e,f){DebugOptions.validateNonNull(b,c);null==e&&(e=1);null==f&&(f=1);const g=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");g.setAttributeNS(null,"id",a);g.setAttributeNS(null,"x1","0%");g.setAttributeNS(null,"x2","0%");g.setAttributeNS(null,"y1","0%");g.setAttributeNS(null,"y2","100%");d&&(g.setAttributeNS(null,"x2","100%"),g.setAttributeNS(null,"y2","0%"));GuiElements.defs.appendChild(g);a=document.createElementNS("http://www.w3.org/2000/svg",
"stop");a.setAttributeNS(null,"offset","0%");a.setAttributeNS(null,"style","stop-color:"+b+";stop-opacity:"+e);g.appendChild(a);b=document.createElementNS("http://www.w3.org/2000/svg","stop");b.setAttributeNS(null,"offset","100%");b.setAttributeNS(null,"style","stop-color:"+c+";stop-opacity:"+f);g.appendChild(b)};
GuiElements.create.spectrum=function(){const a=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");a.setAttributeNS(null,"id","gradient_spectrum");a.setAttributeNS(null,"x1","0%");a.setAttributeNS(null,"x2","100%");a.setAttributeNS(null,"y1","0%");a.setAttributeNS(null,"y2","0%");a.appendChild(GuiElements.create.stop(Colors.red,0));a.appendChild(GuiElements.create.stop(Colors.yellow,16.67));a.appendChild(GuiElements.create.stop(Colors.green,33.33));a.appendChild(GuiElements.create.stop(Colors.cyan,
50));a.appendChild(GuiElements.create.stop(Colors.blue,66.67));a.appendChild(GuiElements.create.stop(Colors.magenta,83.33));a.appendChild(GuiElements.create.stop(Colors.red,100));GuiElements.defs.appendChild(a)};GuiElements.create.stop=function(a,b){const c=document.createElementNS("http://www.w3.org/2000/svg","stop");c.setAttributeNS(null,"offset",b+"%");c.setAttributeNS(null,"style","stop-color:"+a+";stop-opacity:1");return c};
GuiElements.create.path=function(a){const b=document.createElementNS("http://www.w3.org/2000/svg","path");null!=a&&a.appendChild(b);return b};GuiElements.create.text=function(){var a=document.createElementNS("http://www.w3.org/2000/svg","text");Language.isRTL&&a.setAttributeNS(null,"transform","scale(-1, 1)");return a};GuiElements.create.image=function(){return document.createElementNS("http://www.w3.org/2000/svg","image")};
GuiElements.create.svg=function(a){const b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");null!=a&&a.appendChild(b);return b};GuiElements.create.scrollDiv=function(a){const b=document.createElement("div");b.style.position="absolute";null!=a&&a.appendChild(b);return b};
GuiElements.create.rect=function(a){const b=document.createElementNS("http://www.w3.org/2000/svg","rect");null!=a&&a.appendChild(b);return b};
GuiElements.create.editableText=function(a,b,c,d,e,f,g,h){const k=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");k.setAttribute("width",e);k.setAttribute("height",f);k.setAttribute("style","text-align: center;");k.setAttribute("x",c);k.setAttribute("y",d);c=document.createElement("div");c.setAttribute("contentEditable","true");c.setAttribute("spellcheck","false");c.setAttribute("autocomplete","off");c.setAttribute("width",e);c.setAttribute("style","pointer-events: auto; -webkit-user-select: auto;");
c.style.display="block";c.style.color=b;c.style.fontFamily=a.fontFamily;c.style.fontSize=a.fontSize+"px";c.style.outline="none";k.appendChild(c);g.appendChild(k);c.charCount=0;c.parent=h;null!=h&&k.setAttribute("style","text-align: left;");c.addEventListener("keydown",function(l){!FinchBlox||"Enter"!=l.code&&13!==l.keyCode||(this.blur(),GuiElements.isPWA&&null!=FBPopup.currentPopup&&(FBPopup.currentPopup.confirm(),FBPopup.currentPopup.close()));if("Delete"==l.code||"Backspace"==l.code||46===l.keyCode||
8===l.keyCode)this.charCount--,null!=this.parent&&this.parent.update()});c.addEventListener("keypress",function(l){24<this.charCount&&FinchBlox?l.preventDefault():this.charCount++;null!=this.parent&&this.parent.update()});c.onfocus=function(){if(document.createRange){var l=document.createRange();l.selectNodeContents(this);l.collapse(!1);var m=window.getSelection();m.removeAllRanges();m.addRange(l)}else document.selection&&(l=document.body.createTextRange(),l.moveToElementText(this),l.collapse(!1),
l.select())};c.onblur=function(){null!=this.parent&&(this.parent.update(),Comment.currentlyEditing&&(Comment.currentlyEditing=null),this.parent.setPosition())};return c};GuiElements.draw={};
GuiElements.draw.rect=function(a,b,c,d,e,f,g){DebugOptions.validateNumbers(a,b,c,d);const h=document.createElementNS("http://www.w3.org/2000/svg","rect");h.setAttributeNS(null,"x",a);h.setAttributeNS(null,"y",b);h.setAttributeNS(null,"width",c);h.setAttributeNS(null,"height",d);null!=e&&h.setAttributeNS(null,"fill",e);null!=f&&null!=g&&(h.setAttributeNS(null,"rx",f),h.setAttributeNS(null,"ry",g));return h};
GuiElements.draw.line=function(a,b,c,d,e,f){DebugOptions.validateNumbers(a,b,c,d);const g=document.createElementNS("http://www.w3.org/2000/svg","line");g.setAttributeNS(null,"x1",a);g.setAttributeNS(null,"y1",b);g.setAttributeNS(null,"x2",c);g.setAttributeNS(null,"y2",d);g.setAttributeNS(null,"stroke",e);g.setAttributeNS(null,"stroke-width",f);return g};
GuiElements.draw.triangle=function(a,b,c,d,e){DebugOptions.validateNonNull(e);DebugOptions.validateNumbers(a,b,c,d);const f=document.createElementNS("http://www.w3.org/2000/svg","path");GuiElements.update.triangle(f,a,b,c,d);f.setAttributeNS(null,"fill",e);return f};
GuiElements.draw.rightTriangle=function(a,b,c,d,e){DebugOptions.validateNonNull(e);DebugOptions.validateNumbers(a,b,c,d);const f=document.createElementNS("http://www.w3.org/2000/svg","path");GuiElements.update.rightTriangle(f,a,b,c,d);f.setAttributeNS(null,"fill",e);return f};
GuiElements.draw.triangleFromPoint=function(a,b,c,d,e){DebugOptions.validateNonNull(e);DebugOptions.validateNumbers(a,b,c,d);const f=document.createElementNS("http://www.w3.org/2000/svg","path");GuiElements.update.triangleFromPoint(f,a,b,c,d);f.setAttributeNS(null,"fill",e);return f};
GuiElements.draw.trapezoid=function(a,b,c,d,e,f){DebugOptions.validateNonNull(f);DebugOptions.validateNumbers(a,b,c,d,e);const g=document.createElementNS("http://www.w3.org/2000/svg","path");GuiElements.update.trapezoid(g,a,b,c,d,e);g.setAttributeNS(null,"fill",f);return g};
GuiElements.draw.circle=function(a,b,c,d,e){DebugOptions.validateNonNull(d);DebugOptions.validateNumbers(a,b,c);const f=document.createElementNS("http://www.w3.org/2000/svg","circle");f.setAttributeNS(null,"cx",a);f.setAttributeNS(null,"cy",b);f.setAttributeNS(null,"r",c);f.setAttributeNS(null,"fill",d);null!=e&&e.appendChild(f);return f};
GuiElements.draw.image=function(a,b,c,d,e,f,g){DebugOptions.validateNumbers(b,c,d,e);const h=GuiElements.create.image();h.setAttributeNS(null,"x",b);h.setAttributeNS(null,"y",c);h.setAttributeNS(null,"width",d);h.setAttributeNS(null,"height",e);h.setAttributeNS("http://www.w3.org/1999/xlink","href","Images/"+a+(g?".svg":".png"));h.setAttributeNS(null,"visibility","visible");null!=f&&f.appendChild(h);return h};
GuiElements.draw.text=function(a,b,c,d,e,f,g){DebugOptions.assert(null==f);DebugOptions.validateNonNull(e);DebugOptions.validateNumbers(a,b);f=GuiElements.create.text();Language.isRTL&&(a=-a);f.setAttributeNS(null,"x",a);f.setAttributeNS(null,"y",b);f.setAttributeNS(null,"font-family",d.fontFamily);f.setAttributeNS(null,"font-size",d.fontSize);f.setAttributeNS(null,"font-weight",d.fontWeight);f.setAttributeNS(null,"fill",e);f.setAttributeNS(null,"class","noselect");null!=g&&f.setAttributeNS(null,
"transform","rotate("+g+", "+a+", "+b+")");c=(c+"").replace(RegExp(" ","g"),String.fromCharCode(160));a=document.createTextNode(c);f.textNode=a;f.appendChild(a);return f};
GuiElements.draw.video=function(a,b){const c=document.createElement("div");c.setAttribute("style","position: relative; height: 100%; width: 100%; pointer-events: none;");const d=document.createElement("video");null!=b&&(d.setAttribute("id","video"+b),d.setAttribute("loop","loop"));d.setAttribute("style","position: relative; display: block; margin: 0 auto; height: auto; width: 95%; top: 50%; transform: translateY(-50%);");d.src=a;d.autoplay=!0;d.muted=!0;c.appendChild(d);document.body.appendChild(c);
d.addEventListener("ended",function(e){document.body.removeChild(c)},!1);return d};GuiElements.draw.tab=function(a,b,c,d,e,f,g){DebugOptions.validateNonNull(e);DebugOptions.validateNumbers(a,b,c,d);const h=document.createElementNS("http://www.w3.org/2000/svg","path");GuiElements.update.tab(h,a,b,c,d,f,g);h.setAttributeNS(null,"fill",e);return h};
GuiElements.draw.ledArray=function(a,b,c){let d={};b=b.split("");a=GuiElements.create.group(0,0,a);const e=c/4,f=c/2;let g=0;for(let k=0;5>k;k++){let l=0;for(let m=0;5>m;m++){var h=Colors.fbGray;"1"==b[5*k+m]&&(h=Colors.bbtDarkGray);h=GuiElements.draw.rect(l,g,c,c,h,e,e);a.appendChild(h);l+=c+f}g+=c+f}d.group=a;d.width=5*c+4*f;return d};
GuiElements.draw.wedge=function(a,b,c,d,e,f,g){DebugOptions.validateNonNull(e);DebugOptions.validateNumbers(a,b,c,d);const h=document.createElementNS("http://www.w3.org/2000/svg","path");GuiElements.update.wedge(h,a,b,c,d,f,g);g&&(e=Colors.white);h.setAttributeNS(null,"fill",e);return h};
GuiElements.draw.hatchlingPattern=function(a,b,c){a=GuiElements.create.group(0,0,a);let d=b/=9,e=3*b;for(let f=0;6>f;f++){switch(f){case 0:case 2:e=3*b;break;case 1:e=2*b;break;case 3:case 5:e=6*b;break;case 4:e=7*b}GuiElements.draw.circle(d,e,b,c[f],a);2>f?d+=3*b:2<f&&(d-=3*b)}return a};GuiElements.update={};GuiElements.update.color=function(a,b){DebugOptions.validateNonNull(b);a.setAttributeNS(null,"fill",b)};GuiElements.update.opacity=function(a,b){a.setAttributeNS(null,"fill-opacity",b)};
GuiElements.update.stroke=function(a,b,c){DebugOptions.validateNonNull(b);a.setAttributeNS(null,"stroke",b);a.setAttributeNS(null,"stroke-width",c)};GuiElements.update.text=function(a,b){b=(b+"").replace(RegExp(" ","g"),String.fromCharCode(160));null!=a.textNode&&a.textNode.remove();b=document.createTextNode(b);a.textNode=b;a.appendChild(b)};
GuiElements.update.textLimitWidth=function(a,b,c){GuiElements.update.text(a,b);var d=GuiElements.measure.textWidth(a);if(!(d<=c||""==b)){for(var e=1,f=b.length;e<=f;){d=b.substring(0,e);GuiElements.update.text(a,d+"...");d=GuiElements.measure.textWidth(a);if(d>c){e--;break}e++}d=b.substring(0,e);GuiElements.update.text(a,d+"...")}};
GuiElements.update.triangle=function(a,b,c,d,e){DebugOptions.validateNumbers(b,c,d,e);d/=2;b="m "+b+","+c+(" "+d+","+(0-e))+(" "+d+","+e);b+=" z";a.setAttributeNS(null,"d",b)};GuiElements.update.rightTriangle=function(a,b,c,d,e){DebugOptions.validateNumbers(b,c,d,e);b="m "+b+","+c+(" "+d+",0 0,")+(0-e);b+=" z";a.setAttributeNS(null,"d",b)};
GuiElements.update.triangleFromPoint=function(a,b,c,d,e,f){DebugOptions.validateNumbers(b,c,d,e);null==f&&(f=0);const g=d/2;b="m "+b+","+c;b=(f?b+(" "+g+","+e)+(" "+(0-d)+",0"):b+(" "+e+","+g)+(" 0,"+(0-d)))+" z";a.setAttributeNS(null,"d",b)};GuiElements.update.trapezoid=function(a,b,c,d,e,f){DebugOptions.validateNumbers(b,c,d,e,f);b="m "+b+","+(c+e)+(" "+f+","+(0-e))+(" "+(d-2*f)+",0");b+=" "+f+","+e;b+=" z";a.setAttributeNS(null,"d",b)};
GuiElements.update.rect=function(a,b,c,d,e){DebugOptions.validateNumbers(b,c,d,e);a.setAttributeNS(null,"x",b);a.setAttributeNS(null,"y",c);a.setAttributeNS(null,"width",d);a.setAttributeNS(null,"height",e)};GuiElements.update.zoom=function(a,b){DebugOptions.validateNumbers(b);a.setAttributeNS(null,"transform","scale("+b+")")};GuiElements.update.image=function(a,b){a.setAttributeNS("http://www.w3.org/1999/xlink","href","Images/"+b+".png")};
GuiElements.update.smoothScrollSet=function(a,b,c,d,e,f,g,h,k){DebugOptions.validateNonNull(a,b,c);DebugOptions.validateNumbers(d,e,f,g,h,k);var l=k>g;const m=h>f;a.classList.remove("noScroll");a.classList.remove("smoothScrollXY");a.classList.remove("smoothScrollX");a.classList.remove("smoothScrollY");m&&l?a.classList.add("smoothScrollY"):m?a.classList.add("noScroll"):l?a.classList.add("smoothScrollY"):a.classList.add("noScroll");l=GuiElements.zoomFactor;a.style.top=e+"px";a.style.left=d+"px";a.style.width=
f*l+"px";a.style.height=g*l+"px";b.setAttribute("width",h*l);b.setAttribute("height",k*l);GuiElements.update.zoom(c,l)};GuiElements.update.makeClickThrough=function(a){a.style.pointerEvents="none"};
GuiElements.update.tab=function(a,b,c,d,e,f,g){DebugOptions.validateNumbers(b,c,d,e,f);let h="";g?(h=h+("m "+b+","+c)+(" l "+d+",0 0,"+(e-f))+(" a "+f+" "+f+" 0 0 1 "+-f+" "+f),h+=" l "+(2*f-d)+",0 ",h+=" a "+f+" "+f+" 0 0 1 "+-f+" "+-f,h+=" l 0,"+(f-e)):(h=h+("m "+(b+f)+","+c)+(" l "+(d-2*f)+",0"),h+=" a "+f+" "+f+" 0 0 1 "+f+" "+f,h+=" l 0,"+(e-f)+" "+-d+",0 0,",h+=f-e,h+=" a "+f+" "+f+" 0 0 1 "+f+" "+(0-f));h+=" z";a.setAttributeNS(null,"d",h)};
GuiElements.update.wedge=function(a,b,c,d,e,f,g){DebugOptions.validateNumbers(b,c,d,e);null==f&&(f=!1);if(f){var h=270-e;0>h&&(h+=360)}else h=e+270,360<h&&(h-=360);let k=0,l=1;180<e&&(k=1);f&&(l=0);e=b+d*Math.cos(h*Math.PI/180);h=c+d*Math.sin(h*Math.PI/180);f="m "+b+","+c+(" l 0,"+-d)+(" A "+d+" "+d+" 0 "+k+" "+l+" "+e+" "+h);f+=" z";g&&(f="m "+b+","+(c-d)+(" A "+d+" "+d+" 0 "+k+" "+l+" "+e+" "+h));a.setAttributeNS(null,"d",f)};GuiElements.move={};
GuiElements.move.group=function(a,b,c,d){DebugOptions.validateNumbers(b,c);null==d?a.setAttributeNS(null,"transform","translate("+b+","+c+")"):a.setAttributeNS(null,"transform","matrix("+d+",0,0,"+d+","+b+","+c+")")};GuiElements.move.text=function(a,b,c){DebugOptions.validateNumbers(b,c);Language.isRTL&&(b=-b);a.setAttributeNS(null,"x",b);a.setAttributeNS(null,"y",c)};
GuiElements.move.element=function(a,b,c){DebugOptions.validateNumbers(b,c);a.setAttributeNS(null,"x",b);a.setAttributeNS(null,"y",c)};GuiElements.clip=function(a,b,c,d,e){DebugOptions.validateNumbers(a,b,c,d);const f=Math.random()+"",g=document.createElementNS("http://www.w3.org/2000/svg","clipPath");a=GuiElements.draw.rect(a,b,c,d);g.appendChild(a);g.setAttributeNS(null,"id",f);GuiElements.defs.appendChild(g);null!=e&&e.setAttributeNS(null,"clip-path","url(#"+f+")");return g};
GuiElements.measure={};GuiElements.measure.textWidth=function(a){return GuiElements.measure.textDim(a,!1)};GuiElements.measure.textHeight=function(a){return GuiElements.measure.textDim(a,!0)};GuiElements.measure.textDim=function(a,b){if(""===a.textContent)return 0;let c=a.getBBox(),d=c.width;b&&(d=c.height);if(0===d){const e=a.parentNode;GuiElements.layers.temp.appendChild(a);c=a.getBBox();d=c.width;b&&(d=c.height);a.remove();null!=e&&e.appendChild(a)}return d};
GuiElements.measure.stringWidth=function(a,b){const c=GuiElements.create.text();c.setAttributeNS(null,"font-family",b.fontFamily);c.setAttributeNS(null,"font-size",b.fontSize);c.setAttributeNS(null,"font-weight",b.fontWeight);c.setAttributeNS(null,"class","noselect");a=document.createTextNode(a);c.textNode=a;c.appendChild(a);return GuiElements.measure.textWidth(c)};
GuiElements.blockInteraction=function(){if(null==GuiElements.dialogBlock){let a=GuiElements.draw.rect(0,0,GuiElements.width,GuiElements.height);GuiElements.update.opacity(a,GuiElements.blockerOpacity);FinchBlox&&(a=GuiElements.draw.rect(0,0,GuiElements.width,GuiElements.height,Colors.bbtDarkGray),GuiElements.update.opacity(a,.9));GuiElements.layers.dialogBlock.appendChild(a);TouchReceiver.touchInterrupt();TouchReceiver.addListenersDialogBlock(a);GuiElements.dialogBlock=a}};
GuiElements.unblockInteraction=function(){null!=GuiElements.dialogBlock&&(GuiElements.dialogBlock.remove(),GuiElements.dialogBlock=null)};GuiElements.updateDialogBlockZoom=function(){null!=GuiElements.dialogBlock&&GuiElements.update.rect(GuiElements.dialogBlock,0,0,GuiElements.width,GuiElements.height)};
GuiElements.updateZoom=function(){GuiElements.zoomFactor=GuiElements.zoomMultiple*GuiElements.computedZoom;GuiElements.zoomGroups.forEach(function(a){GuiElements.update.zoom(a,GuiElements.zoomFactor)});GuiElements.updateDims()};GuiElements.updateDimsPreview=function(a,b){GuiElements.width=a/GuiElements.zoomFactor;GuiElements.height=b/GuiElements.zoomFactor;GuiElements.passUpdateZoom()};
GuiElements.updateDims=function(){GuiElements.width=window.innerWidth/GuiElements.zoomFactor;GuiElements.height=window.innerHeight/GuiElements.zoomFactor;GuiElements.passUpdateZoom()};GuiElements.passUpdateZoom=function(){Overlay.closeOverlaysExcept(TitleBar.viewMenu);GuiElements.checkSmallMode();DisplayBoxManager.updateZoom();TitleBar.updateZoomPart1();BlockPalette.updateZoom();TitleBar.updateZoomPart2();TabManager.updateZoom();GuiElements.updateDialogBlockZoom();RowDialog.updateZoom()};
GuiElements.load={};
GuiElements.loadInitialSettings=function(a){DebugOptions();Data.setConstants();HtmlServer();GuiElements.setGuiConstants();SettingsManager();var b,c;var d=c=b=!1;const e=GuiElements.load;if(DebugOptions.shouldSkipInitSettings())a();else{let f=0;const g=function(){f++;GuiElements.alert(""+b+c+d+!0+!0);b&&c&&d&&a()};e.getAppVersion(function(){b=!0;g()});e.configureZoom(function(){GuiElements.width=window.innerWidth/GuiElements.zoomFactor;GuiElements.height=window.innerHeight/GuiElements.zoomFactor;c=
!0;GuiElements.checkSmallMode();g()});e.getOsVersion(function(){d=!0;g()})}};GuiElements.load.getAppVersion=function(a){GuiElements.appVersion=FrontendVersion;a()};
GuiElements.load.getOsVersion=function(a){HtmlServer.sendRequestWithCallback("properties/os",function(b){GuiElements.osVersion=b;b=b.split(" ");GuiElements.isKindle=1<=b.length&&"Kindle"===b[0];GuiElements.isAndroid=1<=b.length&&"Android"===b[0]||GuiElements.isKindle;GuiElements.isIos=1<=b.length&&"iOS"===b[0];a()},function(){GuiElements.osVersion="";GuiElements.isKindle=!1;a()})};
GuiElements.load.configureZoom=function(a){const b=GuiElements;SettingsManager.loadSettings(function(){const c=function(){FinchBlox||(b.zoomMultiple=SettingsManager.zoom.getValue());b.zoomFactor=b.computedZoom*b.zoomMultiple;if(b.zoomFactor<GuiElements.minZoom||b.zoomFactor>GuiElements.maxZoom||isNaN(b.zoomFactor))b.zoomMultiple=1,SettingsManager.zoom.writeValue(1),b.zoomFactor=b.computedZoom*b.zoomMultiple;if(b.zoomFactor<GuiElements.minZoom||b.zoomFactor>GuiElements.maxZoom||isNaN(b.zoomFactor))b.zoomMultiple=
1,b.computedZoom=b.defaultZoomMultiple,SettingsManager.zoom.writeValue(1),b.zoomFactor=b.computedZoom*b.zoomMultiple;a()};FinchBlox?c():HtmlServer.sendRequestWithCallback("properties/dims",function(d){b.computedZoom=b.computeZoomFromDims(d);c()},function(){c()})})};
GuiElements.computeZoomFromDims=function(a){var b=a.split(",");if(2===b.length){a=parseFloat(b[0]);b=parseFloat(b[1]);const c=window.innerWidth,d=window.innerHeight;return Math.sqrt(c*c+d*d)*GuiElements.defaultZoomMm/(GuiElements.defaultZoomPx*Math.sqrt(a*a+b*b))*GuiElements.defaultZoomMultiple}return 1};GuiElements.relToAbsX=function(a){return a*GuiElements.zoomFactor};GuiElements.relToAbsY=function(a){return a*GuiElements.zoomFactor};
GuiElements.hidePaletteLayers=function(a){null==a&&(a=!1);let b=GuiElements;GuiElements.paletteLayersVisible&&(GuiElements.paletteLayersVisible=!1,SettingsManager.sideBarVisible.writeValue("false"),b.layers.paletteBG.hide(),b.layers.paletteScroll.style.visibility="hidden",b.layers.trash.hide(),b.layers.catBg.hide(),b.layers.categories.hide(),a||TabManager.updateZoom())};
GuiElements.showPaletteLayers=function(a){let b=GuiElements;null==a&&(a=!1);GuiElements.paletteLayersVisible||(GuiElements.paletteLayersVisible=!0,SettingsManager.sideBarVisible.writeValue("true"),b.layers.paletteBG.show(),b.layers.paletteScroll.style.visibility="visible",b.layers.trash.show(),b.layers.catBg.show(),b.layers.categories.show(),a||TabManager.updateZoom())};
GuiElements.checkSmallMode=function(){let a=GuiElements;FinchBlox||(a.smallMode=a.width<a.relToAbsX(a.smallModeThreshold));a.smallMode||a.paletteLayersVisible||a.showPaletteLayers(!0);a.smallMode||"true"===SettingsManager.sideBarVisible.getValue()||SettingsManager.sideBarVisible.writeValue("true")};GuiElements.removeVideos=function(){const a=document.getElementsByTagName("video").length;if(0<a)for(var b=0;b<a;b++){const c=document.getElementsByTagName("video")[b];GuiElements.removeVideo(c)}};
GuiElements.removeVideo=function(a){a=a.parentNode;a.parentNode.removeChild(a)};
function BlockList(){const a=BlockList.categories=[];FinchBlox?(Hatchling?(a.push("Motion_3"),a.push("Color_3"),a.push("Sound_3"),a.push("Sensor_3")):(a.push("Motion_1"),a.push("Color_1"),a.push("Sound_1"),a.push("Motion_2"),a.push("Color_2"),a.push("Sound_2"),a.push("Motion_3"),a.push("Color_3"),a.push("Sound_3")),a.push("Control_3")):(a.push("Robots"),a.push("Operators"),a.push("Sound"),a.push("Tablet"),a.push("Control"),a.push("Variables"))}BlockList.getCatId=function(a){return BlockList.categories[a].toLowerCase()};
BlockList.getCatName=function(a){return Language.getStr(BlockList.categories[a])};BlockList.catCount=function(){return BlockList.categories.length};BlockList.populateCat_motion_1=function(a){a.addBlockByName("B_FBForward");a.addBlockByName("B_FBBackward");a.addBlockByName("B_FBRight");a.addBlockByName("B_FBLeft");a.trimBottom();a.centerBlocks()};
BlockList.populateCat_color_1=function(a){a.addBlockByName("B_FBBeakRed");a.addBlockByName("B_FBTailRed");a.addBlockByName("B_FBBeakGreen");a.addBlockByName("B_FBTailGreen");a.addBlockByName("B_FBBeakBlue");a.addBlockByName("B_FBTailBlue");a.trimBottom();a.centerBlocks()};BlockList.populateCat_sound_1=function(a){a.addBlockByName("B_FBC");a.addBlockByName("B_FBD");a.addBlockByName("B_FBF");a.addBlockByName("B_FBG");a.addBlockByName("B_FBA");a.trimBottom();a.centerBlocks()};
BlockList.populateCat_motion_2=function(a){a.addBlockByName("B_FBForwardL2");a.addBlockByName("B_FBBackwardL2");a.addBlockByName("B_FBRightL2");a.addBlockByName("B_FBLeftL2");a.trimBottom();a.centerBlocks()};BlockList.populateCat_color_2=function(a){a.addBlockByName("B_FBBeakL2");a.addBlockByName("B_FBTailL2");a.addBlockByName("B_FBLedArrayL2");a.trimBottom();a.centerBlocks()};BlockList.populateCat_sound_2=function(a){a.addBlockByName("B_FBSoundL2");a.trimBottom();a.centerBlocks()};
BlockList.populateCat_motion_3=function(a){Hatchling?(a.addBlockByName("B_HLPositionServo"),a.addBlockByName("B_HLRotationServo"),a.addBlockByName("B_HLccRotationServo")):(a.addBlockByName("B_FBForwardL3"),a.addBlockByName("B_FBBackwardL3"),a.addBlockByName("B_FBRightL3"),a.addBlockByName("B_FBLeftL3"),a.addBlockByName("B_FBForwardUntilDark"),a.addBlockByName("B_FBForwardUntilObstacle"));a.trimBottom();a.centerBlocks()};
BlockList.populateCat_color_3=function(a){Hatchling?(a.addBlockByName("B_HLFairyLights"),a.addBlockByName("B_HLSingleNeopix"),a.addBlockByName("B_FBLedArrayL2"),a.addBlockByName("B_HLAlphabet")):(a.addBlockByName("B_FBBeakL3"),a.addBlockByName("B_FBTailL3"),a.addBlockByName("B_FBLedArrayL3"));a.trimBottom();a.centerBlocks()};BlockList.populateCat_sound_3=function(a){a.addBlockByName("B_FBSoundL3");a.trimBottom();a.centerBlocks()};
BlockList.populateCat_sensor_3=function(a){a.addBlockByName("B_HLWaitUntilDistance");a.trimBottom();a.centerBlocks()};BlockList.populateCat_control_3=function(a){a.addBlockByName("B_WhenFlagTapped");a.addBlockByName("B_Wait");a.addBlockByName("B_Forever");a.addBlockByName("B_Repeat");Hatchling||(a.addBlockByName("B_StartWhenDark"),a.addBlockByName("B_StartWhenClap"));a.trimBottom();a.centerBlocks()};
BlockList.populateCat_portblocks=function(a){a.addBlockByName("B_HLPortA");a.addBlockByName("B_HLPortB");a.addBlockByName("B_HLPortC");a.addBlockByName("B_HLPortD");a.addBlockByName("B_HLPortE");a.addBlockByName("B_HLPortF");a.trimBottom();a.centerBlocks()};
BlockList.populateCat_oldblocks=function(a){a.addBlockByName("B_HLPositionServo");a.addBlockByName("B_HLRotationServo");a.addBlockByName("B_HLccRotationServo");a.addBlockByName("B_HLFairyLights");a.addBlockByName("B_HLSingleNeopix");a.addBlockByName("B_HLNeopixStrip");a.addBlockByName("B_StartWhenDistance");a.addBlockByName("B_HLWaitUntilPort");a.trimBottom();a.centerBlocks()};
BlockList.populateCat_microbitblocks=function(a){a.addBlockByName("B_FBSoundL3");a.addBlockByName("B_FBLedArrayL2");a.addBlockByName("B_HLAlphabet");a.addBlockByName("B_StartWhenDark");a.addBlockByName("B_StartWhenClap");a.addBlockByName("B_HLWaitUntil");a.trimBottom();a.centerBlocks()};
BlockList.populateCat_tablet=function(a){a.addBlockByName("B_DeviceShaken");a.addBlockByName("B_DeviceLocation");a.addBlockByName("B_DeviceSSID");a.addBlockByName("B_DevicePressure");a.addBlockByName("B_DeviceRelativeAltitude");a.addBlockByName("B_DeviceAcceleration");a.addBlockByName("B_DeviceOrientation");a.addSpace();a.addBlockByName("B_Display");a.addSpace();a.addBlockByName("B_Ask");a.addBlockByName("B_Answer");a.addSpace();a.addBlockByName("B_ResetTimer");a.addBlockByName("B_Timer");a.addSpace();
a.addBlockByName("B_CurrentTime");a.trimBottom()};
BlockList.populateCat_operators=function(a){a.addBlockByName("B_Add");a.addBlockByName("B_Subtract");a.addBlockByName("B_Multiply");a.addBlockByName("B_Divide");a.addSpace();a.addBlockByName("B_Mod");a.addBlockByName("B_Round");a.addBlockByName("B_mathOfNumber");a.addBlockByName("B_PickRandom");a.addSpace();a.addBlockByName("B_LessThan");a.addBlockByName("B_EqualTo");a.addBlockByName("B_GreaterThan");a.addSpace();a.addBlockByName("B_And");a.addBlockByName("B_Or");a.addBlockByName("B_Not");a.addSpace();
a.addBlockByName("B_True");a.addBlockByName("B_False");a.addSpace();a.addBlockByName("B_LetterOf");a.addBlockByName("B_LengthOf");a.addBlockByName("B_join");a.addBlockByName("B_Split");a.addSpace();a.addBlockByName("B_IsAType");a.trimBottom()};
BlockList.populateCat_control=function(a){a.addBlockByName("B_WhenFlagTapped");a.addBlockByName("B_WhenIReceive");a.addSpace();a.addBlockByName("B_When");a.addBlockByName("B_WhenKeyPressed");a.addSpace();a.addBlockByName("B_Broadcast");a.addBlockByName("B_BroadcastAndWait");a.addBlockByName("B_Message");a.addSpace();a.addBlockByName("B_Wait");a.addBlockByName("B_WaitUntil");a.addSpace();a.addBlockByName("B_Forever");a.addBlockByName("B_Repeat");a.addBlockByName("B_RepeatUntil");a.addSpace();a.addBlockByName("B_If");
a.addBlockByName("B_IfElse");a.addSpace();a.addBlockByName("B_Stop");a.trimBottom()};
BlockList.populateCat_sound=function(a){a.addButton(Language.getStr("Record_sound"),RecordingDialog.showDialog,!0).setDisabledTabFunction(RecordingDialog.alertNotInProject);a.addSpace();a.addBlockByName("B_PlayRecording");a.addBlockByName("B_PlayRecordingUntilDone");a.addBlockByName("B_PlaySound");a.addBlockByName("B_PlaySoundUntilDone");a.addBlockByName("B_StopAllSounds");a.addSpace();a.addBlockByName("B_RestForBeats");a.addBlockByName("B_PlayNoteForBeats");a.addSpace();a.addBlockByName("B_ChangeTempoBy");
a.addBlockByName("B_SetTempoTo");a.addBlockByName("B_Tempo");a.trimBottom()};
BlockList.populateCat_variables=function(a){a.addButton(Language.getStr("Create_Variable"),CodeManager.newVariable);a.addSpace();var b=CodeManager.variableList;0<b.length&&(b.forEach(function(c){a.addVariableBlock(c)}),a.addSpace(),a.addBlockByName("B_SetTo"),a.addBlockByName("B_ChangeBy"));a.addSpace();a.addButton(Language.getStr("Create_List"),CodeManager.newList);a.addSpace();b=CodeManager.listList;0<b.length&&(b.forEach(function(c){a.addListBlock(c)}),a.addSpace(),a.addBlockByName("B_AddToList"),
a.addBlockByName("B_DeleteItemOfList"),a.addBlockByName("B_InsertItemAtOfList"),a.addBlockByName("B_ReplaceItemOfListWith"),a.addBlockByName("B_CopyListToList"));a.addBlockByName("B_ItemOfList");a.addBlockByName("B_LengthOfList");a.addBlockByName("B_ListContainsItem");a.trimBottom()};
BlockList.populateCat_robots=function(a){let b=[],c=Device.getTypeList();c.forEach(function(e){let f={};f.name=e.getDeviceTypeName();f.id=e.getDeviceTypeId();b.push(f)});const d=a.addCollapsibleSet(b);for(let e=0;e<c.length;e++){const f=d.getItem(e);BlockList["populateItem_"+c[e].getDeviceTypeId()](f)}a.trimBottom()};
BlockList.populateItem_hummingbird=function(a){a.addBlockByName("B_HBServo");a.addBlockByName("B_HBMotor");a.addBlockByName("B_HBVibration");a.addSpace();a.addBlockByName("B_HBLed");a.addBlockByName("B_HBTriLed");a.addSpace();a.addBlockByName("B_HBLight");a.addBlockByName("B_HBTempC");a.addBlockByName("B_HBTempF");a.addBlockByName("B_HBDistCM");a.addBlockByName("B_HBKnob");a.addBlockByName("B_HBSound");a.trimBottom();a.finalize()};
BlockList.populateItem_hummingbirdbit=function(a){a.addBlockByName("B_BBTriLed");a.addBlockByName("B_BBLed");a.addBlockByName("B_BBPositionServo");a.addBlockByName("B_BBRotationServo");a.addBlockByName("B_BBBuzzer");a.addSpace();a.addBlockByName("B_BBSensors");a.addBlockByName("B_BBMagnetometer");a.addBlockByName("B_BBLedArray");a.addBlockByName("B_BBPrint");a.addBlockByName("B_BBButton");a.addBlockByName("B_BBOrientation");a.addBlockByName("B_BBCompass");a.addBlockByName("B_BBV2Sensor");a.trimBottom();
a.finalize()};BlockList.populateItem_microbit=function(a){a.addBlockByName("B_MBLedArray");a.addSpace();a.addBlockByName("B_MBPrint");a.addBlockByName("B_MBWriteToPin");a.addBlockByName("B_MBBuzzer");a.addSpace();a.addBlockByName("B_MBMagnetometer");a.addBlockByName("B_MBReadPin");a.addBlockByName("B_MBButton");a.addBlockByName("B_MBOrientation");a.addBlockByName("B_MBCompass");a.addBlockByName("B_MBV2Sensor");a.trimBottom();a.finalize()};
BlockList.populateItem_finch=function(a){a.addBlockByName("B_FinchMove");a.addBlockByName("B_FinchTurn");a.addSpace();a.addBlockByName("B_FinchBeak");a.addBlockByName("B_FinchTail");a.addSpace();a.addBlockByName("B_FNBuzzer");a.addSpace();a.addBlockByName("B_FNPrint");a.addBlockByName("B_FNLedArray");a.addSpace();a.addBlockByName("B_FinchDistance");a.addBlockByName("B_FinchLight");a.addBlockByName("B_FinchLine");a.addBlockByName("B_FNMagnetometer");a.addBlockByName("B_FNCompass");a.addBlockByName("B_FNV2Sensor");
a.addBlockByName("B_FNButton");a.addBlockByName("B_FNOrientation");a.addSpace();a.addBlockByName("B_FinchMotors");a.addBlockByName("B_FinchStop");a.addBlockByName("B_FinchResetEncoders");a.addBlockByName("B_FinchEncoder");a.trimBottom();a.finalize()};
BlockList.populateItem_hatchling=function(a){a.addBlockByName("B_HLEmptyPortA");a.addBlockByName("B_HLEmptyPortB");a.addBlockByName("B_HLEmptyPortC");a.addBlockByName("B_HLEmptyPortD");a.addBlockByName("B_HLEmptyPortE");a.addBlockByName("B_HLEmptyPortF");a.addSpace();a.addBlockByName("B_HLLedArray");a.addBlockByName("B_HLPrint");a.addBlockByName("B_HLBuzzer");a.addSpace();a.addBlockByName("B_HLMagnetometer");a.addBlockByName("B_HLButton");a.addBlockByName("B_HLOrientation");a.addBlockByName("B_HLCompass");
a.addBlockByName("B_HLV2Sensor");a.trimBottom();a.finalize()};function Colors(){Colors.setCommon();Colors.setCategory();Colors.setMultipliers()}
Colors.setCommon=function(){Colors.white="#FFFFFF";Colors.labelTextDisabled="#e4e4e4";Colors.lightLightGray="#CDCDCD";Colors.windowColor="#CCC";Colors.canvasGray="#C1C1C1";Colors.valueTextGrayed="#AAAAAA";Colors.mediumLightGray="#999999";Colors.lightGray="#7B7B7B";Colors.darkGray="#282828";Colors.darkDarkGray="#151515";Colors.black="#000000";Colors.red="#FF0000";Colors.green="#00FF00";Colors.blue="#0000FF";Colors.yellow="#FFFF00";Colors.cyan="#00FFFF";Colors.magenta="#FF00FF";Colors.darkRed="#c00000";
Colors.lightYellow="#FFFFCC";Colors.bbt="#209BA9";Colors.tabletOrange="#FAA525";Colors.operatorsGreen="#8EC449";Colors.soundPurple="#EE00FF";Colors.controlYellow="#FFCC00";Colors.variablesDkOrange="#FF5B00";Colors.inactiveGray="#a3a3a3";Colors.easternBlue="#089BAB";Colors.neonCarrot="#FF9922";Colors.fountainBlue="#62BCC7";Colors.seance="#881199";Colors.bbtDarkGray="#535353";Colors.iron="#CACACA";Colors.blockPaletteMotion="#B4D9DD";Colors.blockPaletteColor="#FFCE96";Colors.blockPaletteSound="#B691BB";
Colors.blockPaletteControl="#F4E9A4";Colors.flagGreen="#2FC00B";Colors.fbDarkGreen="#268D17";Colors.stopRed="#F03602";Colors.finchGreen="#B6E9A9";Colors.fbYellow="#F1CA07";Colors.fbHighlight="#ffff00";Colors.fbGray="#E8E8E8";Colors.levelBN="#E8E8E8";Colors.fbYellowBorder="#BD9F0D";Colors.fbBlueBorder="#097F8A";Colors.fbPurpleBorder="#691675";Colors.fbOrangeBorder="#F78705";Colors.darkTeal="#114F53";FinchBlox&&(Colors.inactiveGray=Colors.fbGray)};
Colors.setCategory=function(){Colors.categoryColors={robots:Colors.bbt,hummingbird:Colors.bbt,hummingbirdbit:Colors.bbt,microbit:Colors.bbt,flutter:Colors.bbt,finch:Colors.bbt,hatchling:Colors.bbt,tablet:Colors.tabletOrange,operators:Colors.operatorsGreen,sound:Colors.soundPurple,control:Colors.controlYellow,variables:Colors.variablesDkOrange,lists:Colors.red,inactive:Colors.inactiveGray,motion_1:Colors.easternBlue,color_1:Colors.neonCarrot,sound_1:Colors.seance,motion_2:Colors.easternBlue,color_2:Colors.neonCarrot,
sound_2:Colors.seance,motion_3:Colors.easternBlue,color_3:Colors.neonCarrot,sound_3:Colors.seance,control_3:Colors.fbYellow,sensor_3:Colors.finchGreen,portblocks:Colors.easternBlue,oldblocks:Colors.neonCarrot,microbitblocks:Colors.seance};Colors.blockPalette={motion_1:Colors.blockPaletteMotion,color_1:Colors.blockPaletteColor,sound_1:Colors.blockPaletteSound,motion_2:Colors.blockPaletteMotion,color_2:Colors.blockPaletteColor,sound_2:Colors.blockPaletteSound,motion_3:Colors.blockPaletteMotion,color_3:Colors.blockPaletteColor,
sound_3:Colors.blockPaletteSound,control_3:Colors.blockPaletteControl,sensor_3:Colors.finchGreen,portblocks:Colors.blockPaletteMotion,oldblocks:Colors.blockPaletteColor,microbitblocks:Colors.blockPaletteSound};Colors.blockOutline={motion_1:Colors.fbBlueBorder,color_1:Colors.fbOrangeBorder,sound_1:Colors.fbPurpleBorder,motion_2:Colors.fbBlueBorder,color_2:Colors.fbOrangeBorder,sound_2:Colors.fbPurpleBorder,motion_3:Colors.fbBlueBorder,color_3:Colors.fbOrangeBorder,sound_3:Colors.fbPurpleBorder,control_3:Colors.fbYellowBorder,
sensor_3:Colors.fbDarkGreen,inactive:Colors.iron,portblocks:Colors.fbBlueBorder,oldblocks:Colors.fbOrangeBorder,microbitblocks:Colors.fbPurpleBorder}};Colors.setMultipliers=function(){Colors.gradStart=1;Colors.gradEnd=.75;Colors.gradDarkStart=.25;Colors.gradDarkEnd=.5};Colors.createGradients=function(){Colors.createGradientSet("gradient_",Colors.gradStart,Colors.gradEnd);Colors.createGradientSet("gradient_dark_",Colors.gradDarkStart,Colors.gradDarkEnd)};
Colors.createGradientSet=function(a,b,c){Object.keys(Colors.categoryColors).map(function(d){Colors.createGradientFromColorAndMults(a,d,Colors.categoryColors[d],b,c)})};Colors.createGradientFromColorAndMults=function(a,b,c,d,e){const f=Colors.darkenColor;d=f(c,d);c=f(c,e);GuiElements.create.gradient(a+b,d,c)};Colors.darkenColor=function(a,b){a=parseInt(a.slice(1),16);for(b=((a&255)*b|(a>>8&255)*b<<8|(a>>16)*b<<16).toString(16);6>b.length;)b="0"+b;return"#"+b};Colors.getColor=function(a){return Colors.categoryColors[a]};
Colors.getGradient=function(a){return"url(#gradient_"+a+")"};Colors.rgbToHex=function(a,b,c){a=Math.round(a);b=Math.round(b);c=Math.round(c);return"#"+(16777216+(a<<16)+(b<<8)+c).toString(16).slice(1)};function Font(a,b,c){this.fontFamily=a;this.fontSize=b;this.charHeight=this.lookupCharH(b);this.fontWeight=c}Font.prototype.lookupCharH=function(a){return.6639*a+1.644};Font.prototype.bold=function(){return new Font(this.fontFamily,this.fontSize,"bold")};
Font.prototype.unBold=function(){return new Font(this.fontFamily,this.fontSize,"normal")};Font.uiFont=function(a){return FinchBlox?new Font("Nunito-ExtraBold",a,"normal"):new Font("Arial",a,"normal")};Font.secondaryUiFont=function(a){return FinchBlox?new Font("Nunito-Regular",a,"normal"):new Font("Arial",a,"normal")};
function VectorPaths(){const a=VectorPaths;a.bsHandIndex={};a.bsHandIndex.path="M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435l.106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1M8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5 5 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.6 2.6 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046zm2.094 2.025";a.bsHandIndex.width=
16;a.bsHandIndex.height=16;a.bsHandIndexFill={};a.bsHandIndexFill.path="M8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5 5 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.6 2.6 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046z";a.bsHandIndexFill.width=
16;a.bsHandIndexFill.height=16;a.bsStars={};a.bsStars.path="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z";
a.bsStars.width=16;a.bsStars.height=16;a.bsSpeedometer2={};a.bsSpeedometer2.path="M8 4a.5.5 0 0 1 .5.5V6a.5.5 0 0 1-1 0V4.5A.5.5 0 0 1 8 4zM3.732 5.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 10a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 10zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 9.31a.91.91 0 1 0 1.302 1.258l3.434-4.297a.389.389 0 0 0-.029-.518z M0 10a8 8 0 1 1 15.547 2.661c-.442 1.253-1.845 1.602-2.932 1.25C11.309 13.488 9.475 13 8 13c-1.474 0-3.31.488-4.615.911-1.087.352-2.49.003-2.932-1.25A7.988 7.988 0 0 1 0 10zm8-7a7 7 0 0 0-6.603 9.329c.203.575.923.876 1.68.63C4.397 12.533 6.358 12 8 12s3.604.532 4.923.96c.757.245 1.477-.056 1.68-.631A7 7 0 0 0 8 3z";
a.bsSpeedometer2.width=16;a.bsSpeedometer2.height=16;a.bsBroadcast={};a.bsBroadcast.path="M3.05 3.05a7 7 0 0 0 0 9.9.5.5 0 0 1-.707.707 8 8 0 0 1 0-11.314.5.5 0 0 1 .707.707zm2.122 2.122a4 4 0 0 0 0 5.656.5.5 0 1 1-.708.708 5 5 0 0 1 0-7.072.5.5 0 0 1 .708.708zm5.656-.708a.5.5 0 0 1 .708 0 5 5 0 0 1 0 7.072.5.5 0 1 1-.708-.708 4 4 0 0 0 0-5.656.5.5 0 0 1 0-.708zm2.122-2.12a.5.5 0 0 1 .707 0 8 8 0 0 1 0 11.313.5.5 0 0 1-.707-.707 7 7 0 0 0 0-9.9.5.5 0 0 1 0-.707zM10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z";
a.bsBroadcast.width=16;a.bsBroadcast.height=16;a.bsArrowClockwise={};a.bsArrowClockwise.path="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z";a.bsArrowClockwise.width=16;a.bsArrowClockwise.height=16;a.bsArrowCounterClockwise={};a.bsArrowCounterClockwise.path="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z";
a.bsArrowCounterClockwise.width=16;a.bsArrowCounterClockwise.height=16;a.bsDiscFill={};a.bsDiscFill.path="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-6 0a2 2 0 1 0-4 0 2 2 0 0 0 4 0M4 8a4 4 0 0 1 4-4 .5.5 0 0 0 0-1 5 5 0 0 0-5 5 .5.5 0 0 0 1 0m9 0a.5.5 0 1 0-1 0 4 4 0 0 1-4 4 .5.5 0 0 0 0 1 5 5 0 0 0 5-5";a.bsDiscFill.width=16;a.bsDiscFill.height=16;a.clap={};a.clap.path="M53.569,27.147a4.2,4.2,0,0,0-5.839-1.73l-1.191.687a4.016,4.016,0,0,0-.882-1.653,4.167,4.167,0,0,0-2.149-1.281l.358-.358a4.294,4.294,0,0,0,.282-5.906,4.2,4.2,0,0,0-6.1-.163l-2,2.005a4.2,4.2,0,0,0-4.082-3.231h-.006A4.162,4.162,0,0,0,29,16.745l-6.861,6.86-.012.012-.766.766a5.221,5.221,0,0,0-1.631-3.233,3.123,3.123,0,0,0-4.309.12L8.2,28.5A17.213,17.213,0,0,0,7.31,52.268a17.051,17.051,0,0,0,4.278,3.388c.331.353.69.707,1.078,1.054A16.98,16.98,0,0,0,32.46,58.719l16.632-9.6a4.3,4.3,0,0,0,1.8-5.629,4.183,4.183,0,0,0-1.754-1.8l2.127-1.227a4.3,4.3,0,0,0,1.819-5.629l0,0a4.159,4.159,0,0,0-1.743-1.791l.433-.25A4.306,4.306,0,0,0,53.569,27.147ZM8.788,50.921a15.218,15.218,0,0,1,.821-21.012l7.225-7.224a1.1,1.1,0,0,1,1.526-.076,3.266,3.266,0,0,1,.083,4.691l-.005,0-6.79,6.79a1,1,0,0,0,1.415,1.414l6.778-6.779h0l0,0,0,0h0l0,0h0l0,0,10.56-10.56a2.176,2.176,0,0,1,1.549-.642h0a2.2,2.2,0,0,1,1.557,3.759L22.21,32.586A1,1,0,1,0,23.624,34L34.935,22.69l4.532-4.532a2.2,2.2,0,0,1,3.2.087,2.326,2.326,0,0,1-.21,3.153l-2.884,2.884,0,.006L26.736,37.113a1,1,0,1,0,1.414,1.414L40.977,25.7a2.06,2.06,0,0,1,1.614-.644,2.183,2.183,0,0,1,1.58.731,2.143,2.143,0,0,1,.473,1.832v0a2.365,2.365,0,0,1-.075.3c-.014.043-.028.085-.044.127-.028.074-.058.146-.092.217a2.243,2.243,0,0,1-.114.2c-.028.047-.054.094-.085.139a2.536,2.536,0,0,1-.272.327L39.7,33.207l-.006.006L31.264,41.64a1,1,0,1,0,1.414,1.414l8.412-8.413s.012-.006.017-.011a2.085,2.085,0,0,1,2.713-.306c.048.03.1.052.145.086s.095.088.144.131a2.4,2.4,0,0,1,.191.174.231.231,0,0,0,.014.019,2.314,2.314,0,0,1,.4.723,2.149,2.149,0,0,1,.091.571q0,.056,0,.111a2.492,2.492,0,0,1-.29,1.128c-.022.042-.045.084-.07.126a2.409,2.409,0,0,1-.331.436c-.011.012-.019.026-.031.038l-13.58,13.58c-.3.3-.6.575-.916.842A15.013,15.013,0,0,1,14.26,54.746q-.546-.222-1.081-.489A15.016,15.016,0,0,1,8.788,50.921Zm39.3-3.534-16.63,9.6a14.977,14.977,0,0,1-13.549.745,16.434,16.434,0,0,0,3.749.021c.1-.01.193-.031.291-.042.5-.061.988-.139,1.477-.243.173-.036.342-.085.514-.127.411-.1.818-.212,1.221-.344.192-.062.38-.132.57-.2.379-.139.752-.29,1.121-.456.191-.086.381-.173.57-.267.362-.179.716-.375,1.067-.581.179-.1.36-.206.536-.319.361-.23.709-.481,1.054-.741.151-.112.306-.216.454-.334q.649-.522,1.254-1.116c.045-.043.094-.078.138-.122l3.287-3.288.011,0a1,1,0,0,0,.5-.134l10.32-5.959.011-.009a2.207,2.207,0,0,1,3.055.927A2.325,2.325,0,0,1,48.09,47.387Zm2.18-8.66-5.23,3.02c-.006,0-.009.01-.015.013L40.3,44.49l5.21-5.21a4.409,4.409,0,0,0,.483-.586c.047-.066.088-.132.131-.2a4.451,4.451,0,0,0,.234-.421c.045-.091.093-.18.131-.273a4.72,4.72,0,0,0,.269-.982c.016-.1.032-.193.041-.29.013-.133.019-.265.019-.4,0-.1-.007-.2-.014-.3,0-.057,0-.113-.007-.169l1.436-.83h0a2.206,2.206,0,0,1,3.066.906A2.33,2.33,0,0,1,50.27,38.727Zm.5-7.67L47.233,33.1h0l-1.159.669a4.113,4.113,0,0,0-.286-.391,4.421,4.421,0,0,0-.42-.4c-.016-.013-.029-.03-.045-.043-.084-.069-.176-.124-.265-.186s-.164-.125-.252-.178a4.147,4.147,0,0,0-1.163-.47l1.744-1.743a4.66,4.66,0,0,0,.46-.562c.054-.075.1-.15.152-.227.073-.116.137-.235.2-.356a4.4,4.4,0,0,0,.283-.689c.01-.03.023-.058.032-.088l2.22-1.282a2.2,2.2,0,0,1,3.06.908A2.337,2.337,0,0,1,50.771,31.057Z    M52.793,14.207a1,1,0,0,0,1.414,0l6.5-6.5a1,1,0,1,0-1.414-1.414l-6.5,6.5A1,1,0,0,0,52.793,14.207Z   M59.485,14.143l-5,3a1,1,0,1,0,1.03,1.714l5-3a1,1,0,1,0-1.03-1.714Z    M48.553,13.9a1,1,0,0,0,1.342-.448l3-6a1,1,0,1,0-1.79-.894l-3,6A1,1,0,0,0,48.553,13.9Z    M25.081,11.394a1,1,0,0,0,1.838-.788l-3-7a1,1,0,0,0-1.838.788Z M30,12a1,1,0,0,0,1-1V5a1,1,0,0,0-2,0v6A1,1,0,0,0,30,12Z    M21.219,13.625a1,1,0,0,0,1.562-1.25l-4-5a1,1,0,0,0-1.562,1.25Z";
a.clap.width=64;a.clap.height=80;a.mjBack={};a.mjBack.path="M47.588 0H22.176v33.778H5.801a5 5 0 0 0-3.592 8.478L31.301 72.3a5 5 0 0 0 7.174.01l29.259-30.045a5 5 0 0 0-3.582-8.488H47.588V0z";a.mjBack.width=70;a.mjBack.height=74;a.mjForward={};a.mjForward.path="M47.588 74H22.176V40.222H5.801a5 5 0 0 1-3.592-8.478L31.301 1.7a5 5 0 0 1 7.174-.01l29.259 30.045a5 5 0 0 1-3.582 8.488H47.588V74z";a.mjForward.width=70;a.mjForward.height=74;a.mjTurnLeft={};a.mjTurnLeft.path="M33.536 38.777c17.65 2.2 31.625 18.776 31.625 39.223h21.375c0-32.094-23.228-58.654-53-60.853V5.88a5 5 0 0 0-8.256-3.795L1.744 22.284a5 5 0 0 0-.183 7.424l23.536 22.297a5 5 0 0 0 8.44-3.63v-9.598z";
a.mjTurnLeft.width=87;a.mjTurnLeft.height=78;a.mjTurnRight={};a.mjTurnRight.path="M53 36.42C35.35 38.584 21.375 54.888 21.375 75H0c0-31.568 23.229-57.692 53-59.855V5.318a5 5 0 0 1 8.098-3.925l23.331 18.42a5 5 0 0 1 .312 7.58l-23.33 21.762A5 5 0 0 1 53 45.5V36.42z";a.mjTurnRight.width=87;a.mjTurnRight.height=75;a.mjSun={};a.mjSun.path="M18.229044,29.7211846 C18.0843592,29.7211846 17.9750652,29.670935 17.8991544,29.5694443 L15.6151195,26.4229101 L11.9107766,27.6152989 C11.7920951,27.6664658 11.6698752,27.6494125 11.5428011,27.5655396 C11.432925,27.4795677 11.3781668,27.369882 11.3781668,27.2344224 L11.3781668,23.3519267 L7.67382389,22.1349634 C7.53878762,22.0926054 7.45408215,22.0079069 7.42010965,21.8812491 C7.37775515,21.7449605 7.39435688,21.6235662 7.47109662,21.5132772 L9.75452126,18.3679636 L7.47109662,15.2214223 C7.39435335,15.1199352 7.37775515,14.9964877 7.42010965,14.8522192 C7.45408215,14.7259883 7.53794801,14.6410535 7.67382389,14.5991188 L11.3787806,13.3821555 L11.3787806,9.49904593 C11.3787806,9.36400966 11.432925,9.25406647 11.5428011,9.16977375 C11.6698752,9.08463789 11.7925149,9.06887931 11.9107766,9.11878678 L15.6163472,10.3117895 L17.8991544,7.16524816 C17.9838705,7.05537553 18.0931681,7 18.229044,7 C18.3640838,7 18.474415,7.05453591 18.5595474,7.16524816 L20.8423582,10.3117895 L24.5473114,9.11878678 C24.6651533,9.0680397 24.788442,9.08463789 24.914673,9.16977375 C25.0249689,9.25406647 25.0793108,9.36400966 25.0793108,9.49904593 L25.0793108,13.3815416 L28.7842676,14.5991188 C28.9193039,14.641057 29.0042034,14.7259883 29.0385957,14.8522192 C29.0805303,14.9956445 29.0637134,15.1195436 28.9869913,15.2201946 L26.7035702,18.3673498 L28.9869913,21.5132772 C29.0628985,21.6235662 29.0799165,21.7449605 29.0379818,21.8812491 C29.0040093,22.0087395 28.91869,22.0926054 28.7836502,22.1349634 L25.0793108,23.3519267 L25.0793108,27.2344224 C25.0793108,27.369882 25.0241293,27.4795677 24.914673,27.5655396 C24.7876024,27.6494125 24.6645394,27.6664658 24.546694,27.6152989 L20.8417443,26.4229101 L18.5583232,29.5694443 C18.4832521,29.670935 18.3724693,29.7211846 18.229044,29.7211846 L18.229044,29.7211846 Z M18.229044,25.6746684 C19.2183492,25.6746684 20.1630846,25.4821929 21.0647387,25.0972065 C21.9647171,24.7130598 22.7424404,24.1916789 23.3979191,23.5374526 C24.054241,22.8811342 24.5743377,22.1036614 24.9589043,21.2024306 C25.3443104,20.3016126 25.5363626,19.3564293 25.5363626,18.3679636 C25.5363626,17.377406 25.3434708,16.4324731 24.9589043,15.5316551 C24.5743377,14.6308441 24.054241,13.8520837 23.3979191,13.1978573 C22.7432764,12.5415354 21.9647171,12.021862 21.0647387,11.6368792 C20.1630846,11.2518893 19.2183492,11.0600311 18.229044,11.0600311 C17.2393189,11.0600311 16.2941673,11.2518893 15.3933528,11.6368792 C14.4925348,12.021862 13.7140036,12.5415354 13.0589412,13.1978573 C12.4038752,13.8520837 11.8829142,14.6316767 11.4991872,15.5316551 C11.1142008,16.4324731 10.9204976,17.377406 10.9204976,18.3679636 C10.9204976,19.3564293 11.1142008,20.3016126 11.4991872,21.2024306 C11.8829142,22.1036614 12.4030391,22.8811342 13.0589412,23.5374526 C13.7140036,24.1916789 14.4925348,24.7130598 15.3933528,25.0972065 C16.2941673,25.4821929 17.2393189,25.6746684 18.229044,25.6746684 Z M18.2297495,24.5461677 C14.8126841,24.5461677 12.0435621,21.7768199 12.0435621,18.3605941 C12.0435621,14.9447881 14.8126841,12.1750205 18.2297495,12.1750205 C21.6459753,12.1750205 24.4147093,14.9447881 24.4147093,18.3605941 C24.4147093,21.7768199 21.6459753,24.5461677 18.2297495,24.5461677 Z";
a.mjSun.width=40;a.mjSun.height=40;a.mjSun.transform="translate(2, 2)";a.mjSlash={};a.mjSlash.path="M31.3109921,5.25 L4.81099205,31.75";a.mjSlash.width=40;a.mjSlash.height=40;a.mjSlash.transform=a.mjSun.transform;a.microbit={};a.microbit.path="M13.465 60.088 C 11.703 60.639,9.937 62.220,9.134 63.965 L 8.704 64.900 8.554 89.700 C 8.472 103.340,8.426 117.082,8.452 120.239 L 8.500 125.977 33.700 93.069 C 47.560 74.970,58.930 60.080,58.967 59.981 C 59.082 59.669,14.468 59.774,13.465 60.088 M61.200 80.240 C 61.200 91.703,61.276 100.597,61.372 100.490 C 61.761 100.062,92.400 59.968,92.400 59.887 C 92.400 59.839,85.380 59.800,76.800 59.800 L 61.200 59.800 61.200 80.240 M97.600 67.240 C 97.600 71.425,97.675 74.597,97.773 74.490 C 97.912 74.337,102.495 68.354,108.146 60.950 L 109.023 59.800 103.312 59.800 L 97.600 59.800 97.600 67.240 M40.784 270.002 C 28.867 272.019,20.737 283.226,22.888 294.671 C 26.843 315.716,55.469 318.539,63.425 298.669 C 69.273 284.065,56.116 267.407,40.784 270.002 M117.667 270.083 C 104.726 272.552,96.991 285.226,100.935 297.500 C 106.771 315.667,131.736 317.325,140.114 300.103 C 147.416 285.092,133.881 266.989,117.667 270.083 M194.948 270.103 C 182.654 272.433,174.732 284.581,177.863 296.300 C 182.960 315.369,208.784 317.869,217.399 300.128 C 224.665 285.164,211.113 267.040,194.948 270.103 M271.748 270.103 C 260.250 272.282,252.336 283.239,254.269 294.303 C 258.239 317.034,289.899 318.327,295.602 295.991 C 299.285 281.569,286.197 267.365,271.748 270.103 M349.584 269.989 C 332.112 273.202,325.279 293.718,337.588 306.010 C 351.263 319.666,374.392 309.194,373.547 289.728 C 373.037 277.970,360.835 267.919,349.584 269.989 M15.400 319.600 L 15.400 339.600 18.000 339.600 L 20.600 339.600 20.600 319.600 L 20.600 299.600 18.000 299.600 L 15.400 299.600 15.400 319.600 M67.600 319.571 L 67.600 339.542 68.950 339.670 C 69.692 339.740,70.817 339.798,71.450 339.799 L 72.600 339.800 72.600 319.700 L 72.600 299.600 70.100 299.600 L 67.600 299.600 67.600 319.571 M75.800 319.700 L 75.800 339.800 78.300 339.800 L 80.800 339.800 80.800 319.700 L 80.800 299.600 78.300 299.600 L 75.800 299.600 75.800 319.700 M84.000 319.700 L 84.000 339.800 86.500 339.800 L 89.000 339.800 89.000 319.700 L 89.000 299.600 86.500 299.600 L 84.000 299.600 84.000 319.700 M92.000 319.700 L 92.000 339.800 94.600 339.800 L 97.200 339.800 97.200 319.700 L 97.200 299.600 94.600 299.600 L 92.000 299.600 92.000 319.700 M144.800 319.800 L 144.800 340.000 147.300 340.000 L 149.800 340.000 149.800 319.800 L 149.800 299.600 147.300 299.600 L 144.800 299.600 144.800 319.800 M152.933 299.733 C 152.860 299.807,152.800 308.897,152.800 319.933 L 152.800 340.000 155.400 340.000 L 158.000 340.000 158.000 319.800 L 158.000 299.600 155.533 299.600 C 154.177 299.600,153.007 299.660,152.933 299.733 M161.000 319.800 L 161.000 340.000 163.600 340.000 L 166.200 340.000 166.200 319.800 L 166.200 299.600 163.600 299.600 L 161.000 299.600 161.000 319.800 M169.200 319.800 L 169.200 340.000 171.800 340.000 L 174.400 340.000 174.400 319.800 L 174.400 299.600 171.800 299.600 L 169.200 299.600 169.200 319.800 M221.892 299.850 C 221.840 299.988,221.820 309.100,221.848 320.100 L 221.900 340.100 224.450 340.156 L 227.000 340.212 227.000 319.906 L 227.000 299.600 224.494 299.600 C 222.673 299.600,221.961 299.668,221.892 299.850 M230.000 319.900 L 230.000 340.200 232.600 340.200 L 235.200 340.200 235.200 319.900 L 235.200 299.600 232.600 299.600 L 230.000 299.600 230.000 319.900 M238.200 319.894 L 238.200 340.200 240.801 340.200 L 243.402 340.200 243.351 319.950 L 243.300 299.700 240.750 299.644 L 238.200 299.588 238.200 319.894 M246.400 319.900 L 246.400 340.200 248.900 340.200 L 251.400 340.200 251.400 319.900 L 251.400 299.600 248.900 299.600 L 246.400 299.600 246.400 319.900 M299.000 319.800 L 299.000 340.000 301.600 340.000 L 304.200 340.000 304.200 319.800 L 304.200 299.600 301.600 299.600 L 299.000 299.600 299.000 319.800 M307.200 319.794 L 307.200 340.000 309.801 340.000 L 312.402 340.000 312.351 319.850 L 312.300 299.700 309.750 299.644 L 307.200 299.588 307.200 319.794 M315.400 319.800 L 315.400 340.000 317.900 340.000 L 320.400 340.000 320.400 319.800 L 320.400 299.600 317.900 299.600 L 315.400 299.600 315.400 319.800 M323.600 319.800 L 323.600 340.000 326.100 340.000 L 328.600 340.000 328.600 319.800 L 328.600 299.600 326.100 299.600 L 323.600 299.600 323.600 319.800 M376.200 319.600 L 376.200 339.612 378.750 339.556 L 381.300 339.500 381.300 319.600 L 381.300 299.700 378.750 299.644 L 376.200 299.588 376.200 319.600 M22.800 322.790 L 22.800 339.600 43.600 339.600 L 64.400 339.600 64.400 322.954 L 64.400 306.309 63.771 307.104 C 53.746 319.777,34.250 319.843,23.841 307.240 L 22.800 305.979 22.800 322.790 M331.600 322.915 L 331.600 339.866 352.328 339.738 C 363.729 339.668,373.089 339.577,373.129 339.537 C 373.170 339.497,373.179 332.025,373.151 322.932 L 373.100 306.399 371.900 307.841 C 361.860 319.904,342.283 319.503,332.443 307.032 L 331.600 305.964 331.600 322.915 M100.207 322.950 L 100.200 339.800 108.550 339.800 C 113.142 339.800,122.503 339.860,129.350 339.933 L 141.800 340.066 141.800 323.115 L 141.800 306.164 141.034 307.132 C 130.944 319.890,110.886 319.775,100.838 306.900 L 100.213 306.100 100.207 322.950 M177.600 323.090 L 177.600 340.000 186.967 340.000 C 192.119 340.000,201.479 340.060,207.767 340.133 L 219.200 340.266 219.198 323.183 L 219.196 306.100 218.657 306.800 C 208.713 319.712,189.126 319.976,178.569 307.340 L 177.600 306.179 177.600 323.090 M254.400 323.222 L 254.400 340.266 268.233 340.133 C 275.841 340.060,285.201 340.000,289.033 340.000 L 296.000 340.000 295.998 323.050 L 295.996 306.100 295.466 306.800 C 285.715 319.686,265.907 319.952,255.369 307.340 L 254.400 306.179 254.400 323.222 ";
a.microbit.width=400;a.microbit.height=400;a.mvTurnArrowLeft={};a.mvTurnArrowLeft.path="M92.768,55.405C72.348,25.534 37.98,7.808 1.538,8.576L1.538,1.71C40.432,0.892 76.951,19.875 98.65,51.843L104.538,48.275L102.99,66.112L86.463,59.225L92.768,55.405Z";a.mvTurnArrowLeft.width=103;a.mvTurnArrowLeft.height=65;a.mvTurnArrowLeft.transform="matrix(-0.999999,0,0,1,104.538,-1.6846)";a.mvTurnArrowRight={};a.mvTurnArrowRight.path="M92.768,55.405C72.348,25.534 38.144,7.808 1.702,8.576L1.558,1.71C40.452,0.892 76.951,19.875 98.65,51.843L104.538,48.275L102.99,66.112L86.463,59.225L92.768,55.405Z";
a.mvTurnArrowRight.width=103;a.mvTurnArrowRight.height=65;a.mvTurnArrowRight.transform="matrix(0.999999,0,0,1,-1.53785,-1.6846)";a.mvPianoBlackKey={};a.mvPianoBlackKey.path="M29.057,45.104L14.999,45.104L14.999,105.114C14.999,107.322 15.592,109.114 16.324,109.114L27.732,109.114C28.464,109.114 29.057,107.322 29.057,105.114L29.057,45.104Z";a.mvPianoBlackKey.width=85;a.mvPianoBlackKey.height=129;a.mvPianoBlackKey.transform="matrix(6.03992,0,0,2,-90.5927,-90.208)";a.mvPianoWhiteKey={};a.mvPianoWhiteKey.path=
"M0,-109.113L-17.633,-109.113C-18.345,-109.113 -18.921,-108.036 -18.921,-106.706L-18.921,-2.406C-18.921,-1.077 -18.345,0 -17.633,0L0,0C0.711,0 1.288,-1.077 1.288,-2.406L1.288,-12.022L1.288,-106.706C1.288,-108.036 0.711,-109.113 0,-109.113";a.mvPianoWhiteKey.width=127;a.mvPianoWhiteKey.height=223;a.mvPianoWhiteKey.transform="matrix(6.03992,0,0,2,116.281,220.226)";a.mvMusicNote={};a.mvMusicNote.path="M0,-48.273C-2.845,-49.664 -4.694,-52.347 -5.707,-55.276C-6.128,-56.491 -6.418,-57.751 -6.604,-59.023C-6.686,-59.592 -6.722,-63.444 -6.758,-64.018C-6.788,-64.489 -6.746,-65.049 -6.91,-65.497C-7.222,-66.349 -9.018,-66.845 -9.856,-66.601C-10.507,-66.412 -10.511,-65.574 -10.473,-65.029C-10.416,-64.194 -10.41,-60.091 -10.413,-59.252C-10.419,-57.563 -10.425,-55.874 -10.431,-54.185C-10.438,-51.975 -10.445,-49.766 -10.453,-47.556C-10.462,-45.01 -10.471,-42.464 -10.479,-39.918C-10.488,-37.22 -10.497,-34.521 -10.507,-31.823C-10.516,-29.156 -10.524,-26.489 -10.534,-23.822C-10.542,-21.372 -10.551,-18.92 -10.559,-16.47C-10.565,-14.419 -10.573,-12.367 -10.58,-10.316C-10.585,-8.849 -10.59,-7.382 -10.595,-5.915C-10.597,-5.216 -10.6,-4.517 -10.602,-3.817C-10.602,-3.81 -10.609,-3.721 -10.603,-3.718C-14.19,-5.502 -19.674,-5.178 -24.84,-2.492C-32.017,1.24 -35.843,8.093 -33.388,12.816C-30.932,17.539 -24.725,18.572 -17.549,14.84C-11.559,11.726 -7.627,6.422 -7.654,2.029L-7.654,-41.042C1.106,-41.309 9.227,-30.709 9.227,-30.709C17.401,-16.312 4.143,-1.968 4.143,-1.968C3.265,0.752 5.061,0.178 5.061,0.178C9.749,-2.648 15.196,-11.565 15.196,-11.565C27.735,-32.517 0,-48.273 0,-48.273";
a.mvMusicNote.width=37;a.mvMusicNote.height=59;a.mvMusicNote.transform="matrix(0.696729,0,0,0.696729,23.7802,46.4462)";a.mvFinch={};a.mvFinch.path="M84.252,64.003C84.414,64.112 84.619,64.248 84.861,64.411C88.011,65.999 97.563,70.893 103.995,75.04L103.995,75.006C105.955,76.233 108.363,76.957 110.964,76.957C111.74,76.957 112.78,76.796 113.392,76.715C113.76,76.578 114.133,76.504 114.511,76.499C116.111,76.11 117.625,75.603 119.069,74.879C132.915,67.946 161.819,53.125 173.276,53.813C173.762,53.793 174.251,53.786 174.741,53.791L174.807,53.791C175.86,53.794 176.903,53.854 177.936,53.97C213.322,57.538 232.395,112.567 232.395,112.567C232.395,112.567 232.383,112.6 232.36,112.664C232.383,112.728 232.395,112.76 232.395,112.76C232.395,112.76 213.322,167.79 177.936,171.357C176.903,171.473 175.86,171.534 174.807,171.536L174.741,171.536C174.251,171.542 173.762,171.535 173.276,171.515C161.819,172.203 132.915,157.381 119.069,150.448C117.625,149.725 116.111,149.217 114.511,148.829C114.133,148.823 113.76,148.75 113.392,148.613C112.78,148.532 111.74,148.371 110.964,148.371C108.363,148.371 105.955,149.095 103.995,150.322L103.995,150.288C97.563,154.435 88.011,159.329 84.861,160.917C84.191,161.366 83.811,161.618 83.811,161.618C83.766,161.618 83.72,161.617 83.674,161.615C83.429,161.715 83.162,161.77 82.881,161.77C82.112,161.77 81.439,161.356 81.073,160.739L80.502,159.921C77.779,156.789 74.964,148.251 74.155,126.059C74.007,122.127 73.926,117.769 73.926,112.94C73.926,112.848 73.926,112.756 73.926,112.664C73.926,112.572 73.926,112.48 73.926,112.388C73.926,107.559 74.007,103.201 74.155,99.269C74.934,77.9 77.572,69.191 80.198,65.778L81.073,64.525C81.439,63.908 82.112,63.494 82.881,63.494C83.214,63.494 83.53,63.572 83.81,63.71L83.811,63.71L83.816,63.713C83.973,63.791 84.12,63.889 84.252,64.003Z";
a.mvFinch.width=69;a.mvFinch.height=92;a.mvFinch.transform="matrix(3.54006e-17,-0.578136,0.578136,3.54006e-17,-31.0976,134.356)";a.mvFinchBeak={};a.mvFinchBeak.path="M451.214,1395.13C461.108,1386.64 473.944,1382.19 473.944,1382.19C473.944,1382.19 473.963,1382.2 474,1382.21C474.037,1382.2 474.056,1382.19 474.056,1382.19C474.056,1382.19 486.892,1386.64 496.786,1395.13L451.214,1395.13Z";a.mvFinchBeak.width=69;a.mvFinchBeak.height=92;a.mvFinchBeak.transform="matrix(1,-1.2326e-32,0,1,-439.963,-1379.19)";
a.mvFinchTail={};a.mvFinchTail.path="M724.005,1430.54C721.339,1436.85 717.958,1443.49 715.844,1447.71C715.554,1448.29 715.323,1448.89 715.135,1449.51L672.865,1449.51C672.677,1448.89 672.446,1448.29 672.156,1447.71C670.042,1443.49 666.661,1436.85 663.995,1430.54L724.005,1430.54Z";a.mvFinchTail.width=69;a.mvFinchTail.height=92;a.mvFinchTail.transform="matrix(0.902588,0,-1.2326e-32,0.902588,-592.282,-1242.84)";a.mvArrow={};a.mvArrow.path="M249,543.15L249,522.85L275.1,522.85L275.1,504L307,533L275.1,562L275.1,543.15L249,543.15Z";
a.mvArrow.width=83;a.mvArrow.height=83;a.mvArrow.transform="matrix(8.76256e-17,-1.43103,1.43103,8.76256e-17,-721.241,439.328)";a.faRuler={};a.faRuler.path="M174.9 494.1c-18.7 18.7-49.1 18.7-67.9 0L14.9 401.9c-18.7-18.7-18.7-49.1 0-67.9l50.7-50.7 48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-48-48 41.4-41.4 48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-48-48 41.4-41.4 48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-48-48 41.4-41.4 48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-48-48 50.7-50.7c18.7-18.7 49.1-18.7 67.9 0l92.1 92.1c18.7 18.7 18.7 49.1 0 67.9L174.9 494.1z";
a.faRuler.width=512;a.faRuler.height=512;a.faTowerBroadcast={};a.faTowerBroadcast.path="M80.3 44C69.8 69.9 64 98.2 64 128s5.8 58.1 16.3 84c6.6 16.4-1.3 35-17.7 41.7s-35-1.3-41.7-17.7C7.4 202.6 0 166.1 0 128S7.4 53.4 20.9 20C27.6 3.6 46.2-4.3 62.6 2.3S86.9 27.6 80.3 44zM555.1 20C568.6 53.4 576 89.9 576 128s-7.4 74.6-20.9 108c-6.6 16.4-25.3 24.3-41.7 17.7S489.1 228.4 495.7 212c10.5-25.9 16.3-54.2 16.3-84s-5.8-58.1-16.3-84C489.1 27.6 497 9 513.4 2.3s35 1.3 41.7 17.7zM352 128c0 23.7-12.9 44.4-32 55.4V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V183.4c-19.1-11.1-32-31.7-32-55.4c0-35.3 28.7-64 64-64s64 28.7 64 64zM170.6 76.8C163.8 92.4 160 109.7 160 128s3.8 35.6 10.6 51.2c7.1 16.2-.3 35.1-16.5 42.1s-35.1-.3-42.1-16.5c-10.3-23.6-16-49.6-16-76.8s5.7-53.2 16-76.8c7.1-16.2 25.9-23.6 42.1-16.5s23.6 25.9 16.5 42.1zM464 51.2c10.3 23.6 16 49.6 16 76.8s-5.7 53.2-16 76.8c-7.1 16.2-25.9 23.6-42.1 16.5s-23.6-25.9-16.5-42.1c6.8-15.6 10.6-32.9 10.6-51.2s-3.8-35.6-10.6-51.2c-7.1-16.2 .3-35.1 16.5-42.1s35.1 .3 42.1 16.5z";
a.faTowerBroadcast.width=576;a.faTowerBroadcast.height=512;a.faCompassDrafting={};a.faCompassDrafting.path="M352 96c0 14.3-3.1 27.9-8.8 40.2L396 227.4c-23.7 25.3-54.2 44.1-88.5 53.6L256 192h0 0l-68 117.5c21.5 6.8 44.3 10.5 68.1 10.5c70.7 0 133.8-32.7 174.9-84c11.1-13.8 31.2-16 45-5s16 31.2 5 45C428.1 341.8 347 384 256 384c-35.4 0-69.4-6.4-100.7-18.1L98.7 463.7C94 471.8 87 478.4 78.6 482.6L23.2 510.3c-5 2.5-10.9 2.2-15.6-.7S0 501.5 0 496V440.6c0-8.4 2.2-16.7 6.5-24.1l60-103.7C53.7 301.6 41.8 289.3 31.2 276c-11.1-13.8-8.8-33.9 5-45s33.9-8.8 45 5c5.7 7.1 11.8 13.8 18.2 20.1l69.4-119.9c-5.6-12.2-8.8-25.8-8.8-40.2c0-53 43-96 96-96s96 43 96 96zm21 297.9c32.6-12.8 62.5-30.8 88.9-52.9l43.7 75.5c4.2 7.3 6.5 15.6 6.5 24.1V496c0 5.5-2.9 10.7-7.6 13.6s-10.6 3.2-15.6 .7l-55.4-27.7c-8.4-4.2-15.4-10.8-20.1-18.9L373 393.9zM256 128c17.7 0 32-14.3 32-32s-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32z";
a.faCompassDrafting.width=512;a.faCompassDrafting.height=512;a.faArrowsSpin={};a.faArrowsSpin.path="M224 96c38.4 0 73.7 13.5 101.3 36.1l-32.6 32.6c-4.6 4.6-5.9 11.5-3.5 17.4s8.3 9.9 14.8 9.9H416c8.8 0 16-7.2 16-16V64c0-6.5-3.9-12.3-9.9-14.8s-12.9-1.1-17.4 3.5l-34 34C331.4 52.6 280.1 32 224 32c-10.9 0-21.5 .8-32 2.3V99.2c10.3-2.1 21-3.2 32-3.2zM100.1 154.7l32.6 32.6c4.6 4.6 11.5 5.9 17.4 3.5s9.9-8.3 9.9-14.8V64c0-8.8-7.2-16-16-16H32c-6.5 0-12.3 3.9-14.8 9.9s-1.1 12.9 3.5 17.4l34 34C20.6 148.6 0 199.9 0 256c0 10.9 .8 21.5 2.3 32H67.2c-2.1-10.3-3.2-21-3.2-32c0-38.4 13.5-73.7 36.1-101.3zM445.7 224H380.8c2.1 10.3 3.2 21 3.2 32c0 38.4-13.5 73.7-36.1 101.3l-32.6-32.6c-4.6-4.6-11.5-5.9-17.4-3.5s-9.9 8.3-9.9 14.8V448c0 8.8 7.2 16 16 16H416c6.5 0 12.3-3.9 14.8-9.9s1.1-12.9-3.5-17.4l-34-34C427.4 363.4 448 312.1 448 256c0-10.9-.8-21.5-2.3-32zM224 416c-38.4 0-73.7-13.5-101.3-36.1l32.6-32.6c4.6-4.6 5.9-11.5 3.5-17.4s-8.3-9.9-14.8-9.9H32c-8.8 0-16 7.2-16 16l0 112c0 6.5 3.9 12.3 9.9 14.8s12.9 1.1 17.4-3.5l34-34C116.6 459.4 167.9 480 224 480c10.9 0 21.5-.8 32-2.3V412.8c-10.3 2.1-21 3.2-32 3.2z";
a.faArrowsSpin.width=448;a.faArrowsSpin.height=512;a.faEgg={};a.faEgg.path="M192 496C86 496 0 394 0 288C0 176 64 16 192 16s192 160 192 272c0 106-86 208-192 208z";a.faEgg.width=384;a.faEgg.height=512;a.faCrosshairs={};a.faCrosshairs.path="M256 0c17.7 0 32 14.3 32 32V42.4c93.7 13.9 167.7 88 181.6 181.6H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H469.6c-13.9 93.7-88 167.7-181.6 181.6V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V469.6C130.3 455.7 56.3 381.7 42.4 288H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H42.4C56.3 130.3 130.3 56.3 224 42.4V32c0-17.7 14.3-32 32-32zM107.4 288c12.5 58.3 58.4 104.1 116.6 116.6V384c0-17.7 14.3-32 32-32s32 14.3 32 32v20.6c58.3-12.5 104.1-58.4 116.6-116.6H384c-17.7 0-32-14.3-32-32s14.3-32 32-32h20.6C392.1 165.7 346.3 119.9 288 107.4V128c0 17.7-14.3 32-32 32s-32-14.3-32-32V107.4C165.7 119.9 119.9 165.7 107.4 224H128c17.7 0 32 14.3 32 32s-14.3 32-32 32H107.4zM256 288c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z";
a.faCrosshairs.width=512;a.faCrosshairs.height=512;a.faSave={};a.faSave.path="M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z";
a.faSave.width=448;a.faSave.height=512;a.faFile={};a.faFile.path="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z";a.faFile.width=384;a.faFile.height=512;a.faSyncAlt={};a.faSyncAlt.path="M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z";
a.faSyncAlt.width=512;a.faSyncAlt.height=512;a.faClock={};a.faClock.path="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z";a.faClock.width=512;a.faClock.height=512;a.faClockSolid={};a.faClockSolid.path="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm57.1 350.1L224.9 294c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v137.7l63.5 46.2c5.4 3.9 6.5 11.4 2.6 16.8l-28.2 38.8c-3.9 5.3-11.4 6.5-16.8 2.6z";
a.faClockSolid.width=512;a.faClockSolid.height=512;a.faCheck={};a.faCheck.path="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z";a.faCheck.width=512;a.faCheck.height=512;a.faTimes={};a.faTimes.path="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z";
a.faTimes.width=352;a.faTimes.height=512;a.faTimesCircle={};a.faTimesCircle.path="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z";a.faTimesCircle.width=512;a.faTimesCircle.height=
512;a.faPlusCircle={};a.faPlusCircle.path="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z";a.faPlusCircle.width=512;a.faPlusCircle.height=512;a.faPlus={};a.faPlus.path="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z";
a.faPlus.width=448;a.faPlus.height=512;a.faUndoAlt={};a.faUndoAlt.path="M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z";
a.faUndoAlt.width=512;a.faUndoAlt.height=512;a.faTrash={};a.faTrash.path="M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z";a.faTrash.width=448;a.faTrash.height=512;a.faHandPointer={};a.faHandPointer.path="M160 64c0-8.8 7.2-16 16-16s16 7.2 16 16V200c0 10.3 6.6 19.5 16.4 22.8s20.6-.1 26.8-8.3c3-3.9 7.6-6.4 12.8-6.4c8.8 0 16 7.2 16 16c0 10.3 6.6 19.5 16.4 22.8s20.6-.1 26.8-8.3c3-3.9 7.6-6.4 12.8-6.4c7.8 0 14.3 5.6 15.7 13c1.6 8.2 7.3 15.1 15.1 18s16.7 1.6 23.3-3.6c2.7-2.1 6.1-3.4 9.9-3.4c8.8 0 16 7.2 16 16l0 16V392c0 39.8-32.2 72-72 72H272 212.3h-.9c-37.4 0-72.4-18.7-93.2-49.9L50.7 312.9c-4.9-7.4-2.9-17.3 4.4-22.2s17.3-2.9 22.2 4.4L116 353.2c5.9 8.8 16.8 12.7 26.9 9.7s17-12.4 17-23V320 64zM176 0c-35.3 0-64 28.7-64 64V261.7C91.2 238 55.5 232.8 28.5 250.7C-.9 270.4-8.9 310.1 10.8 339.5L78.3 440.8c29.7 44.5 79.6 71.2 133.1 71.2h.9H272h56c66.3 0 120-53.7 120-120V288l0-16c0-35.3-28.7-64-64-64c-4.5 0-8.8 .5-13 1.3c-11.7-15.4-30.2-25.3-51-25.3c-6.9 0-13.5 1.1-19.7 3.1C288.7 170.7 269.6 160 248 160c-2.7 0-5.4 .2-8 .5V64c0-35.3-28.7-64-64-64zm48 304c0-8.8-7.2-16-16-16s-16 7.2-16 16v96c0 8.8 7.2 16 16 16s16-7.2 16-16V304zm48-16c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16s16-7.2 16-16V304c0-8.8-7.2-16-16-16zm80 16c0-8.8-7.2-16-16-16s-16 7.2-16 16v96c0 8.8 7.2 16 16 16s16-7.2 16-16V304z";
a.faHandPointer.width=448;a.faHandPointer.height=512;a.faHandPointRight={};a.faHandPointRight.path="M512 199.652c0 23.625-20.65 43.826-44.8 43.826h-99.851c16.34 17.048 18.346 49.766-6.299 70.944 14.288 22.829 2.147 53.017-16.45 62.315C353.574 425.878 322.654 448 272 448c-2.746 0-13.276-.203-16-.195-61.971.168-76.894-31.065-123.731-38.315C120.596 407.683 112 397.599 112 385.786V214.261l.002-.001c.011-18.366 10.607-35.889 28.464-43.845 28.886-12.994 95.413-49.038 107.534-77.323 7.797-18.194 21.384-29.084 40-29.092 34.222-.014 57.752 35.098 44.119 66.908-3.583 8.359-8.312 16.67-14.153 24.918H467.2c23.45 0 44.8 20.543 44.8 43.826zM96 200v192c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V200c0-13.255 10.745-24 24-24h48c13.255 0 24 10.745 24 24zM68 368c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20z";
a.faHandPointRight.width=512;a.faHandPointRight.height=512;a.faMusic={};a.faMusic.path="M511.99 32.01c0-21.71-21.1-37.01-41.6-30.51L150.4 96c-13.3 4.2-22.4 16.5-22.4 30.5v261.42c-10.05-2.38-20.72-3.92-32-3.92-53.02 0-96 28.65-96 64s42.98 64 96 64 96-28.65 96-64V214.31l256-75.02v184.63c-10.05-2.38-20.72-3.92-32-3.92-53.02 0-96 28.65-96 64s42.98 64 96 64 96-28.65 96-64l-.01-351.99z";a.faMusic.width=512;a.faMusic.height=512;a.faLightbulb={};a.faLightbulb.path="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z";
a.faLightbulb.width=352;a.faLightbulb.height=512;a.faArrowsAlt={};a.faArrowsAlt.path="M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z";
a.faArrowsAlt.width=512;a.faArrowsAlt.height=512;a.faFlag={};a.faFlag.path="M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z";
a.faFlag.width=512;a.faFlag.height=512;a.language={};a.language.path="M11.99,2C6.47,2,2,6.48,2,12s4.47,10,9.99,10C17.52,22,22,17.52,22,12S17.52,2,11.99,2z M18.92,8h-2.95 c-0.32-1.25-0.78-2.45-1.38-3.56C16.43,5.07,17.96,6.35,18.92,8z M12,4.04c0.83,1.2,1.48,2.53,1.91,3.96h-3.82 C10.52,6.57,11.17,5.24,12,4.04z M4.26,14C4.1,13.36,4,12.69,4,12s0.1-1.36,0.26-2h3.38c-0.08,0.66-0.14,1.32-0.14,2 s0.06,1.34,0.14,2H4.26z M5.08,16h2.95c0.32,1.25,0.78,2.45,1.38,3.56C7.57,18.93,6.04,17.66,5.08,16z M8.03,8H5.08 c0.96-1.66,2.49-2.93,4.33-3.56C8.81,5.55,8.35,6.75,8.03,8z M12,19.96c-0.83-1.2-1.48-2.53-1.91-3.96h3.82 C13.48,17.43,12.83,18.76,12,19.96z M14.34,14H9.66c-0.09-0.66-0.16-1.32-0.16-2s0.07-1.35,0.16-2h4.68c0.09,0.65,0.16,1.32,0.16,2 S14.43,13.34,14.34,14z M14.59,19.56c0.6-1.11,1.06-2.31,1.38-3.56h2.95C17.96,17.65,16.43,18.93,14.59,19.56z M16.36,14 c0.08-0.66,0.14-1.32,0.14-2s-0.06-1.34-0.14-2h3.38C19.9,10.64,20,11.31,20,12s-0.1,1.36-0.26,2H16.36z";
a.language.width=24;a.language.height=24;a.backspace={};a.backspace.path="m 13.7,2.96 -1.9326,1.91387 3.4149,3.37741 -3.4149,3.39614 1.9326,1.9139 3.415,-3.3962 3.4149,3.3962 1.9139,-1.9139 -3.3962,-3.39614 3.3962,-3.37741 -1.9139,-1.91387 -3.4149,3.39618 -3.415,-3.39618 z m -8.1433,-2.83328 23.1165,0 0,16.2679 -23.1165,0 -5.4976,-8.14334 5.4976,-8.12456 z";a.backspace.width=28.614;a.backspace.height=16.2679;a.checkmark={};a.checkmark.path="M 4.5064398,0.02118182 5.6767307,0.81550087 2.3670683,5.6290633 0.02647727,4.0457402 0.82608984,2.8860327 1.9963864,3.6803471 Z";
a.checkmark.width=6;a.checkmark.height=6;a.flag={};a.flag.path="m 0,0 11.2202,0 0,5.69439 c 0,3.1469 7.23037,5.69439 16.16532,5.69439 8.91622,0 16.14659,-2.54749 16.14659,-5.69439 0,-3.12817 7.24911,-5.69439 16.16533,-5.69439 8.93494,0 16.16532,2.56622 16.16532,5.69439 l 0,45.53639 c 0,-3.1469 -7.23038,-5.69439 -16.16532,-5.69439 -8.91622,0 -16.16533,2.54749 -16.16533,5.69439 0,3.1469 -7.23037,5.69439 -16.14659,5.69439 -8.93495,0 -16.16532,-2.54749 -16.16532,-5.69439 l 0,53.04774 -11.2202,0 z";a.flag.width=
75.863;a.flag.height=104.279;a.battery={};a.battery.path="M 62.02,9 H 52 V -3 H 28 V 9 H 17.98 C 13.6,9 10,12.6 10,16.98 v 80 c 0,4.44 3.6,8.04 7.98,8.04 H 61.96 C 66.4,105 70,101 70,97 V 16.98 C 70,12.6 66.4,9 62.02,9 Z";a.battery.width=75.863;a.battery.height=104.279;a.stage={};a.stage.path="m 80.789,36.957 12.02565,0 0,14.16105 0,0 0,8.82256 -28.99643,0 z m -80.78916,0 11.96946,0 16.97078,22.98361 -28.94024,0 z m 92.81481,-30.08286 0,27.79761 -12.13804,0 -16.0342,-21.69113 3.42787,-0.33716 c 9.96518,-1.18009 18.45057,-3.1469 24.44467,-5.61947 z m -92.81481,-0.0187 0.37463,0.16858 c 5.9941,2.47257 14.47949,4.43938 24.44467,5.61947 l 3.29675,0.33716 -16.0342,21.69113 -12.08185,0 z m 0,-6.85575 92.88974,0 0,4.28953 -1.49853,0.76799 c -5.60073,2.54749 -14.3109,4.5705 -24.78183,5.71312 l -3.35295,0.33717 -1.40486,0.13112 -6.66843,0.39336 -1.70458,0.0749 -7.02432,0.13112 -7.04307,-0.13112 -1.70457,-0.0749 -6.66843,-0.39336 -1.53598,-0.14985 -3.22183,-0.31844 c -10.47093,-1.14262 -19.16237,-3.16563 -24.78183,-5.71312 l -1.49853,-0.76799 z";
a.stage.width=92.89;a.stage.height=59.941;a.stop={};a.stop.path="m 0,19.957 20.23007,-20.26754 28.65926,0 20.26753,20.26754 0,28.6218 -20.26753,20.26753 -28.65926,0 -20.23007,-20.26753 z";a.stop.width=69.157;a.stop.height=69.157;a.file={};a.file.path="m 407.092,0 -370.3896,0 c -17.03792,0 -30.865797,13.82788 -30.865797,30.8658 l 0,432.1212 c 0,17.05335 13.827877,30.8658 30.865797,30.8658 l 277.7922,0 123.4632,-123.4632 0,-339.5238 c 0,-17.03792 -13.81245,-30.8658 -30.8658,-30.8658 z m -92.5974,450.20856 0,-79.81896 79.81896,0 -79.81896,79.81896 z m 92.5974,-110.68476 -92.5974,0 c -17.03792,0 -30.8658,13.82788 -30.8658,30.8658 l 0,92.5974 -246.9264,0 0,-432.1212 370.3896,0 0,308.658 z m -339.5238,-231.4935 c 0,-8.53439 6.89851,-15.4329 15.4329,-15.4329 l 277.7922,0 c 8.53439,0 15.4329,6.89851 15.4329,15.4329 0,8.56526 -6.89851,15.4329 -15.4329,15.4329 l -277.7922,0 c -8.53439,0 -15.4329,-6.89851 -15.4329,-15.4329 z m 0,92.5974 c 0,-8.53439 6.89851,-15.4329 15.4329,-15.4329 l 277.7922,0 c 8.53439,0 15.4329,6.89851 15.4329,15.4329 0,8.56526 -6.89851,15.4329 -15.4329,15.4329 l -277.7922,0 c -8.53439,0 -15.4329,-6.89851 -15.4329,-15.4329 z m 0,92.5974 c 0,-8.53439 6.89851,-15.4329 15.4329,-15.4329 l 277.7922,0 c 8.53439,0 15.4329,6.89851 15.4329,15.4329 0,8.56526 -6.89851,15.4329 -15.4329,15.4329 l -277.7922,0 c -8.53439,0 -15.4329,-6.89851 -15.4329,-15.4329 z";
a.file.width=432.121;a.file.height=493.853;a.dropbox={};a.dropbox.path="m 30.561,0 -30.6875,20.03125 21.21875,17 30.9375,-19.09375 -21.46875,-17.9375 z m 21.46875,17.9375 30.96875,19.09375 21.21875,-17 -30.6875,-20.03125 -21.5,17.9375 z m 30.96875,19.09375 -30.96875,19.09375 21.5,17.9375 30.6875,-20.03125 -21.21875,-17 z m -30.96875,19.09375 -30.9375,-19.09375 -21.21875,17 30.6875,20.03125 21.46875,-17.9375 z m 0.0625,3.875 -21.53125,17.875 -9.21875,-6.03125 0,6.75 30.75,18.4375 30.78125,-18.4375 0,-6.75 -9.21875,6.03125 -21.5625,-17.875 z";
a.dropbox.width=104.344;a.dropbox.height=97.031;a.undo={};a.undo.path="m 14.148,0 -14.148438,12.3535156 14.148438,13.035156 0,-8.335937 c 14.946332,-0.350494 14.262139,12.84971 9.652344,17.05664 11.806998,-6.123566 8.245989,-26.417489 -9.652344,-25.951171 l 0,-8.1582036 z";a.undo.width=30.664;a.undo.height=34.109;a.edit={};a.edit.path="m 7.198,53.472 23.6129125,18.573045 -30.810495,14.855331 7.1975825,-33.428376 z m 33.2908765,-42.291734 23.612969,18.573214 -29.134082,37.019089 -23.618303,-18.573044 29.139416,-37.019259 z m 8.794609,-11.179794 23.612969,18.573085 -4.64312,5.901916 -23.612969,-18.5730725 4.64312,-5.9019285 z";
a.edit.width=72.896;a.edit.height=86.9;a.view={};a.view.path="M 191.74609 0 C 85.854776 0 -1.5158245e-013 85.854776 0 191.74609 C 0 297.63742 85.854776 383.49023 191.74609 383.49023 C 297.63742 383.49023 383.49023 297.63742 383.49023 191.74609 C 383.49023 85.854776 297.63742 9.4739031e-014 191.74609 0 z M 191.74609 47.935547 C 271.04874 47.935547 335.55469 112.44344 335.55469 191.74609 C 335.55469 271.06472 271.04874 335.55469 191.74609 335.55469 C 112.42746 335.55469 47.9375 271.06472 47.9375 191.74609 C 47.9375 112.44344 112.42746 47.935547 191.74609 47.935547 z M 644.55859 62.539062 L 644.55859 150.69922 L 556.39844 150.69922 L 556.39844 177.60547 L 644.55859 177.60547 L 644.55859 265.76562 L 671.14844 265.76562 L 671.14844 177.60547 L 759.30859 177.60547 L 759.30859 150.69922 L 671.14844 150.69922 L 671.14844 62.539062 L 644.55859 62.539062 z M 191.74609 79.894531 C 130.06802 79.894531 79.894531 130.09998 79.894531 191.74609 L 111.85156 191.74609 C 111.85156 147.69261 147.67663 111.85156 191.74609 111.85156 L 191.74609 79.894531 z M 379.94336 312.17773 C 362.4466 339.35762 339.342 362.4782 312.16211 379.95898 L 429.49414 497.27539 C 448.22126 516.00251 478.5646 516.00251 497.25977 497.27539 C 516.00287 478.5962 516.00287 448.25322 497.25977 429.49414 L 379.94336 312.17773 z M 615.19922 390.89844 L 615.19922 416.85547 L 700.50977 416.85547 L 700.50977 390.89844 L 615.19922 390.89844 z ";
a.view.width=759.309;a.view.height=511.321;a.trash={};a.trash.path="m 133.622,0 c -10.303,0 -18.6582,8.35325 -18.6582,18.65625 0,0.0257 0.004,0.0505 0.004,0.0762 l -105.80665,0 c -3.80276,0 -6.89257,6.97823 -6.89257,15.58593 0,8.6077 3.0898,15.58399 6.89257,15.58399 l 297.32422,0 c 3.822,0 6.89453,-6.96699 6.89454,-15.58399 0,-8.5983 -3.07254,-15.58593 -6.89454,-15.58593 l -105.80468,0 c 10e-5,-0.0257 0.004,-0.0505 0.004,-0.0762 0,-10.303 -8.3362,-18.65625 -18.6582,-18.65625 l -48.4043,0 z m -115.46875,66.23829 32.14453,297.77343 215.07032,0 32.12695,-297.77343 -61.72266,0 -16.55273,261.05859 -16.47461,0 16.56836,-261.05859 -53.24805,0 0,261.05859 -16.48437,0 0,-261.05859 -53.22852,0 16.56836,261.05859 -16.47266,0 -16.55273,-261.05859 -61.74219,0 z";
a.trash.width=311.111;a.trash.height=364.012;a.square={};a.square.path="m 1,1 10,0 0,10 -10,0 z";a.square.width=12;a.square.height=12;a.play={};a.play.path="m 0,0 8.66025,5 -8.66025,5 z";a.play.width=8.66025;a.play.height=10;a.circle={};a.circle.path="m 0,50 a50,50 0 1,0 100,0 a50,50 0 1,0 -100,0";a.circle.width=100;a.circle.height=100;a.pause={};a.pause.path="m 3,3 10,0 0,30 -10,0 z m 20,0 10,0 0,30 -10,0 z";a.pause.width=36;a.pause.height=36;a.connect={};a.connect.path="m 826.025,0 C 814.60748 1.3686646 630.30431 115.91917 564.58008 164.55859 C 529.95005 190.36164 478.22903 249.11458 451.21875 293.25391 C 439.84386 312.17205 495.00662 265.39797 510.49805 262.68359 C 526.69282 259.97372 542.77022 275.55222 543.39258 288.2168 C 544.02393 299.47471 541.90041 301.56953 536.91406 311.38477 C 514.1238 355.55109 478.6513 403.15316 482.83984 408.10352 C 515.62229 451.21859 551.91211 495.76367 551.91211 495.76367 C 551.91211 495.76367 519.1331 451.94461 492.6582 412.38672 C 487.77982 405.32185 510.55268 363.96923 613.20703 259.82422 C 637.28248 234.65702 651.36206 232.6375 665.61328 203.89062 C 674.17031 185.65783 643.1478 197.41715 611.41211 210.57812 C 593.07583 218.19787 562.0298 233.47253 563.45898 229.96484 C 564.88815 226.45715 595.21285 213.99142 610.02344 207.75586 C 674.91049 180.03624 725.6458 165.5901 731.50195 129.75586 C 732.98061 118.51145 695.57667 137.96641 633.48047 169.2207 C 610.19833 180.32565 553.73859 210.20827 555.87109 206.70508 C 558.0036 203.20188 608.8108 177.503 632.80078 165.69922 C 710.4199 126.80718 766.84468 102.54985 771.28516 68.113281 C 772.73683 61.088901 714.85532 93.073922 656.25781 127.16406 C 614.60341 151.51545 549.60909 196.11473 551.74609 191.9082 C 553.8831 187.70166 623.80921 141.72751 654.87305 123.63867 C 759.36748 61.707442 822.08306 43.820194 826.58203 0.24023438 C 826.5833 0.042420625 826.39371 -0.032053696 826.02539 0.01171875 z M 936.46289 123.5625 C 917.49736 123.5625 899.66663 130.94768 886.25781 144.36523 L 780.45703 250.15625 C 758.6986 271.91177 753.51635 304.96588 767.11719 332.10938 L 789.36133 309.86523 C 786.8099 297.15754 790.40315 283.78622 799.00586 273.91797 L 798.94531 273.85547 L 800.40625 272.37891 C 800.59244 272.18399 800.79531 271.97908 800.99023 271.78125 C 801.05133 271.72305 801.10591 271.66365 801.16992 271.60547 L 801.53711 271.23633 L 907.32617 165.44336 C 915.10847 157.66107 925.45517 153.37891 936.46094 153.37891 C 947.46962 153.37891 957.81145 157.66107 965.59375 165.44336 C 981.65874 181.50544 981.65874 207.65659 965.59375 223.70703 L 857.15625 332.16016 L 857.08008 332.08398 C 849.35306 338.82476 839.62819 342.50195 829.36719 342.50195 C 826.60048 342.50195 823.86494 342.22866 821.17969 341.69336 L 798.93945 363.93555 C 808.74078 368.82603 819.61469 371.39063 830.66992 371.39062 C 849.64708 371.39062 867.4779 364.00453 880.88672 350.5957 L 986.68359 244.80078 C 1000.0953 231.38032 1007.4824 213.54848 1007.4824 194.57422 C 1007.4824 175.60578 1000.0885 157.77115 986.67969 144.36523 C 973.26795 130.94477 955.43424 123.5625 936.46289 123.5625 z M 75.992188 235.39062 C 33.27296 235.28359 -2.6053234e-014 239.72461 0 239.72461 C 0 239.72461 80.925164 233.9112 132.21484 242.67969 C 183.50453 251.44817 246.72775 263.81098 278.92383 288.63477 C 311.11991 313.45855 314.21792 378.89192 330.72461 437.37695 C 342.42042 478.24704 422.45256 501.96834 494.01758 529.85742 C 494.01758 529.85742 394.42755 484.90848 364.98633 469.24609 C 322.92552 447.17267 333.09961 395.89258 333.09961 395.89258 C 333.09961 395.89258 333.98765 367.06106 381.25977 344.15234 C 362.4541 315.19401 354.67261 322.17715 339.91602 319.97266 C 325.15942 317.76817 304.86667 301.46071 311.30469 284.62109 C 322.03022 257.25839 394.40194 268.97466 401.06641 326.69336 C 406.03026 320.39482 402.77452 279.58002 369.11328 263.89062 C 335.44753 248.90458 297.38531 261.32199 267.84961 260.42969 C 238.31841 258.83406 167.37648 243.6082 137.86328 239.19922 C 116.78001 236.42673 95.410018 235.43928 75.992188 235.39062 z M 510.86719 270.4375 C 510.16385 270.4335 510.16075 271.13455 510.15625 271.83789 L 510.12891 276.05859 C 509.42557 276.05359 508.71701 276.75255 508.01367 276.74805 L 508.01953 276.04492 C 508.02453 275.34158 507.31972 275.33811 507.32422 274.63477 L 505.92773 273.21875 C 505.93173 272.51542 505.22737 272.51015 504.51953 273.20898 C 503.81619 273.20398 503.81309 273.90799 503.80859 274.61133 C 503.80359 275.31467 504.50195 276.02344 504.50195 276.02344 C 504.49695 276.72678 505.20177 276.73025 505.19727 277.43359 L 505.19141 278.13672 C 504.48358 278.83556 503.77989 278.83182 503.77539 279.53516 L 503.07227 279.5293 C 502.36893 279.5243 502.37325 278.82286 501.66992 278.81836 C 500.96658 278.81436 500.97092 278.10997 500.26758 278.10547 C 499.56424 278.10047 498.86133 278.0957 498.86133 278.0957 C 498.1535 278.79454 498.85156 279.50391 498.85156 279.50391 L 502.3457 283.04297 C 501.63786 283.74181 501.63361 284.44374 500.92578 285.14258 L 500.22266 285.13867 C 499.51932 285.13367 498.81581 285.12912 498.82031 284.42578 C 498.11697 284.42078 497.41368 284.41681 496.71484 283.70898 C 496.0115 283.70398 495.30919 283.70096 495.30469 284.4043 C 495.29969 285.10764 495.29471 285.80995 495.99805 285.81445 C 496.70139 285.81945 497.40039 286.52734 497.40039 286.52734 C 498.10373 286.53234 498.09939 287.23379 498.80273 287.23828 L 499.50586 287.24414 C 499.50186 287.94748 499.49669 288.65018 499.49219 289.35352 L 498.78906 289.34961 C 498.08572 289.34461 497.38281 289.33984 497.38281 289.33984 C 496.67948 289.33484 495.97678 289.33067 495.27344 289.32617 C 494.5701 289.32117 494.56505 290.02518 494.56055 290.72852 C 494.55555 291.43186 495.25391 292.14062 495.25391 292.14062 L 499.47461 292.16797 L 499.45703 294.98047 L 498.75391 294.97461 C 498.05057 294.96961 498.04514 295.67442 497.3418 295.66992 C 496.62947 297.0721 496.62971 297.07264 495.92188 297.77148 C 495.21854 297.76648 495.21348 298.47049 495.20898 299.17383 C 495.20398 299.87716 495.90799 299.88027 496.61133 299.88477 C 497.31467 299.88977 498.02323 299.19081 498.72656 299.19531 C 499.4299 299.20031 500.13222 299.20529 500.13672 298.50195 L 500.8418 298.50586 C 501.54064 299.2137 501.53554 299.91716 502.23438 300.625 L 501.52539 301.32422 L 500.11133 302.72266 L 498.69531 304.11914 C 497.98747 304.81798 497.98221 305.52089 498.68555 305.52539 C 499.38439 306.23323 499.38396 306.234 500.0918 305.53516 L 501.50781 304.13672 C 502.21115 304.14172 502.21658 303.43886 502.91992 303.44336 L 503.62305 303.44727 C 504.32188 304.15511 505.02577 304.16131 505.72461 304.86914 L 505.71875 305.57227 C 505.71375 306.27561 505.01036 306.27127 505.00586 306.97461 C 505.00086 307.67795 504.29492 308.375 504.29492 308.375 C 504.28992 309.07833 504.28494 309.78261 504.98828 309.78711 C 505.69162 309.79211 506.39453 309.79688 506.39453 309.79688 C 507.10236 309.09803 507.10742 308.39453 507.10742 308.39453 C 507.11242 307.69119 507.81581 307.69553 507.82031 306.99219 L 507.82422 306.28906 C 508.52756 306.29406 509.22635 307.00136 509.92969 307.00586 L 509.9043 311.22461 C 509.8993 311.92795 510.59766 312.63672 510.59766 312.63672 C 511.301 312.64172 512.00527 312.64475 512.00977 311.94141 C 512.01477 311.23808 512.01872 310.53478 512.72656 309.83594 C 512.73156 309.1326 512.73417 308.42909 513.4375 308.43359 L 513.44336 307.73047 C 514.1467 307.73547 514.84939 307.73964 515.55273 307.74414 L 515.54883 308.44727 C 515.54483 309.15061 515.54385 309.15155 516.24219 309.85938 C 516.23719 310.56272 516.93614 311.26932 516.93164 311.97266 C 516.92664 312.676 517.63064 312.68105 518.33398 312.68555 C 519.03731 312.69055 519.04238 311.98653 519.04688 311.2832 C 519.05187 310.57986 519.05605 309.87717 519.06055 309.17383 C 519.06555 308.47049 519.06836 307.76758 519.06836 307.76758 L 519.07422 307.06445 C 519.77755 307.06945 520.48611 306.36855 521.18945 306.37305 L 521.18359 307.07812 C 521.17859 307.78146 521.88341 307.78494 521.87891 308.48828 L 523.27539 309.9043 C 523.97423 310.61214 523.97381 310.61095 524.68164 309.91211 C 525.38498 309.91711 525.39003 309.21505 525.39453 308.51172 C 525.39953 307.80838 524.70117 307.09961 524.70117 307.09961 C 524.70617 306.39627 524.00136 306.39278 524.00586 305.68945 L 524.01172 304.98438 C 524.71956 304.28553 525.42323 304.29123 525.42773 303.58789 L 526.13086 303.5918 C 526.8342 303.5968 526.82986 304.3002 527.5332 304.30469 C 528.23654 304.30869 528.23025 305.01308 528.93359 305.01758 C 529.63692 305.02258 530.3418 305.02539 530.3418 305.02539 C 531.04964 304.32655 530.34961 303.61914 530.34961 303.61914 L 528.95312 302.20312 L 527.55469 300.78906 L 526.85547 300.08008 C 527.56331 299.38124 527.56755 298.67736 528.27539 297.97852 L 528.98047 297.98438 C 529.6838 297.98937 530.38536 297.99393 530.38086 298.69727 C 531.0842 298.70127 531.78749 298.70623 532.48633 299.41406 C 533.18967 299.41906 533.89394 299.42209 533.89844 298.71875 C 533.90344 298.01541 533.90646 297.31309 533.20312 297.30859 C 532.49979 297.30359 531.80273 296.5957 531.80273 296.5957 C 531.09939 296.5907 531.10373 295.88731 530.40039 295.88281 L 529.69727 295.87891 C 529.70227 295.17557 529.70448 294.47287 529.70898 293.76953 L 533.92969 293.79688 C 534.63302 293.80088 534.63808 293.09787 534.64258 292.39453 C 534.64758 291.69119 534.65587 290.284 533.95703 289.57617 L 533.95508 289.57617 C 533.25174 289.57117 532.54903 289.567 531.8457 289.5625 C 531.14236 289.5575 530.43945 289.55469 530.43945 289.55469 L 529.73633 289.54883 C 529.74133 288.8455 529.74014 288.84592 529.74414 288.14258 C 529.74814 287.43924 529.74891 287.43967 529.75391 286.73633 L 530.45703 286.74023 C 531.16036 286.74523 531.1658 286.04237 531.86914 286.04688 C 532.57248 286.05187 533.2793 285.35156 533.2793 285.35156 C 533.98263 285.35656 533.98769 284.65256 533.99219 283.94922 C 533.99719 283.24589 533.29318 283.24083 532.58984 283.23633 C 531.88651 283.23133 531.17795 283.93223 530.47461 283.92773 C 529.77127 283.92273 529.06895 283.91775 529.06445 284.62109 L 528.36133 284.61719 C 527.66249 283.90935 527.66564 283.20588 526.9668 282.49805 L 527.67578 281.79883 L 529.0918 280.40039 L 530.50586 279.00391 C 531.2137 278.30507 531.21896 277.6002 530.51562 277.5957 C 529.81679 276.88786 529.8172 276.88905 529.10938 277.58789 L 527.69336 278.98438 C 526.99002 278.97938 526.98458 279.68419 526.28125 279.67969 L 525.57812 279.67383 C 524.87929 278.96599 524.17736 278.96175 523.47852 278.25391 L 523.48242 277.55078 C 523.48742 276.84744 524.19081 276.85178 524.19531 276.14844 C 524.20031 275.4451 524.9082 274.74609 524.9082 274.74609 C 524.9132 274.04275 524.91623 273.34044 524.21289 273.33594 C 523.50956 273.33094 522.80664 273.32617 522.80664 273.32617 C 522.0988 274.02501 522.09375 274.72852 522.09375 274.72852 C 522.08875 275.43185 521.38535 275.42753 521.38086 276.13086 L 521.37695 276.83398 C 520.67361 276.82898 519.97482 276.12169 519.27148 276.11719 L 519.27539 275.41406 C 519.28039 274.71072 519.28516 274.00781 519.28516 274.00781 C 519.29016 273.30447 519.29433 272.59982 519.29883 271.89648 C 519.30283 271.19314 518.60352 270.48633 518.60352 270.48633 C 517.90018 270.48133 517.19786 270.47635 517.19336 271.17969 C 517.18836 271.88303 517.18439 272.58632 516.47656 273.28516 C 516.47156 273.9885 516.46701 274.69199 515.76367 274.6875 L 515.75977 275.39062 C 515.05643 275.38563 514.35177 275.38341 513.64844 275.37891 L 513.6543 274.67383 C 513.6583 273.97049 513.65732 273.97151 512.95898 273.26367 C 512.96298 272.56034 512.26504 271.85178 512.26953 271.14844 C 512.27453 270.4451 511.57053 270.442 510.86719 270.4375 z M 336.4707 278.40039 C 333.54409 278.47783 330.67561 279.99678 328.90039 282.62305 L 345.72266 291.875 C 347.15633 287.66397 345.78212 282.73098 341.58008 279.89062 C 340.00432 278.8255 338.22667 278.35392 336.4707 278.40039 z M 327.48047 284.72461 C 325.34346 288.93114 327.42318 293.86728 330.92188 296.70312 C 335.83174 298.84464 341.46688 297.47525 344.30273 293.97656 L 327.48047 284.72461 z M 852.31836 287.04883 C 833.35574 287.05183 815.52111 294.43784 802.10938 307.84375 L 696.31836 413.64258 C 682.9008 427.0485 675.51563 444.88217 675.51562 463.85352 C 675.51562 482.83359 682.90857 500.66439 696.32031 514.07031 C 709.72913 527.47622 727.56572 534.86527 746.53125 534.87109 L 746.53711 534.87109 C 765.50555 534.87109 783.33336 527.48204 796.74219 514.07031 L 902.54102 408.26953 C 924.31399 386.49656 929.48436 353.41685 915.8457 326.26172 L 892.61719 349.49219 C 895.50319 363.06975 891.32926 377.32799 881.47266 387.1875 L 773.01367 495.63672 L 772.93945 495.57031 C 765.22407 502.30818 755.48074 505.98242 745.22266 505.98242 C 734.26053 505.98242 723.99879 501.75569 716.3125 494.07812 C 708.51275 486.28129 704.2986 475.86831 704.40625 464.75781 C 704.51098 454.64519 708.19017 445.05301 714.83203 437.43945 L 714.77148 437.38281 L 716.25781 435.88281 C 716.45273 435.67626 716.65668 435.46445 716.85742 435.26953 C 716.91852 435.20843 716.98187 435.14221 717.04297 435.08984 L 717.40039 434.72656 L 823.19336 328.92773 C 830.97857 321.15125 841.31932 316.87109 852.31055 316.87109 C 855.1529 316.87109 857.97451 317.16515 860.74414 317.73828 L 883.99805 294.47852 C 874.22291 289.60258 863.35032 287.04883 852.31836 287.04883 z M 514.82812 287.87891 C 516.18508 287.71449 517.86904 289.03456 518.47266 290.88477 C 519.1625 292.99928 517.74282 295.09943 515.63281 295.08594 C 513.5183 295.77578 511.41814 294.35611 511.43164 292.24609 C 510.7418 290.13158 512.16147 288.02947 514.27148 288.04297 C 514.44788 287.95618 514.63427 287.90239 514.82812 287.87891 z M 396.66016 356.19922 C 396.66016 356.19922 395.95567 356.1946 395.95117 356.89844 L 395.92383 361.11719 C 395.22049 361.11219 394.51838 361.1078 393.81055 361.80664 C 393.11621 360.39547 393.12461 358.98908 392.42578 358.28125 C 392.42578 358.28125 392.4294 357.57872 391.72656 357.57422 L 391.02344 357.56836 C 391.02344 357.56836 390.32091 357.56374 390.31641 358.26758 L 390.31055 358.9707 C 390.31055 358.9707 390.29784 361.08101 390.99219 362.49219 C 390.28885 362.48719 389.58029 363.18614 388.87695 363.18164 C 388.18261 361.77046 387.48964 360.35959 387.49414 359.65625 L 386.79492 358.94922 L 386.0918 358.94336 C 386.0918 358.94336 385.38731 358.93874 385.38281 359.64258 L 385.37891 360.3457 C 385.37891 360.3457 386.06759 362.46051 386.05859 363.86719 C 385.35525 363.86219 384.64865 364.56114 383.94531 364.55664 L 382.55664 361.73438 L 381.85742 361.02734 L 381.1543 361.02148 C 381.1543 361.02148 380.44981 361.01786 380.44531 361.7207 L 380.44141 362.42383 C 380.44141 362.42383 381.13183 364.53804 381.82617 365.94922 C 381.28385 365.94536 380.73897 366.3625 380.19336 366.87305 C 379.98997 366.96105 379.79349 367.05979 379.5918 367.15039 C 378.87181 365.80697 377.61523 364.51562 377.61523 364.51562 L 376.91602 363.80859 L 376.21289 363.80273 L 375.50586 364.50195 L 375.5 365.20508 C 375.5 365.20508 376.13039 367.11722 376.79102 368.51953 C 376.03489 368.92005 375.29119 369.33811 374.5625 369.77539 C 373.83063 368.59486 372.66973 367.93856 372.67383 367.29688 L 371.97461 366.58984 L 371.27148 366.58398 L 370.5625 367.2832 L 370.55859 367.98633 C 370.55859 367.98633 371.25271 369.39682 372.65039 370.8125 C 371.94255 371.51134 371.23908 371.50819 370.53125 372.20703 C 369.13357 370.79135 368.43381 370.08263 367.73047 370.07812 L 367.02734 370.07422 L 366.32422 370.07031 L 365.61719 370.76758 L 365.61133 371.47266 C 365.61133 371.47266 367.00879 372.88765 367.70312 374.29883 L 366.28906 375.69531 C 364.88689 374.98298 363.48828 373.56836 363.48828 373.56836 L 362.78516 373.56445 C 362.78516 373.56445 362.08067 373.55984 362.07617 374.26367 L 362.06836 375.66992 C 362.06836 375.66992 363.33161 376.96602 364.05078 378.3125 C 363.43548 378.97587 362.83772 379.65437 362.26172 380.34961 C 361.03918 379.72011 359.93548 379.09039 359.93945 378.46875 L 359.23633 378.46484 C 359.23633 378.46484 358.5338 378.46022 358.5293 379.16406 L 358.52344 379.86719 C 358.52344 379.86719 358.51982 380.56972 359.22266 380.57422 C 359.22266 380.57422 359.98089 381.33811 360.93555 382.02539 C 360.39528 382.73926 359.8706 383.46327 359.37109 384.20508 C 358.44219 383.75601 357.58239 383.37812 357.09375 383.375 L 356.39062 383.36914 C 356.39062 383.36914 355.68809 383.36452 355.68359 384.06836 L 355.67773 384.77148 C 355.67773 384.77148 355.67311 385.47402 356.37695 385.47852 C 356.37695 385.47852 356.99541 386.08617 357.79883 386.70312 C 357.33809 387.486 356.90447 388.28428 356.48828 389.0918 C 355.5747 388.65162 354.73203 388.28237 354.25 388.2793 L 353.54688 388.27344 C 353.54688 388.27344 352.84239 388.26882 352.83789 388.97266 L 352.83398 389.67578 C 352.83398 389.67578 352.82741 390.38027 353.53125 390.38477 C 353.53125 390.38477 354.52486 390.73259 355.37305 391.4043 C 354.93088 392.38652 354.51493 393.38156 354.13867 394.39258 C 353.29963 394.17985 352.55298 393.89545 352.10352 393.89258 L 351.40039 393.88672 L 350.69141 394.58594 L 350.6875 395.28906 C 350.6875 395.28906 350.68193 395.99159 351.38477 395.99609 C 351.38477 395.99609 352.30878 396.31805 353.33008 396.73242 C 353.06122 397.58636 352.82097 398.45051 352.59961 399.32031 C 351.58105 399.10558 350.66406 398.80664 350.66406 398.80664 L 349.96094 398.80273 L 349.25391 399.5 L 349.24805 400.20312 L 349.94727 400.91211 C 349.94727 400.91211 350.96971 401.26372 352.05859 401.71289 C 351.87747 402.61512 351.7269 403.5245 351.59766 404.43945 L 349.2207 404.42383 L 348.51758 404.41992 L 347.81055 405.11719 L 347.80469 405.82031 L 348.50391 406.5293 C 348.50391 406.5293 349.98166 407.02916 351.28906 407.19727 C 351.22992 407.91542 351.18672 408.6359 351.16016 409.35938 L 348.48633 409.3418 C 348.48633 409.3418 347.78183 409.33718 347.77734 410.04102 L 347.76953 411.44727 L 348.4668 412.15625 L 351.13672 412.17188 C 351.15286 412.8924 351.18906 413.61431 351.23828 414.33789 C 349.93029 414.49004 348.44922 414.96875 348.44922 414.96875 C 348.44922 414.96875 347.74669 414.96413 347.74219 415.66797 L 347.73633 416.37109 C 347.73633 416.37109 347.73271 417.07558 348.43555 417.08008 L 351.50195 417.09766 C 351.61352 417.97868 351.74607 418.85989 351.9082 419.74219 C 351.04762 419.98611 350.28068 420.15095 349.82031 420.60547 C 349.82031 420.60547 349.11583 420.59889 349.11133 421.30273 L 349.10742 422.00781 C 349.10742 422.00781 349.1028 422.71034 349.80664 422.71484 L 350.50977 422.7207 C 350.50977 422.7207 351.48804 422.70761 352.55078 422.49609 C 352.76205 423.29056 352.99219 424.07525 353.24023 424.84961 C 352.40364 425.23161 351.64209 425.53997 351.19531 425.53711 L 350.48633 426.23633 L 350.48242 426.93945 C 350.48242 426.93945 350.47585 427.64394 351.17969 427.64844 L 351.88477 427.65234 C 351.88477 427.65234 352.92767 427.32086 354.03125 427.12109 C 354.34723 427.96173 354.68821 428.78772 355.04688 429.60156 L 353.27344 430.47461 L 352.56445 431.17383 L 352.56055 431.87695 C 352.56055 431.87695 352.55593 432.58144 353.25977 432.58594 L 353.96289 432.58984 C 353.96289 432.58984 354.99315 432.24881 356.08984 431.8125 C 356.50984 432.64756 356.95568 433.46469 357.41992 434.26758 C 356.64654 434.85427 356.05469 435.41602 356.05469 435.41602 L 355.34766 436.11523 L 355.3418 436.81836 L 356.04102 437.52734 L 356.74414 437.53125 C 356.74414 437.53125 357.81883 437.17741 358.94336 436.72656 C 359.46382 437.51299 360.00187 438.28493 360.56445 439.03516 C 359.8337 439.68191 359.32544 440.36251 358.83594 440.35938 L 358.12891 441.05859 L 358.12305 441.76172 L 358.82227 442.46875 L 359.52539 442.47461 C 359.52539 442.47461 360.66691 441.88257 361.92188 440.75977 C 362.45868 441.41135 363.00993 442.04769 363.57812 442.66797 C 362.28744 443.94361 361.62148 444.62921 361.61719 445.30078 L 361.60938 446.70703 L 362.30664 447.41602 L 363.01172 447.41992 C 363.01172 447.41992 364.42672 446.02246 365.83789 445.32812 L 367.23633 446.74219 C 366.524 448.14437 365.10742 449.54297 365.10742 449.54297 L 365.10156 450.24609 C 365.10156 450.24609 365.09694 450.94862 365.80078 450.95312 L 367.20703 450.96289 C 367.20703 450.96289 368.62398 449.56543 370.03516 448.87109 C 370.734 449.57893 371.43593 449.58319 372.13477 450.29102 C 371.42244 451.6932 370.71115 453.0963 370.00781 453.0918 L 370.00195 453.79492 C 370.00195 453.79492 369.99833 454.49745 370.70117 454.50195 L 371.4043 454.50781 C 371.4043 454.50781 372.10878 454.51143 372.11328 453.80859 C 372.11328 453.80859 373.32014 452.59255 374.06445 451.29492 C 374.79011 451.73803 375.52367 452.16589 376.27148 452.57031 C 375.58525 453.92196 374.91645 455.25713 374.91211 455.93555 L 374.9082 456.63867 C 374.9082 456.63867 374.90263 457.34316 375.60547 457.34766 L 376.31055 457.35156 C 376.31055 457.35156 377.01308 457.35814 377.01758 456.6543 C 377.01758 456.6543 378.34956 455.32793 379.07812 453.96484 C 379.23247 454.03586 379.38786 454.10442 379.54297 454.17383 C 380.11047 454.57237 380.67972 454.69976 381.24609 455.27344 C 380.53376 456.67561 380.5262 458.08241 379.81836 458.78125 L 379.8125 459.48438 C 379.8125 459.48438 379.80888 460.18886 380.51172 460.19336 L 381.21484 460.19727 C 381.21484 460.19727 381.91738 460.20189 381.92188 459.49805 C 381.92188 459.49805 382.6396 457.39356 384.05078 456.69922 C 384.75412 456.70422 385.45292 457.41152 386.15625 457.41602 C 386.14725 458.8227 385.43419 460.2244 385.42969 460.92773 L 385.42578 461.63086 L 386.125 462.33984 L 386.82812 462.34375 C 386.82812 462.34375 387.53261 462.34837 387.53711 461.64453 C 387.53711 461.64453 388.2525 459.54084 388.96484 458.13867 C 389.66817 458.14367 390.36697 458.85097 391.07031 458.85547 C 391.06131 460.26215 390.3457 462.36719 390.3457 462.36719 L 390.33984 463.07031 L 391.03906 463.77734 L 391.74219 463.7832 L 392.44922 463.08398 C 392.44922 463.08398 393.16658 460.97834 393.87891 459.57617 C 394.58225 459.58017 395.28554 459.58514 395.98438 460.29297 L 395.95703 464.51367 L 396.65625 465.2207 L 397.35938 465.22461 L 398.06836 464.52539 C 398.06836 464.52539 398.78397 462.42035 398.79297 461.01367 C 399.49631 461.01867 400.20096 461.02284 400.9043 461.02734 L 400.88086 464.54492 C 400.88086 464.54492 400.87624 465.24745 401.58008 465.25195 L 402.98633 465.26172 L 403.69531 464.5625 L 403.7168 461.04492 C 404.42014 461.04992 405.12283 461.05409 405.82617 461.05859 C 405.81717 462.46527 406.50781 464.58008 406.50781 464.58008 C 406.50781 464.58008 406.5032 465.28456 407.20703 465.28906 L 407.91016 465.29297 C 407.91016 465.29297 408.61269 465.29759 408.61719 464.59375 L 408.62109 463.89062 L 408.64453 460.375 C 409.34787 460.38 410.05193 460.38243 410.75977 459.68359 C 411.45411 461.09477 411.44374 462.5031 412.14258 463.21094 C 412.14258 463.21094 412.13796 463.91347 412.8418 463.91797 L 413.54492 463.92383 C 413.54492 463.92383 414.24941 463.92745 414.25391 463.22461 L 414.25781 462.52148 C 414.25781 462.52148 414.27246 460.41117 413.57812 459 C 414.28146 459.005 414.98807 458.30605 415.69141 458.31055 C 416.38575 459.72172 417.08067 461.1326 417.07617 461.83594 L 417.77539 462.54297 L 418.47852 462.54883 C 418.47852 462.54883 419.18105 462.55345 419.18555 461.84961 L 419.18945 461.14648 C 419.18945 461.14648 418.50077 459.03167 418.50977 457.625 C 419.21311 457.63 419.91972 456.93105 420.62305 456.93555 L 422.01172 459.75781 L 422.71094 460.46484 L 423.41406 460.4707 C 423.41406 460.4707 424.11855 460.47532 424.12305 459.77148 L 424.12695 459.06836 C 424.12695 459.06836 423.43653 456.95414 422.74219 455.54297 C 423.44552 455.54797 424.15349 454.84728 424.86133 454.14844 C 425.55567 455.55961 426.95508 456.97656 426.95508 456.97656 L 427.65234 457.68359 L 428.35547 457.68945 L 429.06445 456.99023 L 429.06836 456.28711 C 429.06836 456.28711 428.37989 454.17289 427.68555 452.76172 C 428.39339 452.06288 429.09685 452.06603 429.80469 451.36719 C 430.49903 452.77836 431.90098 453.49197 431.89648 454.19531 L 432.5957 454.90234 L 433.29883 454.9082 L 434.00586 454.20898 L 434.01172 453.50586 C 434.01172 453.50586 433.3176 452.0934 431.91992 450.67773 C 432.62776 449.97889 433.32927 449.984 434.03711 449.28516 C 435.43478 450.70083 436.13455 451.40956 436.83789 451.41406 L 438.24414 451.42188 L 438.95312 450.72266 L 438.95703 450.01953 C 438.95703 450.01953 437.55957 448.60453 436.86523 447.19336 L 438.28125 445.79492 C 439.68343 446.50726 441.08008 447.92383 441.08008 447.92383 L 441.78516 447.92773 C 441.78516 447.92773 442.48769 447.93431 442.49219 447.23047 L 442.49609 446.52734 L 442.50195 445.82227 C 442.50195 445.82227 441.1045 444.40726 440.41016 442.99609 C 441.118 442.29725 441.12224 441.59337 441.83008 440.89453 C 443.23226 441.60687 444.63536 442.3201 444.63086 443.02344 L 445.33398 443.02734 C 445.33398 443.02734 446.03652 443.03392 446.04102 442.33008 L 446.04688 441.62695 C 446.04688 441.62695 446.0515 440.92246 445.34766 440.91797 C 445.34766 440.91797 443.94904 439.50335 442.54688 438.79102 C 443.2547 438.09218 443.25896 437.38829 443.9668 436.68945 C 445.36898 437.40179 446.77127 438.11464 447.47461 438.11914 L 448.17969 438.12305 C 448.17969 438.12305 448.88222 438.12767 448.88672 437.42383 L 448.89062 436.7207 C 448.89062 436.7207 448.8962 436.01816 448.19336 436.01367 C 448.19336 436.01367 446.79476 434.5971 445.39258 433.88477 C 446.10042 433.18593 446.10467 432.484 446.8125 431.78516 C 448.21468 432.4975 449.62147 432.50505 450.32031 433.21289 L 451.02344 433.21875 C 451.02344 433.21875 451.72792 433.22337 451.73242 432.51953 L 451.73633 431.81641 C 451.73633 431.81641 451.74095 431.11386 451.03711 431.10938 C 451.03711 431.10938 448.93067 430.39164 448.23633 428.98047 C 448.24133 428.27713 448.94863 427.57834 448.95312 426.875 C 450.3598 426.884 452.4668 427.60156 452.4668 427.60156 L 453.16992 427.60547 L 453.87695 426.90625 L 453.88281 426.20312 C 453.88281 426.20312 453.88743 425.50059 453.18359 425.49609 C 453.18359 425.49609 451.07795 424.77874 449.67578 424.06641 C 449.67978 423.36307 450.38808 422.66428 450.39258 421.96094 C 451.79926 421.96994 453.9043 422.6875 453.9043 422.6875 L 454.60742 422.69141 L 455.31641 421.99219 L 455.32031 421.28906 L 454.62109 420.58008 C 454.62109 420.58008 452.51546 419.86468 451.11328 419.15234 C 451.11828 418.449 451.12224 417.74572 451.83008 417.04688 L 456.05078 417.07227 L 456.75781 416.375 L 456.76367 415.67188 L 456.06445 414.96289 C 456.06445 414.96289 453.95941 414.24728 452.55273 414.23828 C 452.55773 413.53494 452.56191 412.83029 452.56641 412.12695 L 456.08203 412.15039 C 456.08203 412.15039 456.78652 412.15501 456.79102 411.45117 L 456.79492 410.74805 L 456.79883 410.04492 L 456.09961 409.33594 L 452.58398 409.31445 C 452.58798 408.61111 452.59316 407.90646 452.59766 407.20312 C 454.00434 407.21213 456.11914 406.52344 456.11914 406.52344 C 456.11914 406.52344 456.82167 406.52806 456.82617 405.82422 L 456.83203 405.12109 C 456.83203 405.12109 456.83665 404.41856 456.13281 404.41406 L 455.42969 404.4082 L 451.91211 404.38672 C 451.91711 403.68338 451.9215 402.97931 451.22266 402.27148 C 452.63383 401.57714 454.74805 400.88867 454.74805 400.88867 L 454.75 400.89062 C 455.45783 400.19178 455.46289 399.48828 455.46289 399.48828 C 455.46289 399.48828 455.46751 398.78575 454.76367 398.78125 L 454.06055 398.77539 C 454.06055 398.77539 451.95023 398.76268 450.53906 399.45703 C 450.54406 398.75369 449.84511 398.04514 449.84961 397.3418 C 451.26078 396.64746 452.67167 395.95448 453.375 395.95898 L 454.08398 395.25977 L 454.08789 394.55664 C 454.08789 394.55664 454.09251 393.85216 453.38867 393.84766 L 452.68555 393.84375 C 452.68555 393.84375 450.57074 394.53244 449.16406 394.52344 C 449.16906 393.8201 448.47011 393.1135 448.47461 392.41016 L 451.29688 391.02148 L 452.00586 390.32227 L 452.00977 389.61914 C 452.00977 389.61914 452.01439 388.91465 451.31055 388.91016 L 450.60742 388.90625 C 450.60742 388.90625 448.49321 389.59472 447.08203 390.28906 C 447.08703 389.58572 446.38828 388.87775 445.68945 388.16992 C 447.10062 387.47558 448.51562 386.07812 448.51562 386.07812 L 449.22461 385.38086 L 449.22852 384.67578 L 448.5293 383.96875 L 447.82617 383.96289 C 447.82617 383.96289 445.71195 384.65332 444.30078 385.34766 C 443.60194 384.63982 443.60704 383.93636 442.9082 383.22852 C 444.31937 382.53418 445.03104 381.13222 445.73438 381.13672 L 446.44336 380.4375 L 446.44727 379.73438 L 445.74805 379.02734 L 445.04492 379.02148 C 445.04492 379.02148 443.63442 379.7156 442.21875 381.11328 C 441.51991 380.40544 441.52501 379.70198 440.82617 378.99414 C 441.5385 377.59196 442.94863 376.89865 442.95312 376.19531 L 442.95898 375.49219 L 442.96289 374.78906 L 442.26367 374.08008 L 441.56055 374.07617 C 441.56055 374.07617 440.14554 375.47363 438.73438 376.16797 L 437.33594 374.75195 C 438.04828 373.34977 439.46289 371.95117 439.46289 371.95117 L 439.46875 371.24805 C 439.46875 371.24805 439.47337 370.54551 438.76953 370.54102 L 438.06641 370.53516 L 437.36328 370.53125 C 437.36328 370.53125 435.94828 371.92871 434.53711 372.62305 C 433.83827 371.91521 433.13439 371.91097 432.43555 371.20312 C 433.14789 369.80096 433.85916 368.39784 434.5625 368.40234 L 434.56836 367.69922 C 434.56836 367.69922 434.57298 366.99669 433.86914 366.99219 L 433.16602 366.98633 C 433.16602 366.98633 432.46348 366.98271 432.45898 367.68555 C 432.45898 367.68555 431.04242 369.08415 430.33008 370.48633 C 429.63125 369.77849 428.92736 369.77228 428.22852 369.06445 C 428.94085 367.66227 429.6537 366.25998 429.6582 365.55664 L 429.66211 364.85352 C 429.66211 364.85352 429.66673 364.15098 428.96289 364.14648 L 428.25977 364.14062 C 428.25977 364.14062 427.55723 364.137 427.55273 364.83984 C 427.55273 364.83984 426.13617 366.23846 425.42383 367.64062 C 424.725 366.9328 424.02306 366.92854 423.32422 366.2207 C 424.03655 364.81852 424.04411 363.41173 424.75195 362.71289 L 424.75586 362.00977 C 424.75586 362.00977 424.76243 361.30528 424.05859 361.30078 L 423.35352 361.29688 C 423.35352 361.29688 422.65098 361.2913 422.64648 361.99414 C 422.64648 361.99414 421.93071 364.10058 420.51953 364.79492 C 419.8162 364.78992 419.1174 364.08263 418.41406 364.07812 C 418.42306 362.67146 419.13867 360.56641 419.13867 360.56641 L 419.14453 359.86328 L 418.44531 359.1543 L 417.74219 359.15039 C 417.74219 359.15039 417.0377 359.14382 417.0332 359.84766 C 417.0332 359.84766 416.3178 361.95329 415.60547 363.35547 C 414.90213 363.35047 414.20334 362.64317 413.5 362.63867 C 413.509 361.232 414.22461 359.12695 414.22461 359.12695 L 414.22852 358.42383 L 413.5293 357.7168 L 412.82617 357.71094 L 412.11914 358.41016 C 412.11914 358.41016 411.40178 360.51579 410.68945 361.91797 C 409.98611 361.91297 409.28282 361.909 408.58398 361.20117 L 408.60742 357.68359 L 408.61133 356.98047 L 407.91211 356.27344 L 407.20898 356.26758 L 406.50195 356.9668 C 406.50195 356.9668 405.78439 359.07185 405.77539 360.47852 C 405.07205 360.47352 404.36935 360.46934 403.66602 360.46484 L 403.68945 356.94922 C 403.68945 356.94922 403.69407 356.24473 402.99023 356.24023 L 402.28711 356.23633 L 401.58203 356.23047 L 400.875 356.92969 L 400.85352 360.44531 C 400.15019 360.44031 399.44553 360.43809 398.74219 360.43359 C 398.75119 359.02692 398.0625 356.91211 398.0625 356.91211 C 398.0625 356.91211 398.06712 356.20761 397.36328 356.20312 L 396.66016 356.19922 z M 398.23047 391.68555 C 407.22175 391.68536 415.03097 397.73537 417.43359 406.98242 C 420.17946 417.55049 413.07919 428.05513 402.51562 430.09766 C 391.95206 432.14019 382.14431 425.74776 379.39844 415.17969 C 377.35591 404.61613 383.75029 394.81031 394.31836 392.06445 C 395.6388 391.80914 396.946 391.68557 398.23047 391.68555 z M 397.92578 394.02344 C 390.03812 394.37687 382.92444 400.25523 382.25391 408.86719 C 380.78874 418.00158 387.06011 427.1868 396.90234 427.95312 C 405.3334 429.4138 414.52116 422.43712 415.98633 413.30273 C 417.45149 404.16833 411.18012 394.98508 401.33789 394.21875 C 400.19609 394.03561 399.05259 393.97295 397.92578 394.02344 z M 398.51367 395.7832 C 399.39284 395.78883 400.27146 395.9697 401.32422 396.32812 C 408.34861 397.77978 413.23054 404.1424 413.18555 411.17578 L 405.45898 409.71875 C 404.77364 406.9009 402.67604 404.77797 399.86719 404.05664 C 399.16385 404.05164 398.46094 404.04688 398.46094 404.04688 L 395.69727 396.29297 C 396.75452 395.94805 397.6345 395.77758 398.51367 395.7832 z M 391.46289 398.37695 L 394.22852 406.13086 C 392.81734 406.8252 392.09906 408.92985 391.38672 410.33203 C 391.37772 411.73871 391.36404 413.84995 392.76172 415.26562 L 387.79883 421.56445 C 385.71131 418.03427 383.63295 413.09639 384.36328 408.88086 C 385.09811 403.962 387.93271 400.46447 391.46289 398.37695 z M 399.14258 407.56836 C 401.24809 408.28519 401.94259 409.69685 401.93359 411.10352 C 401.92459 412.5102 399.80511 413.90353 398.39844 413.89453 C 396.99176 413.88553 395.59842 411.76605 395.60742 410.35938 C 395.61642 408.95271 397.7359 407.55936 399.14258 407.56836 z M 404.73242 413.23242 L 412.46094 414.6875 C 411.00927 421.71188 403.9488 425.887 396.91992 425.13867 C 394.8099 425.12517 393.40766 424.41237 391.30664 422.99219 L 396.26953 416.69336 C 396.97286 416.69836 396.96855 417.40175 397.67188 417.40625 C 400.48073 418.12758 403.30775 416.03678 404.73242 413.23242 z M 526.60156 494.19336 C 525.89822 494.18836 525.89317 494.89236 525.88867 495.5957 L 525.86133 499.81641 C 525.15799 499.81241 524.45139 500.51036 523.74805 500.50586 L 523.75195 499.80273 C 523.75695 499.09939 523.05409 499.09396 523.05859 498.39062 L 521.66016 496.97656 C 521.66516 496.27322 520.96174 496.26796 520.25391 496.9668 C 519.55057 496.9618 519.54552 497.6658 519.54102 498.36914 C 519.53602 499.07247 520.23633 499.7793 520.23633 499.7793 C 520.23133 500.48264 520.93419 500.48807 520.92969 501.19141 L 520.92578 501.89453 C 520.21795 502.59337 519.51427 502.58963 519.50977 503.29297 L 518.80664 503.28711 C 518.1033 503.28211 518.10764 502.57872 517.4043 502.57422 C 516.70097 502.56922 516.70528 501.86778 516.00195 501.86328 C 515.29861 501.85828 514.5957 501.85352 514.5957 501.85352 C 513.88786 502.55236 514.58789 503.25977 514.58789 503.25977 L 518.08203 506.79883 C 517.37419 507.49767 517.368 508.20155 516.66016 508.90039 L 515.95703 508.89648 C 515.25369 508.89148 514.55019 508.88692 514.55469 508.18359 C 513.85135 508.17859 513.14806 508.17464 512.44922 507.4668 C 511.74589 507.4618 511.04356 507.45682 511.03906 508.16016 C 511.03406 508.8635 511.02908 509.56777 511.73242 509.57227 C 512.43576 509.57627 513.13477 510.28516 513.13477 510.28516 C 513.8381 510.29016 514.53711 510.99609 514.53711 510.99609 L 515.24023 511.00195 C 515.23523 511.70528 515.23106 512.40799 515.22656 513.11133 L 514.52344 513.10742 C 513.8201 513.10242 513.11719 513.09766 513.11719 513.09766 C 512.41385 513.09266 511.71114 513.08848 511.00781 513.08398 C 510.30447 513.07898 510.29942 513.783 510.29492 514.48633 C 510.28992 515.18967 510.99023 515.89648 510.99023 515.89648 L 515.20898 515.92383 L 515.19141 518.73828 L 514.48828 518.73438 C 513.78495 518.72938 513.77951 519.43222 513.07617 519.42773 C 512.37283 519.42273 511.66602 520.12305 511.66602 520.12305 C 510.96269 520.11805 510.95762 520.82205 510.95312 521.52539 C 510.94813 522.22873 511.65213 522.23183 512.35547 522.23633 C 513.0588 522.24133 513.76736 521.54237 514.4707 521.54688 C 515.17404 521.55187 515.87636 521.55686 515.88086 520.85352 L 516.58398 520.85742 C 517.28282 521.56525 517.27968 522.26872 517.97852 522.97656 L 517.26953 523.67578 C 517.26453 524.37912 517.26056 525.08241 516.55273 525.78125 L 515.13672 527.17969 C 514.42889 527.87853 514.42558 528.58144 515.12891 528.58594 C 515.82775 529.29377 515.82733 529.29258 516.53516 528.59375 L 517.95117 527.19727 C 518.6545 527.20227 518.65799 526.49745 519.36133 526.50195 L 520.06445 526.50781 C 520.76329 527.21564 521.46718 527.21989 522.16602 527.92773 L 522.16211 528.63086 C 522.15711 529.33419 521.45372 529.32987 521.44922 530.0332 C 521.44422 530.73654 520.73633 531.43555 520.73633 531.43555 C 520.73233 532.13889 520.7283 532.8412 521.43164 532.8457 C 522.13498 532.8497 522.83789 532.85547 522.83789 532.85547 C 523.54573 532.15663 523.55078 531.45313 523.55078 531.45312 C 523.55578 530.74978 524.25722 530.75412 524.26172 530.05078 L 524.26758 529.34766 C 524.97092 529.35266 525.66971 530.05995 526.37305 530.06445 L 526.3457 534.28516 C 526.3407 534.9885 527.04102 535.69531 527.04102 535.69531 C 527.74436 535.70031 528.44667 535.70529 528.45117 535.00195 C 528.45617 534.29861 528.46014 533.59532 529.16797 532.89648 C 529.17297 532.19315 529.17752 531.48964 529.88086 531.49414 L 529.88477 530.79102 C 530.58811 530.79602 531.29275 530.80019 531.99609 530.80469 L 531.99023 531.50781 C 531.98523 532.21115 531.98221 532.91347 532.68555 532.91797 C 532.68055 533.62131 533.3795 534.32986 533.375 535.0332 C 533.37 535.73654 534.074 535.74159 534.77734 535.74609 C 535.48068 535.75109 535.48378 535.04709 535.48828 534.34375 C 535.49328 533.64041 535.49745 532.93576 535.50195 532.23242 C 535.50695 531.52908 535.51172 530.82617 535.51172 530.82617 L 535.51758 530.12305 C 536.22092 530.12805 536.92753 529.42909 537.63086 529.43359 L 537.62695 530.13672 C 537.62295 530.84006 538.32481 530.84354 538.32031 531.54688 L 539.71875 532.96289 C 539.71375 533.66623 540.41716 533.6715 541.125 532.97266 C 541.82834 532.97766 541.8334 532.27365 541.83789 531.57031 C 541.84289 530.86697 541.14258 530.1582 541.14258 530.1582 C 541.14758 529.45486 540.44473 529.45139 540.44922 528.74805 L 540.45312 528.04492 C 541.16096 527.34608 541.86464 527.34982 541.86914 526.64648 L 542.57227 526.65234 C 543.2756 526.65734 543.27127 527.36073 543.97461 527.36523 C 544.67795 527.37023 544.67361 528.07167 545.37695 528.07617 C 546.08029 528.08017 546.7832 528.08594 546.7832 528.08594 C 547.49103 527.3871 546.79297 526.67969 546.79297 526.67969 L 545.39453 525.26367 L 543.99805 523.84766 L 543.29883 523.14062 C 544.00667 522.44178 544.01091 521.7379 544.71875 521.03906 L 545.42188 521.04297 C 546.12521 521.04697 546.82872 521.05253 546.82422 521.75586 C 547.52755 521.76086 548.23085 521.76482 548.92969 522.47266 C 549.63303 522.47766 550.33534 522.48264 550.33984 521.7793 C 550.34484 521.07596 550.34982 520.37169 549.64648 520.36719 C 548.94314 520.36219 548.24414 519.6543 548.24414 519.6543 C 547.5408 519.6493 546.8418 518.94336 546.8418 518.94336 L 546.13867 518.9375 C 546.14367 518.23416 546.14784 517.53146 546.15234 516.82812 L 550.37305 516.85547 C 551.07639 516.86047 551.07948 516.15647 551.08398 515.45312 C 551.09748 513.34312 551.09788 513.34239 550.39453 513.33789 L 550.39258 513.33789 C 549.68925 513.33289 548.98654 513.32872 548.2832 513.32422 C 547.57986 513.31922 546.87695 513.31641 546.87695 513.31641 L 546.17188 513.31055 C 546.17687 512.60721 546.17764 512.60764 546.18164 511.9043 C 546.18664 511.20096 546.18741 511.20139 546.19141 510.49805 L 546.89453 510.50195 C 547.59787 510.50695 547.60135 509.80409 548.30469 509.80859 C 549.00802 509.81359 549.7168 509.11328 549.7168 509.11328 C 550.42014 509.11828 550.42323 508.41427 550.42773 507.71094 C 550.43273 507.0076 549.73068 507.00255 549.02734 506.99805 C 548.324 506.99305 547.61544 507.69395 546.91211 507.68945 C 546.20877 507.68445 545.5045 507.67947 545.5 508.38281 L 544.79688 508.37891 C 544.09804 507.67108 544.10314 506.96761 543.4043 506.25977 L 544.11133 505.56055 L 545.52734 504.16211 L 546.94336 502.76562 C 547.6512 502.06678 547.65646 501.36192 546.95312 501.35742 C 546.25429 500.64958 546.25276 500.65077 545.54492 501.34961 L 544.13086 502.74609 C 543.42302 503.44493 543.42209 503.44591 542.71875 503.44141 L 542.01562 503.43555 C 541.3168 502.72771 540.6129 502.72345 539.91406 502.01562 L 539.91992 501.3125 C 539.92492 500.60916 540.62831 500.6135 540.63281 499.91016 C 540.63781 499.20682 541.34375 498.50781 541.34375 498.50781 C 541.34875 497.80447 541.35373 497.10216 540.65039 497.09766 C 539.94705 497.09266 539.24414 497.08789 539.24414 497.08789 L 537.82812 498.48633 C 537.82313 499.18967 537.11973 499.18533 537.11523 499.88867 L 537.10938 500.5918 C 536.40605 500.5868 535.70725 499.8795 535.00391 499.875 L 535.00977 499.17188 C 535.01477 498.46853 535.01953 497.76367 535.01953 497.76367 C 535.02453 497.06033 535.0287 496.35764 535.0332 495.6543 C 535.0382 494.95096 534.33789 494.24414 534.33789 494.24414 C 533.63456 494.23914 532.93028 494.23416 532.92578 494.9375 C 532.92078 495.64084 532.91682 496.34413 532.20898 497.04297 C 532.20398 497.74631 532.20138 498.44981 531.49805 498.44531 L 531.49219 499.14844 C 530.78885 499.14344 530.08615 499.13927 529.38281 499.13477 L 529.38672 498.43164 C 529.39172 497.7283 529.3967 497.02598 528.69336 497.02148 C 528.69836 496.31814 527.99941 495.60959 528.00391 494.90625 C 528.00891 494.20292 527.30489 494.19786 526.60156 494.19336 z M 557.00195 502.52148 C 556.66003 502.49869 556.52895 502.56268 556.79102 502.82812 C 565.1321 518.35555 557.97577 537.30064 537.54297 542.79688 C 536.1363 542.78787 538.94157 544.21345 540.34375 544.92578 C 568.3243 569.01924 586.65162 562.80516 616.74219 586.91211 C 646.83726 610.31572 656.49414 639.91992 656.49414 639.91992 C 653.11692 618.09395 635.06114 582.107 608.50977 554.50586 C 586.14692 531.85508 566.48828 526.10156 566.48828 526.10156 C 581.29887 519.866 600.23438 528.42773 600.23438 528.42773 C 600.23438 528.42773 589.80206 510.07253 559.60352 502.8457 C 558.72435 502.84008 557.57182 502.55947 557.00195 502.52148 z M 530.01367 510.39453 C 532.12368 510.40803 534.22444 511.82749 534.21094 513.9375 C 534.90078 516.05201 533.4811 518.15413 531.37109 518.14062 C 529.25657 518.83047 527.15643 517.40884 527.16992 515.29883 C 526.48008 513.18431 527.89916 511.08437 530.01367 510.39453 z ";
a.connect.width=1007.48;a.connect.height=639.918;a.show={};a.show.path="m 60.619,56.797 60.6191,-47.69339 -11.502,-9.10408 -49.1171,38.66427 -49.0796,-38.66427 -11.53937,9.10408 60.61897,47.69339 z m 0,42.5606 60.6191,-47.6933 -11.502,-9.0667 -49.1171,38.6268 -49.0796,-38.6268 -11.53937,9.0667 60.61897,47.6933 z";a.show.width=121.238;a.show.height=99.358;a.hide={};a.hide.path="m 60.619,42.561 60.6191,47.69339 -11.502,9.10408 -49.1171,-38.66427 -49.0796,38.66427 -11.53937,-9.10408 60.61897,-47.69339 z m 0,-42.5606 60.6191,47.6933 -11.502,9.0667 -49.1171,-38.6268 -49.0796,38.6268 -11.53937,-9.0667 60.61897,-47.6933 z";
a.hide.width=121.238;a.hide.height=99.358;a.share={};a.share.width=24;a.share.height=24;a.share.path="M 18 2 C 16.34 2 15 3.34 15 5 C 15 5.24 15.039844 5.4692187 15.089844 5.6992188 L 8.0390625 9.8105469 C 7.4990625 9.3105469 6.79 9 6 9 C 4.34 9 3 10.34 3 12 C 3 13.66 4.34 15 6 15 C 6.79 15 7.4990625 14.689453 8.0390625 14.189453 L 15.160156 18.349609 C 15.110156 18.559609 15.080078 18.78 15.080078 19 C 15.080078 20.61 16.39 21.919922 18 21.919922 C 19.61 21.919922 20.919922 20.61 20.919922 19 C 20.919922 17.39 19.61 16.080078 18 16.080078 C 17.24 16.080078 16.559063 16.379609 16.039062 16.849609 L 8.9101562 12.699219 C 8.9601563 12.469219 9 12.24 9 12 C 9 11.76 8.9601563 11.530781 8.9101562 11.300781 L 15.960938 7.1894531 C 16.500937 7.6894531 17.21 8 18 8 C 19.66 8 21 6.66 21 5 C 21 3.34 19.66 2 18 2 z";
a.copy={};a.copy.width=24;a.copy.height=24;a.copy.path="M 4 1 C 2.9 1 2 1.9 2 3 L 2 17 L 4 17 L 4 3 L 16 3 L 16 1 L 4 1 z M 8 5 C 6.9 5 6 5.9 6 7 L 6 21 C 6 22.1 6.9 23 8 23 L 19 23 C 20.1 23 21 22.1 21 21 L 21 7 C 21 5.9 20.1 5 19 5 L 8 5 z M 8 7 L 19 7 L 19 21 L 8 21 L 8 7 z";a.dots={};a.dots.width=24;a.dots.height=24;a.dots.path="M 12 4 C 10.9 4 10 4.9 10 6 C 10 7.1 10.9 8 12 8 C 13.1 8 14 7.1 14 6 C 14 4.9 13.1 4 12 4 z M 12 10 C 10.9 10 10 10.9 10 12 C 10 13.1 10.9 14 12 14 C 13.1 14 14 13.1 14 12 C 14 10.9 13.1 10 12 10 z M 12 16 C 10.9 16 10 16.9 10 18 C 10 19.1 10.9 20 12 20 C 13.1 20 14 19.1 14 18 C 14 16.9 13.1 16 12 16 z ";
a.volumeUp={};a.volumeUp.width=24;a.volumeUp.height=24;a.volumeUp.path="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z";a.volumeMute={};a.volumeMute.width=9;a.volumeMute.height=16;a.volumeMute.path="m 0,5 0,6 4,0 5,5 0,-16 -5,5 -4,0 z";a.zoomIn={};a.zoomIn.width=17.49;a.zoomIn.height=17.49;a.zoomIn.path="m 6.5,0 c -3.59,0 -6.5,2.91 -6.5,6.5 0,3.59 2.91,6.5 6.5,6.5 1.61,0 3.090469,-0.590313 4.230469,-1.570312 l 0.269531,0.28125 0,0.789062 5,4.990234 1.490234,-1.490234 -4.990234,-5 -0.789062,0 -0.28125,-0.269531 c 0.979999,-1.14 1.570312,-2.620469 1.570312,-4.230469 0,-3.59 -2.91,-6.5 -6.5,-6.5 z m 0,2 c 2.49,0 4.5,2.01 4.5,4.5 0,2.49 -2.01,4.5 -4.5,4.5 -2.49,0 -4.5,-2.01 -4.5,-4.5 0,-2.49 2.01,-4.5 4.5,-4.5 z m -0.5,2 0,2 -2,0 0,1 2,0 0,2 1,0 0,-2 2,0 0,-1 -2,0 0,-2 -1,0 z";
a.zoomOut={};a.zoomOut.width=24;a.zoomOut.height=24;a.zoomOut.path="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z";a.resetZoom={};a.resetZoom.width=17.49;a.resetZoom.height=17.49;a.resetZoom.path="m 6.5,0 c -3.59,0 -6.5,2.91 -6.5,6.5 0,3.59 2.91,6.5 6.5,6.5 1.61,0 3.090469,-0.590314 4.230469,-1.570312 l 0.269531,0.28125 0,0.789062 5,4.990234 1.490234,-1.490234 -4.990234,-5 -0.789062,0 -0.28125,-0.269531 c 0.979998,-1.14 1.570312,-2.620469 1.570312,-4.230469 0,-3.59 -2.91,-6.5 -6.5,-6.5 z m 0,2 c 2.49,0 4.5,2.01 4.5,4.5 0,2.49 -2.01,4.5 -4.5,4.5 -2.49,0 -4.5,-2.01 -4.5,-4.5 0,-2.49 2.01,-4.5 4.5,-4.5 z m 0,1.7792969 c -0.5877027,0 -1.0381972,0.2332712 -1.3496094,0.6992187 -0.3090707,0.4636061 -0.4628906,1.1383715 -0.4628906,2.0234375 0,0.8827249 0.1538199,1.5574899 0.4628906,2.0234379 0.3114122,0.463606 0.7619067,0.695312 1.3496094,0.695312 0.587703,0 1.036632,-0.231706 1.345703,-0.695312 0.311412,-0.465948 0.466797,-1.140713 0.466797,-2.0234379 0,-0.885066 -0.155385,-1.5598314 -0.466797,-2.0234375 -0.309071,-0.4659475 -0.758,-0.6992187 -1.345703,-0.6992187 z m 0,0.5625 c 0.3676067,0 0.643539,0.1804331 0.826172,0.5410156 0.184974,0.3582411 0.277344,0.8979757 0.277344,1.6191406 0,0.7188239 -0.09237,1.2585579 -0.277344,1.6191409 -0.182633,0.358241 -0.4585653,0.537109 -0.826172,0.537109 -0.3652654,0 -0.6411977,-0.178868 -0.8261719,-0.537109 -0.1826326,-0.360583 -0.2734375,-0.900317 -0.2734375,-1.6191409 0,-0.7211649 0.090805,-1.2608995 0.2734375,-1.6191406 0.1849742,-0.3605825 0.4609065,-0.5410156 0.8261719,-0.5410156 z";
a.settings={};a.settings.width=24;a.settings.height=24;a.settings.path="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z";
a.cloud={};a.cloud.width=24;a.cloud.height=16;a.cloud.path="m 19.35,6.04 c -0.68,-3.45 -3.71,-6.04 -7.35,-6.04 -2.89,0 -5.4,1.64 -6.65,4.04 -3.01,0.32 -5.35,2.87 -5.35,5.96 0,3.31 2.69,6 6,6 l 13,0 c 2.76,0 5,-2.24 5,-5 0,-2.64 -2.05,-4.78 -4.65,-4.96 z";a.cloudDownload={};a.cloudDownload.width=24;a.cloudDownload.height=16;a.cloudDownload.path="m 19.35,6.04 c -0.68,-3.45 -3.71,-6.04 -7.35,-6.04 -2.89,0 -5.4,1.64 -6.65,4.04 -3.01,0.32 -5.35,2.87 -5.35,5.96 0,3.31 2.69,6 6,6 l 13,0 c 2.76,0 5,-2.24 5,-5 0,-2.64 -2.05,-4.78 -4.65,-4.96 z m -2.35,2.96 -5,5 -5,-5 3,0 0,-4 4,0 0,4 3,0 z";
a.letterX={};a.letterX.width=4.43;a.letterX.height=4.43;a.letterX.path="m 0,0.69785501 0.69785501,-0.69785501 1.51201679,1.522593 1.5225833,-1.522593 0.6978509,0.69785501 -1.5225889,1.51201679 1.5225889,1.5225833 -0.6978509,0.6978509 -1.5225833,-1.5225889 -1.51201679,1.5225889 -0.69785501,-0.6978509 1.522593,-1.5225833 z";a.cloudUpload={};a.cloudUpload.width=24;a.cloudUpload.height=16;a.cloudUpload.path="m 19.35,6.04 c -0.68,-3.45 -3.71,-6.04 -7.35,-6.04 -2.89,0 -5.4,1.64 -6.65,4.04 -3.01,0.32 -5.35,2.87 -5.35,5.96 0,3.31 2.69,6 6,6 l 13,0 c 2.76,0 5,-2.24 5,-5 0,-2.64 -2.05,-4.78 -4.65,-4.96 z m -5.35,2.96 0,4 -4,0 0,-4 -3,0 5,-5 5,5 -3,0 z";
a.warning={};a.warning.width=22;a.warning.height=19;a.warning.path="m 0,19 22,0 -11,-19 -11,19 z m 12,-3 -2,0 0,-2 2,0 0,2 z m 0,-4 -2,0 0,-4 2,0 0,4 z";a.info={};a.info.width=20;a.info.height=20;a.info.path="m 10,0 c -5.52,0 -10,4.48 -10,10 0,5.52 4.48,10 10,10 5.52,0 10,-4.48 10,-10 0,-5.52 -4.48,-10 -10,-10 z m 1,15 -2,0 0,-6 2,0 0,6 z m 0,-8 -2,0 0,-2 2,0 0,2 z";a.undoDelete={};a.undoDelete.width=87.924;a.undoDelete.height=113.045;a.undoDelete.path="m 28.262,0 -6.28125,6.2793 -21.98047,0 0,12.56054 87.92383,0 0,-12.56054 -21.98047,0 -6.28125,-6.2793 -31.40039,0 z m -21.98242,25.12109 0,75.36329 c 0,6.90831 5.65224,12.56054 12.56055,12.56054 l 50.24218,0 c 6.90832,0 12.56055,-5.65223 12.56055,-12.56054 l 0,-75.36329 -75.36328,0 z m 35.52344,12.25586 0,13.23243 c 32.63892,-0.75632 39.13249,32.15793 17.60156,42.08984 8.4063,-6.82329 9.65417,-28.23254 -17.60156,-27.66406 l 0,13.51953 -25.80078,-21.14063 25.80078,-20.03711 z";
a.categoryIcons={motion_1:a.faArrowsAlt,color_1:a.faLightbulb,sound_1:a.faMusic,motion_2:a.faArrowsAlt,color_2:a.faLightbulb,sound_2:a.faMusic,motion_3:a.faArrowsAlt,color_3:a.faLightbulb,sound_3:a.faMusic,control_3:a.faHandPointRight,sensor_3:a.bsBroadcast,portblocks:a.faCheck,oldblocks:a.undo,microbitblocks:a.microbit}}function ImageLists(){const a=ImageLists;a.hBIcon={};a.hBIcon.lightName="hBIconWhite";a.hBIcon.darkName="hBIconDarkGray";a.hBIcon.width=526;a.hBIcon.height=334}
function BlockGraphics(){BlockGraphics.SetBlock();BlockGraphics.SetCommand();BlockGraphics.SetReporter();BlockGraphics.SetPredicate();BlockGraphics.SetString();BlockGraphics.SetHat();BlockGraphics.SetLoop();BlockGraphics.SetLabelText();BlockGraphics.SetValueText();BlockGraphics.SetDropSlot();BlockGraphics.SetHighlight();BlockGraphics.SetHitBox();BlockGraphics.SetGlow();BlockGraphics.CalcCommand();BlockGraphics.CalcPaths()}
BlockGraphics.SetBlock=function(){BlockGraphics.block={};BlockGraphics.block.pMargin=7};
BlockGraphics.SetCommand=function(){BlockGraphics.command={};FinchBlox?(BlockGraphics.command.height=60,BlockGraphics.command.width=50,BlockGraphics.command.cornerRadius=8,BlockGraphics.command.vMargin=10,BlockGraphics.command.hMargin=10):(BlockGraphics.command.height=34,BlockGraphics.command.width=40,BlockGraphics.command.cornerRadius=3,BlockGraphics.command.vMargin=5,BlockGraphics.command.hMargin=7);BlockGraphics.command.bumpOffset=7;BlockGraphics.command.bumpDepth=4;BlockGraphics.command.bumpTopWidth=
15;BlockGraphics.command.bumpBottomWidth=7;BlockGraphics.command.snap={};FinchBlox?(BlockGraphics.command.snap.left=40,BlockGraphics.command.snap.right=40,BlockGraphics.command.snap.top=40,BlockGraphics.command.snap.bottom=40):(BlockGraphics.command.snap.left=20,BlockGraphics.command.snap.right=20,BlockGraphics.command.snap.top=20,BlockGraphics.command.snap.bottom=20);BlockGraphics.command.shiftX=20;BlockGraphics.command.shiftY=20};
BlockGraphics.SetReporter=function(){BlockGraphics.reporter={};BlockGraphics.reporter.height=30;BlockGraphics.reporter.width=30;BlockGraphics.reporter.vMargin=6;BlockGraphics.reporter.hMargin=10;BlockGraphics.reporter.slotHeight=22;BlockGraphics.reporter.slotWidth=22;BlockGraphics.reporter.slotHMargin=10;BlockGraphics.reporter.strokeW=1;BlockGraphics.reporter.slotFill=Colors.white;BlockGraphics.reporter.slotSelectedFill=Colors.lightGray};
BlockGraphics.SetPredicate=function(){BlockGraphics.predicate={};BlockGraphics.predicate.height=30;BlockGraphics.predicate.width=27;BlockGraphics.predicate.vMargin=6;BlockGraphics.predicate.hMargin=10;BlockGraphics.predicate.hexEndL=10;BlockGraphics.predicate.slotHeight=18;BlockGraphics.predicate.slotWidth=25;BlockGraphics.predicate.slotHMargin=5;BlockGraphics.predicate.slotHexEndL=7};
BlockGraphics.SetString=function(){BlockGraphics.string={};BlockGraphics.string.slotHeight=22;BlockGraphics.string.slotWidth=22;BlockGraphics.string.slotHMargin=4};BlockGraphics.SetHat=function(){BlockGraphics.hat={};BlockGraphics.hat.r=24;BlockGraphics.hat.hRadius=60;BlockGraphics.hat.vRadius=40;BlockGraphics.hat.topW=80;BlockGraphics.hat.width=FinchBlox?55:90;BlockGraphics.hat.hatHEstimate=10};
BlockGraphics.SetLoop=function(){BlockGraphics.loop={};BlockGraphics.loop.width=40;BlockGraphics.loop.bottomH=7;BlockGraphics.loop.side=7;BlockGraphics.loop.armW=5+2*BlockGraphics.command.cornerRadius;BlockGraphics.loop.loopH=10};BlockGraphics.SetLabelText=function(){BlockGraphics.labelText={};BlockGraphics.labelText.font=Font.uiFont(12).bold();Hatchling&&(BlockGraphics.labelText.font=Font.uiFont(30).bold());BlockGraphics.labelText.fill=Colors.white;BlockGraphics.labelText.disabledFill=Colors.labelTextDisabled};
BlockGraphics.SetValueText=function(){BlockGraphics.valueText={};BlockGraphics.valueText.font=Font.uiFont(12);BlockGraphics.valueText.fill=Colors.black;BlockGraphics.valueText.selectedFill=Colors.white;BlockGraphics.valueText.grayedFill=Colors.valueTextGrayed};
BlockGraphics.SetDropSlot=function(){BlockGraphics.dropSlot={};BlockGraphics.dropSlot.slotHeight=22;BlockGraphics.dropSlot.slotWidth=25;BlockGraphics.dropSlot.slotHMargin=5;BlockGraphics.dropSlot.triH=6;BlockGraphics.dropSlot.triW=8;BlockGraphics.dropSlot.bg=Colors.lightGray;BlockGraphics.dropSlot.bgOpacity=.25;BlockGraphics.dropSlot.selectedBg=Colors.white;BlockGraphics.dropSlot.selectedBgOpacity=1;BlockGraphics.dropSlot.triColor=Colors.white;BlockGraphics.dropSlot.textFill=Colors.white;BlockGraphics.dropSlot.selectedTriColor=
Colors.white};BlockGraphics.SetHighlight=function(){BlockGraphics.highlight={};BlockGraphics.highlight.margin=5;BlockGraphics.highlight.hexEndL=15;BlockGraphics.highlight.slotHexEndL=10;BlockGraphics.highlight.strokeC=FinchBlox?Colors.fbHighlight:Colors.white;BlockGraphics.highlight.strokeDarkC=Colors.black;BlockGraphics.highlight.strokeW=3;BlockGraphics.highlight.commandL=10};
BlockGraphics.SetHitBox=function(){BlockGraphics.hitBox={};BlockGraphics.hitBox.hMargin=BlockGraphics.block.pMargin/2;BlockGraphics.hitBox.vMargin=3};BlockGraphics.SetGlow=function(){BlockGraphics.glow=function(){};BlockGraphics.glow.color=Hatchling?Colors.flagGreen:Colors.white;BlockGraphics.glow.strokeW=2};
BlockGraphics.CalcCommand=function(){const a=BlockGraphics.command;a.extraHeight=2*a.cornerRadius;a.extraWidth=2*a.cornerRadius+a.bumpTopWidth+a.bumpOffset;a.bumpSlantWidth=(a.bumpTopWidth-a.bumpBottomWidth)/2};
BlockGraphics.CalcPaths=function(){const a=BlockGraphics.command;let b;b=" "+a.bumpOffset+",0";b+=" "+a.bumpSlantWidth+","+a.bumpDepth;b+=" "+a.bumpBottomWidth+",0";b+=" "+a.bumpSlantWidth+","+(0-a.bumpDepth);let c;c=",0 a "+(a.cornerRadius+" "+a.cornerRadius+" 0 0 1 "+a.cornerRadius+" "+a.cornerRadius);let d;d=" a "+a.cornerRadius+" "+a.cornerRadius+" 0 0 1 "+(0-a.cornerRadius)+" "+a.cornerRadius;let e;e=",0 "+(0-a.bumpSlantWidth+","+a.bumpDepth);e+=" "+(0-a.bumpBottomWidth)+",0";e+=" "+(0-a.bumpSlantWidth)+
","+(0-a.bumpDepth);e+=" "+(0-a.bumpOffset)+",0";e+=" a "+a.cornerRadius+" "+a.cornerRadius+" 0 0 1 "+(0-a.cornerRadius)+" "+(0-a.cornerRadius);let f;f=",0 "+(0-a.bumpSlantWidth-a.bumpBottomWidth-a.bumpSlantWidth-a.bumpOffset+",0");f+=" a "+a.cornerRadius+" "+a.cornerRadius+" 0 0 1 "+(0-a.cornerRadius)+" "+(0-a.cornerRadius);let g;g=" a "+a.cornerRadius+" "+a.cornerRadius+" 0 0 1 "+a.cornerRadius+" "+(0-a.cornerRadius);a.path1=b+" ";a.path2=c+" l 0,";a.path3=d+" l ";a.path4=e+" ";a.path4NoBump=f+
" ";a.path5=g+" z";a.fbBumpOut=" 3,0 0,-2 a 2 2 0 0 1 2 -2 l 2,0 a 2 2 0 0 1 2 2 l 0,24 a 2 2 0 0 1 -2 2 l -2,0 a 2 2 0 0 1 -2 -2 l 0,-2 -3,0 ";a.fbBumpIn=" 3,0 0,2 a 2 2 0 0 0 2 2 l 2,0 a 2 2 0 0 0 2 -2 l 0,-24 a 2 2 0 0 0 -2 -2 l -2,0 a 2 2 0 0 0 -2 2 l 0,2 -3,0 ";a.fbHalfBumpOut=" 3,0 0,-2 a 2 2 0 0 1 2 -2 l 2,0 a 2 2 0 0 1 2 2 l 0,12 ";a.fbHalfBumpIn="l 0,-12 a 2 2 0 0 0 -2 -2 l -2,0 a 2 2 0 0 0 -2 2 l 0,2 -3,0 ";a.fbBumpDepth=9;a.fbBumpNeck=10};
BlockGraphics.getType=function(a){switch(a){case 0:return BlockGraphics.command;case 1:return BlockGraphics.reporter;case 2:return BlockGraphics.predicate;case 3:return BlockGraphics.string;case 4:return BlockGraphics.hat;case 5:return BlockGraphics.loop;case 6:return BlockGraphics.loop}};BlockGraphics.buildPath={};
BlockGraphics.buildPath.command=function(a,b,c,d){let e;e="m "+(a+BlockGraphics.command.cornerRadius)+","+b;e+=BlockGraphics.command.path1;e+=c-BlockGraphics.command.extraWidth;e+=BlockGraphics.command.path2;e+=d-BlockGraphics.command.extraHeight;e+=BlockGraphics.command.path3;e+=BlockGraphics.command.extraWidth-c;e+=BlockGraphics.command.path4+"l 0,";e+=BlockGraphics.command.extraHeight-d;e+=BlockGraphics.command.path5;if(FinchBlox){let f=BlockGraphics.command;d=(d-f.extraHeight)/2-f.fbBumpNeck;
e="m "+(a-f.fbBumpDepth+f.cornerRadius)+","+b+" l ";e+=c+f.fbBumpDepth-2*f.cornerRadius;e+=f.path2;e+=d;e+=f.fbBumpOut;e+="0,"+d;e+=f.path3;e+=2*f.cornerRadius-c-f.fbBumpDepth+",0";e+=" a "+f.cornerRadius+" "+f.cornerRadius+" 0 0 1 "+(0-f.cornerRadius)+" "+(0-f.cornerRadius);e=e+" l 0,"+-d;e+=f.fbBumpIn;e+="0,"+-d;e+=f.path5}return e};
BlockGraphics.buildPath.commandTopHalf=function(a,b,c,d){let e=BlockGraphics.command;d=(d-e.extraHeight)/2-e.fbBumpNeck;a="m "+(a-e.fbBumpDepth+e.cornerRadius)+","+b+" l ";a+=c+e.fbBumpDepth-2*e.cornerRadius;a+=e.path2;a=a+d+e.fbHalfBumpOut;a+=-c-e.fbBumpDepth+",0";a+=e.fbHalfBumpIn;return a=a+("0,"+-d)+e.path5};
BlockGraphics.buildPath.highlightCommand=function(a,b,c){let d="";if(FinchBlox){var e=5;null!=c&&(e=(c-BlockGraphics.command.extraHeight)/2-BlockGraphics.command.fbBumpNeck);d+="m "+a+","+(b+BlockGraphics.command.cornerRadius);d=d+("l 0,"+e)+BlockGraphics.command.fbBumpOut;d+="0,"+e}else d=d+("m "+a+","+b)+("l "+BlockGraphics.command.cornerRadius+",0"),d+=BlockGraphics.command.path1,d+=BlockGraphics.highlight.commandL+",0";return d};
BlockGraphics.buildPath.reporter=function(a,b,c,d){const e=d/2;a="m "+(a+e)+","+(b+d)+(" a "+e+" "+e+" 0 0 1 0 "+(0-d))+(" l "+(c-d)+",0");a+=" a "+e+" "+e+" 0 0 1 0 "+d;return a+=" z"};BlockGraphics.buildPath.predicate=function(a,b,c,d,e,f){d/=2;f=f?BlockGraphics.highlight:BlockGraphics.predicate;e=e?f.slotHexEndL:f.hexEndL;c-=2*e;a="m "+a+","+(b+d)+(" "+e+","+(0-d))+(" "+c+",0");a+=" "+e+","+d;a+=" "+(0-e)+","+d;a+=" "+(0-c)+",0";a+=" "+(0-e)+","+(0-d);return a+=" z"};
BlockGraphics.buildPath.string=function(a,b,c,d){a="m "+a+","+b+(" "+c+",0 0,")+d;a+=" "+(0-c)+",0";return a+=" z"};
BlockGraphics.buildPath.hat=function(a,b,c,d){let e="",f=BlockGraphics.hat;var g=BlockGraphics.command;if(FinchBlox){let h=(d-g.extraHeight)/2-g.fbBumpNeck,k=2/3;e+="m "+(a+f.r*k)+","+b+" l ";e+=c-g.cornerRadius-f.r*k;e+=g.path2+h;e+=g.fbBumpOut;e+="0,"+h;e+=g.path3+(g.cornerRadius+f.r*k-c)+",0";e+=" a "+f.r+" "+f.r+" 0 0 1 "+-f.r+" "+-f.r;e+=" l 0,"+(-d+2*f.r);e+=" a "+f.r+" "+f.r+" 0 0 1 "+f.r+" "+-f.r;e+=" z "}else g=c-f.topW-BlockGraphics.command.cornerRadius,d-=2*BlockGraphics.command.cornerRadius,
e=e+("m "+a+","+b)+(" a "+f.hRadius+" "+f.vRadius+" 0 0 1 "+f.topW+" 0"),e+=" l "+g,e+=BlockGraphics.command.path2,e+=d,e+=BlockGraphics.command.path3,e+=BlockGraphics.command.extraWidth-c,e+=BlockGraphics.command.path4,e+="z";return e};
BlockGraphics.buildPath.loop=function(a,b,c,d,e,f){null==f&&(f=!0);let g="";const h=BlockGraphics.loop,k=BlockGraphics.command;if(FinchBlox){let l=d-k.height,m=(k.height-k.extraHeight)/2-k.fbBumpNeck;g+="m "+(a-k.fbBumpDepth+k.cornerRadius)+",";g+=b-l+" l ";g+=c-2*k.cornerRadius+k.fbBumpDepth;g+=k.path2;f?(g+=m+l,g+=k.fbBumpOut,g+="0,"+m):g+=d-2*k.cornerRadius;g+=k.path3;g+=-h.armW+2*k.cornerRadius+",0";g+=" a "+k.cornerRadius+" "+k.cornerRadius+" 0 0 1 "+(0-k.cornerRadius)+" "+(0-k.cornerRadius);
g=g+" l 0,"+-m;g+=k.fbBumpIn;g+="0,"+-m;g+=" a "+k.cornerRadius+" "+k.cornerRadius+" 0 0 0 "+(0-k.cornerRadius)+" "+(0-k.cornerRadius);g+=" l "+(-e+2*k.cornerRadius-k.fbBumpDepth)+",0";g+=" a "+k.cornerRadius+" "+k.cornerRadius+" 0 0 0 "+(0-k.cornerRadius)+" "+k.cornerRadius;g+=" l 0,"+m;g+=k.fbBumpOut;g+="0,"+m;g+=k.path3;g+=-c+e+h.armW+2*k.cornerRadius+",0";g+=" a "+k.cornerRadius+" "+k.cornerRadius+" 0 0 1 "+(0-k.cornerRadius)+" "+(0-k.cornerRadius);g=g+" l 0,"+-m;g+=k.fbBumpIn;g+="0,"+(-m-l)}else g+=
"m "+(a+k.cornerRadius)+","+b,g+=k.path1,g+=c-k.extraWidth,g+=k.path2,g+=d-e-2*k.cornerRadius-h.bottomH,g+=k.path3,g+=k.extraWidth-c+h.side+",0",g+=" "+(0-k.bumpSlantWidth)+","+k.bumpDepth,g+=" "+(0-k.bumpBottomWidth)+",0",g+=" "+(0-k.bumpSlantWidth)+","+(0-k.bumpDepth),g+=" "+(0-k.bumpOffset)+",0",g+=" a "+k.cornerRadius+" "+k.cornerRadius+" 0 0 0 "+(0-k.cornerRadius)+" "+k.cornerRadius,g+=" l 0,"+(e-2*k.cornerRadius),g+=" a "+k.cornerRadius+" "+k.cornerRadius+" 0 0 0 "+k.cornerRadius+" "+k.cornerRadius,
g+=" l "+(c-2*k.cornerRadius-h.side),g+=k.path2,g+=h.bottomH-2*k.cornerRadius,g+=k.path3,g+=k.extraWidth-c,g=f?g+(k.path4+"l 0,"):g+(k.path4NoBump+"l 0,"),g+=0-d+2*k.cornerRadius;return g+=k.path5};
BlockGraphics.buildPath.doubleLoop=function(a,b,c,d,e,f,g){const h=BlockGraphics.loop,k=BlockGraphics.command;a="m "+(a+k.cornerRadius)+","+b;a+=k.path1;a+=c-k.extraWidth;b=e;e=d-g-e-f-2*k.cornerRadius-h.bottomH;for(let l=0;2>l;l++)a+=k.path2,a+=e,a+=k.path3,a+=k.extraWidth-c+h.side+",0",a+=" "+(0-k.bumpSlantWidth)+","+k.bumpDepth,a+=" "+(0-k.bumpBottomWidth)+",0",a+=" "+(0-k.bumpSlantWidth)+","+(0-k.bumpDepth),a+=" "+(0-k.bumpOffset)+",0",a+=" a "+k.cornerRadius+" "+k.cornerRadius+" 0 0 0 "+(0-k.cornerRadius)+
" "+k.cornerRadius,a+=" l 0,"+(b-2*k.cornerRadius),a+=" a "+k.cornerRadius+" "+k.cornerRadius+" 0 0 0 "+k.cornerRadius+" "+k.cornerRadius,a+=" l "+(c-2*k.cornerRadius-h.side),b=f,e=g-2*k.cornerRadius;a+=k.path2;a+=h.bottomH-2*k.cornerRadius;a+=k.path3;a+=k.extraWidth-c;a+=k.path4+"l 0,";a+=0-d+2*k.cornerRadius;return a+=k.path5};BlockGraphics.create={};
BlockGraphics.create.block=function(a,b,c,d){b=GuiElements.create.path(b);if(null==a)return b.setAttributeNS(null,"fill",BlockPalette.bg),b;d||(a="inactive");var e=Colors.getGradient(a);FinchBlox&&(e=Colors.getColor(a));b.setAttributeNS(null,"fill",e);BlockGraphics.update.stroke(b,a,c,d);return b};
BlockGraphics.create.slot=function(a,b,c,d){d||(c="inactive");d=BlockGraphics.reporter;a=GuiElements.create.path(a);2===b?a.setAttributeNS(null,"fill","url(#gradient_dark_"+c+")"):a.setAttributeNS(null,"fill",d.slotFill);return a};BlockGraphics.create.slotHitBox=function(a){a=GuiElements.create.rect(a);a.setAttributeNS(null,"fill",Colors.black);GuiElements.update.opacity(a,0);return a};
BlockGraphics.create.labelText=function(a,b){const c=BlockGraphics.labelText,d=GuiElements.create.text();d.setAttributeNS(null,"font-family",c.font.fontFamily);d.setAttributeNS(null,"font-size",c.font.fontSize);d.setAttributeNS(null,"font-weight",c.font.fontWeight);d.setAttributeNS(null,"fill",c.fill);d.setAttributeNS(null,"class","noselect");a=document.createTextNode(a);d.appendChild(a);b.appendChild(d);return d};
BlockGraphics.create.valueText=function(a,b){const c=BlockGraphics.valueText,d=GuiElements.create.text();d.setAttributeNS(null,"font-family",c.font.fontFamily);d.setAttributeNS(null,"font-size",c.font.fontSize);d.setAttributeNS(null,"font-weight",c.font.fontWeight);d.setAttributeNS(null,"fill",c.fill);d.setAttributeNS(null,"class","noselect");GuiElements.update.text(d,a);b.appendChild(d);return d};BlockGraphics.update={};
BlockGraphics.update.path=function(a,b,c,d,e,f,g,h,k,l,m){let n;switch(f){case 0:n=BlockGraphics.buildPath.command(b,c,d,e);break;case 1:n=BlockGraphics.buildPath.reporter(b,c,d,e);break;case 2:n=BlockGraphics.buildPath.predicate(b,c,d,e,g,!1);break;case 3:n=BlockGraphics.buildPath.string(b,c,d,e);break;case 4:n=BlockGraphics.buildPath.hat(b,c,d,e);break;case 5:n=BlockGraphics.buildPath.loop(b,c,d,e,h,m);break;case 6:n=BlockGraphics.buildPath.doubleLoop(b,c,d,e,h,k,l)}a.setAttributeNS(null,"d",n);
return a};BlockGraphics.update.topPath=function(a,b,c){b=BlockGraphics.buildPath.commandTopHalf(0,0,b,c);a.setAttributeNS(null,"d",b)};BlockGraphics.update.text=function(a,b,c){Language.isRTL&&(b=-b);a.setAttributeNS(null,"x",b);a.setAttributeNS(null,"y",c)};BlockGraphics.update.glow=function(a){const b=BlockGraphics.glow;a.setAttributeNS(null,"stroke",b.color);a.setAttributeNS(null,"stroke-width",b.strokeW)};
BlockGraphics.update.stroke=function(a,b,c,d){d||(b="inactive");c||FinchBlox?(c=Colors.getColor(b),FinchBlox&&(c=Colors.blockOutline[b]),a.setAttributeNS(null,"stroke",c),a.setAttributeNS(null,"stroke-width",BlockGraphics.reporter.strokeW)):a.setAttributeNS(null,"stroke-width",0)};BlockGraphics.update.hexSlotGradient=function(a,b,c){c||(b="inactive");a.setAttributeNS(null,"fill","url(#gradient_dark_"+b+")")};
BlockGraphics.update.blockActive=function(a,b,c,d,e){if(null==b)return a.setAttributeNS(null,"fill",BlockPalette.bg),a;d||(b="inactive");let f=Colors.getGradient(b);FinchBlox&&(f=Colors.getColor(b));a.setAttributeNS(null,"fill",f);e||BlockGraphics.update.stroke(a,b,c,d)};
BlockGraphics.buildPath.highlight=function(a,b,c,d,e,f,g){var h=BlockGraphics.highlight;let k;const l=a-h.margin,m=b-h.margin;c+=2*h.margin;h=d+2*h.margin;switch(e){case 0:k=BlockGraphics.buildPath.highlightCommand(a,b,d);break;case 1:k=BlockGraphics.buildPath.reporter(l,m,c,h);break;case 2:k=BlockGraphics.buildPath.predicate(l,m,c,h,f,!0);break;case 3:k=BlockGraphics.buildPath.string(l,m,c,h)}if(g)switch(e){case 0:k="m "+a+","+b+" l 0,"+d}return k};
BlockGraphics.bringToFront=function(a,b){a.remove();b.appendChild(a)};function Sound(a,b){this.id=a;this.name=Sound.nameFromId(a,b);this.isRecording=b}Sound.setConstants=function(){Sound.soundList=[];Sound.recordingList=[];Sound.playingSoundStatuses=[];Sound.type={};Sound.type.effect="effect";Sound.type.ui="ui";Sound.type.recording="recording";Sound.loadSounds(!0);Sound.loadSounds(!1);Sound.click="click2"};
Sound.playAndStopPrev=function(a,b,c,d,e){Sound.stopAllSounds(null,function(){Sound.playWithCallback(a,b,c,d,e)})};
Sound.playWithCallback=function(a,b,c,d,e){let f={};f.donePlayingCallback=e;Sound.playingSoundStatuses.push(f);const g=function(){let l=Sound.playingSoundStatuses.indexOf(f);return-1<l?(Sound.playingSoundStatuses.splice(l,1),!0):!1},h=function(){g();null!=d&&d()},k=function(){g()&&null!=e&&e()};Sound.getDuration(a,b,function(l){let m=new HttpRequestBuilder("sound/play");m.addParam("filename",a);m.addParam("type",Sound.boolToType(b));HtmlServer.sendRequestWithCallback(m.toString(),function(){setTimeout(k,
l);null!=c&&c()},h)},h)};Sound.play=function(a,b,c){null==c?Sound.playWithCallback(a,b):(c.donePlaying=!1,c.requestSent=!1,c.error=!1,Sound.playWithCallback(a,b,function(){c.requestSent=!0},function(){c.donePlaying=!1;c.requestSent=!1;c.error=!0},function(){c.donePlaying=!0;c.requestSent=!0}))};
Sound.getDuration=function(a,b,c,d){let e=new HttpRequestBuilder("sound/duration");e.addParam("filename",a);e.addParam("type",Sound.boolToType(b));HtmlServer.sendRequestWithCallback(e.toString(),function(f){f=Number(f);isNaN(f)?null!=d&&d():null!=c&&c(f)},d)};Sound.changeFile=function(){Sound.recordingList=[];Sound.loadSounds(!0)};
Sound.loadSounds=function(a,b){let c=new HttpRequestBuilder("sound/names");c.addParam("type",Sound.boolToType(a));HtmlServer.sendRequestWithCallback(c.toString(),function(d){let e=d.split("\n");""===d&&(e=[]);d=e.map(function(f){return new Sound(f,a)});a?Sound.recordingList=d:Sound.soundList=d;null!=b&&b(d)})};Sound.nameFromId=function(a,b){if(b)return a;a=a.split("_").join(" ");return a=a.replace(/\b\w/g,function(c){return c.toUpperCase()})};
Sound.stopAllSounds=function(a,b){null==a&&(a={});let c=new HttpRequestBuilder("sound/stopAll"),d=function(){a.finished=!0;Sound.playingSoundStatuses.forEach(function(e){null!=e.donePlayingCallback&&e.donePlayingCallback()});Sound.playingSoundStatuses=[];null!=b&&b()};HtmlServer.sendRequestWithCallback(c.toString(),d,d)};Sound.getSoundList=function(a){return a?Sound.recordingList:Sound.soundList};Sound.boolToType=function(a){return a?Sound.type.recording:Sound.type.effect};
Sound.lookupById=function(a){let b=null;Sound.soundList.forEach(function(c){c.id===a&&(b=c)});return b};Sound.playSnap=function(){if("true"===SettingsManager.enableSnapNoise.getValue()){let a=new HttpRequestBuilder("sound/play");a.addParam("type",Sound.type.ui);a.addParam("filename",Sound.click);HtmlServer.sendRequestWithCallback(a.toString())}};
function TouchReceiver(){const a=TouchReceiver;a.mouse=DebugOptions.shouldUseMouseMode();a.longTouchInterval=700;a.fixScrollingInterval=100;a.blocksMoving=!1;a.targetType="none";a.touchDown=!1;a.longTouch=!1;a.target=null;a.multiTouches=[];a.startX=0;a.startY=0;a.startX2=0;a.startY2=0;a.longTouchTimer=null;a.timerRunning=!1;a.zooming=!1;a.dragging=!1;a.moveThreshold=10;a.interactionEnabeled=!0;a.interactionTimeOut=null;a.handlerMove=["touchmove","mousemove"];a.handlerUp=["touchend","mouseup"];a.handlerDown=
["touchstart","mousedown"];a.addListeners()}TouchReceiver.addListeners=function(){const a=TouchReceiver;a.addEventListenerSafe(document.body,a.handlerMove,a.handleMove,!1);a.addEventListenerSafe(document.body,a.handlerUp,a.handleUp,!1);a.addEventListenerSafe(document.body,a.handlerDown,a.handleDocumentDown,!1);a.addEventListenerSafe(document.body,["wheel"],a.wheelZoom,!1)};TouchReceiver.handleMove=function(a){TouchReceiver.touchmove(a)};TouchReceiver.handleUp=function(a){TouchReceiver.touchend(a)};
TouchReceiver.handleDocumentDown=function(a){TouchReceiver.touchstart(a)&&!FinchBlox&&Overlay.closeOverlays()};TouchReceiver.disableInteraction=function(a){const b=TouchReceiver;b.interactionEnabeled=!1;b.interactionTimeOut=window.setTimeout(function(){TouchReceiver.enableInteraction()},a)};TouchReceiver.enableInteraction=function(){const a=TouchReceiver;a.interactionEnabeled=!0;null!=a.interactionTimeOut&&(window.clearTimeout(a.interactionTimeOut),a.interactionTimeOut=null)};
TouchReceiver.getX=function(a){a=a.type.startsWith("mouse")?a.clientX/GuiElements.zoomFactor:a.touches[0].pageX/GuiElements.zoomFactor;Language.isRTL&&(a=GuiElements.width-a);return a};TouchReceiver.getY=function(a){return a.type.startsWith("mouse")?a.clientY/GuiElements.zoomFactor:a.touches[0].pageY/GuiElements.zoomFactor};TouchReceiver.getTouchX=function(a,b){a=a.touches[b].pageX/GuiElements.zoomFactor;Language.isRTL&&(a=GuiElements.width-a);return a};
TouchReceiver.getMultiX=function(a){a=a.pageX/GuiElements.zoomFactor;Language.isRTL&&(a=GuiElements.width-a);return a};TouchReceiver.getMultiY=function(a){return a.pageY/GuiElements.zoomFactor};TouchReceiver.getTouchY=function(a,b){return a.touches[b].pageY/GuiElements.zoomFactor};
TouchReceiver.touchstart=function(a,b){const c=TouchReceiver;if(!c.interactionEnabeled)return a.preventDefault(),!1;Comment.currentlyEditing&&Comment.currentlyEditing.editableText.blur();null==b&&(b=!0);b&&a.preventDefault();if(b=!c.touchDown)c.stopLongTouchTimer(),c.dragging=!1,c.touchDown=!0,c.targetType="none",c.target=null,c.longTouch=!1,c.startX=c.getX(a),c.startY=c.getY(a);return b};
TouchReceiver.checkStartZoom=function(a){const b=TouchReceiver;!b.zooming&&!a.type.startsWith("mouse")&&2<=a.touches.length&&(!b.dragging&&b.targetIsInTabSpace()||TabManager.scrolling)&&(b.dragging=!0,TabManager.scrolling&&TabManager.endScroll(),b.zooming=!0,b.startX=b.getTouchX(a,0),b.startY=b.getTouchY(a,0),b.startX2=b.getTouchX(a,1),b.startY2=b.getTouchY(a,1),TabManager.startZooming(b.startX,b.startY,b.startX2,b.startY2))};
TouchReceiver.wheelZoom=function(a){const b=0>a.deltaY;let c=a.pageX/GuiElements.zoomFactor;Language.isRTL&&(c=GuiElements.width-c);TabManager.wheelZoom(c,a.pageY/GuiElements.zoomFactor,b)};TouchReceiver.targetIsInTabSpace=function(){const a=TouchReceiver;return"tabSpace"===a.targetType||"block"===a.targetType?!0:"slot"===a.targetType?!a.target.parent.stack.isDisplayStack:!1};
TouchReceiver.touchStartBlock=function(a,b){if(!a.isStatic){var c=TouchReceiver;b.type.startsWith("mouse")?(a.stack.isDisplayStack||c.checkStartZoom(b),c.touchstart(b)&&(Overlay.closeOverlays(),c.targetType=a.stack.isDisplayStack?"displayStack":"block",c.setLongTouchTimer(),TouchReceiver.target=a)):c.multiTouchStart(b,a,a.stack.isDisplayStack?"displayStack":"block")}};
TouchReceiver.multiTouchStart=function(a,b,c){const d=TouchReceiver;a.preventDefault();if(d.interactionEnabeled){Comment.currentlyEditing&&Comment.currentlyEditing.editableText.blur();Overlay.closeOverlays();for(var e=0;e<a.changedTouches.length;e++){let f={id:a.changedTouches[e].identifier,target:b,targetType:c,longTouch:!1,dragging:!1,touchDown:!0,startX:d.getMultiX(a.changedTouches[e]),startY:d.getMultiY(a.changedTouches[e])};self.setTimeout(function(){d.multiTouchLong(f)},d.longTouchInterval);
d.multiTouches.push(f)}d.addEventListenerSafe(a.target,d.handlerMove,d.multiTouchMove);d.addEventListenerSafe(a.target,d.handlerUp,d.multiTouchEnd)}};
TouchReceiver.multiTouchMove=function(a){const b=TouchReceiver;a.preventDefault();if(b.interactionEnabeled)for(let f=0;f<b.multiTouches.length;f++)for(let g=0;g<a.changedTouches.length;g++){var c=a.changedTouches[g];let h=b.multiTouches[f];if(h.id==c.identifier&&h.touchDown&&(b.multiTouchHasMovedOutsideThreshold(h,c)||h.dragging)){h.dragging=!0;h.longTouch=!1;"slot"===h.targetType&&(h.target=h.target.parent,h.targetType=h.target.stack.isDisplayStack?"displayStack":"block");if("displayStack"===h.targetType){var d=
h.target.stack.getAbsX(),e=h.target.stack.getAbsY();h.target=h.target.stack.duplicate(d,e).firstBlock;h.targetType="block"}"block"===h.targetType&&(d=b.getMultiX(c),e=b.getMultiY(c),h.blockMoveManager?h.blockMoveManager.update(d,e):h.blockMoveManager=new BlockMoveManager(h.target,d,e));"comment"===h.targetType&&(d=b.getMultiX(c),c=b.getMultiY(c),h.commentMoveManager?h.commentMoveManager.update(d,c):h.commentMoveManager=new CommentMoveManager(h.target,d,c))}}};
TouchReceiver.multiTouchEnd=function(a){const b=TouchReceiver;for(let c=0;c<b.multiTouches.length;c++)for(let d=0;d<a.changedTouches.length;d++){let e=b.multiTouches[c];if(e.id==a.changedTouches[d].identifier){if(e.touchDown&&!e.longTouch)if(e.touchDown=!1,e.dragging=!1,"block"===e.targetType)null!=e.blockMoveManager?(e.blockMoveManager.end(),e.blockMoveManager=null):e.target.stack.startRun();else if("comment"===e.targetType)null!=e.commentMoveManager?(e.commentMoveManager.end(),e.commentMoveManager=
null):e.target.editText();else if("slot"===e.targetType)e.target.onTap();else"displayStack"==e.targetType&&e.target.stack.startRun();else e.touchDown=!1;a.preventDefault();b.multiTouches.splice(c,1)}}};
TouchReceiver.multiTouchLong=function(a){if(!a.dragging&&a.touchDown)if("slot"===a.targetType&&(a.target=a.target.parent,a.targetType=a.target.stack.isDisplayStack?"displayStack":"block"),"displayStack"==a.targetType){if("B_Variable"===a.target.blockTypeName||"B_List"===a.target.blockTypeName)a.longTouch=!0,new BlockContextMenu(a.target,a.startX,a.startY)}else"block"!==a.targetType||FinchBlox||(a.longTouch=!0,new BlockContextMenu(a.target,a.startX,a.startY))};
TouchReceiver.touchStartComment=function(a,b){const c=TouchReceiver;b.type.startsWith("mouse")?(c.checkStartZoom(b),c.touchstart(b)&&(Overlay.closeOverlays(),c.target=a,c.targetType="comment")):c.multiTouchStart(b,a,"comment")};
TouchReceiver.touchStartSlot=function(a,b){const c=TouchReceiver;b.type.startsWith("mouse")?(a.parent.stack.isDisplayStack||c.checkStartZoom(b),c.touchstart(b)&&(a.isEditable()&&!0===a.isEditing()||Overlay.closeOverlays(),c.targetType="slot",TouchReceiver.target=a,c.setLongTouchTimer())):c.multiTouchStart(b,a,"slot")};TouchReceiver.touchStartCatBN=function(a,b){const c=TouchReceiver;c.touchstart(b)&&(Overlay.closeOverlays(),c.targetType="category",a.select(),Overlay.closeOverlays())};
TouchReceiver.touchStartBN=function(a,b){const c=TouchReceiver,d=!a.scrollable&&null==a.menuBnList;d||b.stopPropagation();c.touchstart(b,d)&&(Overlay.closeOverlaysExcept(a.partOfOverlay),c.setLongTouchTimer(),c.targetType="button",c.target=a,a.press())};TouchReceiver.touchStartScrollBox=function(a,b){const c=TouchReceiver;c.touchstart(b,!1)&&(Overlay.closeOverlaysExcept(a.partOfOverlay),c.targetType="scrollBox",c.target=a,b.stopPropagation())};
TouchReceiver.touchStartColorWheel=function(a,b){const c=TouchReceiver;c.touchstart(b,!1)&&(c.targetType="colorWheel",c.target=a,c.target.dragColor(c.getX(b),c.getY(b)),b.stopPropagation())};TouchReceiver.touchStartSlider=function(a,b){const c=TouchReceiver;c.touchstart(b,!1)&&(c.targetType="slider",c.target=a,c.target.drag(c.getX(b)),b.stopPropagation())};TouchReceiver.touchStartEditText=function(a,b){a.editText()};
TouchReceiver.touchStartTabSpace=function(a){const b=TouchReceiver;b.checkStartZoom(a);b.touchstart(a)&&(Overlay.closeOverlays(),b.targetType="tabSpace",b.target=null)};TouchReceiver.touchStartDisplayBox=function(a){const b=TouchReceiver;b.touchstart(a)&&(Overlay.closeOverlays(),b.targetType="displayBox",b.target=null,DisplayBoxManager.hide(),b.touchDown=!1,a.stopPropagation())};TouchReceiver.touchStartOverlayPart=function(a){TouchReceiver.touchstart(a)};
TouchReceiver.touchStartSmoothMenuBnList=function(a,b){const c=TouchReceiver;c.touchstart(b,!1)&&(Overlay.closeOverlaysExcept(a.partOfOverlay),c.targetType="smoothMenuBnList",TouchReceiver.target=a,b.stopPropagation())};TouchReceiver.touchStartTabRow=function(a,b,c){const d=TouchReceiver;d.touchstart(c)&&(Overlay.closeOverlaysExcept(a.partOfOverlay),d.targetType="tabrow",a.selectTab(b))};
TouchReceiver.touchStartCollapsibleItem=function(a,b){const c=TouchReceiver;c.touchstart(b,!1)&&(Overlay.closeOverlays(),c.targetType="collapsibleItem",c.target=a,b.stopPropagation())};
TouchReceiver.touchEndDialogBlock=function(a){GuiElements.removeVideos();null!=SaveManager.fileName||FinchBlox?null!=RowDialog.currentDialog&&RowDialog.currentDialog.closeDialog():null!=OpenDialog.lastOpenFile?(SaveManager.userOpenFile(OpenDialog.lastOpenFile),OpenDialog.lastOpenFile=null,RowDialog.currentDialog.closeDialog()):SaveManager.getAvailableName(SaveManager.newProgName,function(b,c,d){SaveManager.newSoft(b,RowDialog.currentDialog.closeDialog())});FinchBlox&&Overlay.closeOverlays()};
TouchReceiver.touchmove=function(a){const b=TouchReceiver;let c=!0;if(b.interactionEnabeled){if(b.touchDown&&(b.hasMovedOutsideThreshold(a)||b.dragging))if(b.dragging=!0,b.stopLongTouchTimer(),b.longTouch&&(Overlay.closeOverlays(),b.longTouch=!1),b.zooming)if(2>a.touches.length)b.touchend(a);else{var d=b.getTouchX(a,0),e=b.getTouchY(a,0);const f=b.getTouchX(a,1),g=b.getTouchY(a,1);TabManager.updateZooming(d,e,f,g)}else"slot"===b.targetType&&(b.target=b.target.parent,b.targetType=b.target.stack.isDisplayStack?
"displayStack":"block"),"displayStack"===b.targetType&&(d=b.target.stack.getAbsX(),e=b.target.stack.getAbsY(),b.target=b.target.stack.duplicate(d,e).firstBlock,b.targetType="block"),"block"===b.targetType&&(d=b.getX(a),e=b.getY(a),b.blocksMoving?CodeManager.move.update(d,e):(CodeManager.move.start(b.target,d,e),b.blocksMoving=!0)),"colorWheel"===b.targetType&&b.target.dragColor(b.getX(a),b.getY(a)),"slider"===b.targetType&&b.target.drag(b.getX(a)),"scrollBox"===b.targetType&&(c=!1),"tabSpace"===b.targetType&&
(TabManager.scrolling?TabManager.updateScroll(b.getX(a),b.getY(a)):TabManager.startScroll(b.getX(a),b.getY(a))),"button"===b.targetType&&(b.target.interrupt(),b.target.scrollable&&(b.targetType="smoothMenuBnList",b.target.interrupt(),b.target=null)),"smoothMenuBnList"===b.targetType&&(c=!1),"collapsibleItem"===b.targetType&&(c=!1,b.targetType="scrollBox",b.target=null),"comment"===b.targetType&&(d=b.getX(a),e=b.getY(a),b.commentMoveManager?b.commentMoveManager.update(d,e):b.commentMoveManager=new CommentMoveManager(b.target,
d,e));c&="smoothMenuBnList"!==b.targetType;c&="button"!==b.targetType||!b.target.scrollable;c&="scrollBox"!==b.targetType;(c&="collapsibleItem"!==b.targetType)&&a.preventDefault()}else a.preventDefault()};TouchReceiver.hasMovedOutsideThreshold=function(a){const b=TouchReceiver;if(!b.touchDown)return!1;const c=b.startX-b.getX(a);a=b.startY-b.getY(a);return c*c+a*a>=b.moveThreshold*b.moveThreshold};
TouchReceiver.multiTouchHasMovedOutsideThreshold=function(a,b){const c=TouchReceiver;if(!a.touchDown)return!1;const d=a.startX-c.getMultiX(b);a=a.startY-c.getMultiY(b);return d*d+a*a>=c.moveThreshold*c.moveThreshold};
TouchReceiver.touchend=function(a){const b=TouchReceiver;let c=!0;if(b.zooming)0===a.touches.length?(TabManager.endZooming(),b.zooming=!1,b.touchDown=!1):1===a.touches.length&&(TabManager.endZooming(),b.zooming=!1,b.targetType="tabSpace",b.target=null,TabManager.startScroll(b.getX(a),b.getY(a)));else if(b.touchDown&&!b.longTouch)if(b.touchDown=!1,b.dragging=!1,"block"===b.targetType)b.blocksMoving?(CodeManager.move.end(),b.blocksMoving=!1):b.target.stack.startRun();else if("button"===b.targetType)b.target.release();
else if("slot"===b.targetType)b.target.onTap();else"scrollBox"===b.targetType?c=!1:"tabSpace"===b.targetType?TabManager.endScroll():"smoothMenuBnList"===b.targetType?c=!1:"collapsibleItem"===b.targetType?b.target.toggle():"displayStack"==b.targetType?b.target.stack.startRun():"colorWheel"===b.targetType?b.target.dropColor():"slider"===b.targetType?b.target.drop():"comment"===b.targetType&&(null!=b.commentMoveManager?(b.commentMoveManager.end(),b.commentMoveManager=null):b.target.editText());else b.touchDown=
!1;c&&a.preventDefault()};TouchReceiver.touchInterrupt=function(){const a=TouchReceiver,b=a.touchDown;a.touchDown=!1;b&&!a.longTouch&&(a.touchDown=!1,"block"===a.targetType?a.blocksMoving&&(CodeManager.move.interrupt(),a.blocksMoving=!1):"button"===a.targetType?a.target.interrupt():"tabSpace"===a.targetType&&TabManager.endScroll())};
TouchReceiver.touchLong=function(){const a=TouchReceiver;a.stopLongTouchTimer();a.touchDown&&!a.zooming&&("slot"===a.targetType&&(a.target=a.target.parent,a.targetType=a.target.stack.isDisplayStack?"displayStack":"block"),"displayStack"!==a.targetType||"B_Variable"!==a.target.blockTypeName&&"B_List"!==a.target.blockTypeName||(a.longTouch=!0,new BlockContextMenu(a.target,a.startX,a.startY)),"block"!==a.targetType||FinchBlox||(a.longTouch=!0,new BlockContextMenu(a.target,a.startX,a.startY)),"button"===
a.targetType&&a.target.longTouch())};TouchReceiver.setLongTouchTimer=function(){const a=TouchReceiver;a.stopLongTouchTimer();a.longTouchTimer=self.setInterval(function(){TouchReceiver.touchLong()},a.longTouchInterval);a.timerRunning=!0};TouchReceiver.stopLongTouchTimer=function(){const a=TouchReceiver;a.timerRunning&&(a.longTouchTimer=window.clearInterval(this.longTouchTimer),a.timerRunning=!1)};
TouchReceiver.addListenersCat=function(a,b){const c=TouchReceiver;c.addEventListenerSafe(a,c.handlerDown,function(d){TouchReceiver.touchStartCatBN(b,d)},!1)};TouchReceiver.addListenersChild=function(a,b){const c=TouchReceiver;c.addEventListenerSafe(a,c.handlerDown,function(d){TouchReceiver.touchStartBlock(b,d)},!1)};TouchReceiver.addListenersComment=function(a,b){const c=TouchReceiver;c.addEventListenerSafe(a,c.handlerDown,function(d){TouchReceiver.touchStartComment(b,d)},!1)};
TouchReceiver.addListenersSlot=function(a,b){const c=TouchReceiver;c.addEventListenerSafe(a,c.handlerDown,function(d){TouchReceiver.touchStartSlot(b,d)},!1)};TouchReceiver.addListenersBN=function(a,b){const c=TouchReceiver;c.addEventListenerSafe(a,c.handlerDown,function(d){TouchReceiver.touchStartBN(b,d)},!1)};TouchReceiver.addListenersScrollBox=function(a,b){const c=TouchReceiver;c.addEventListenerSafe(a,c.handlerDown,function(d){TouchReceiver.touchStartScrollBox(b,d)},!1)};
TouchReceiver.addListenersColorWheel=function(a,b){const c=TouchReceiver;c.addEventListenerSafe(a,c.handlerDown,function(d){TouchReceiver.touchStartColorWheel(b,d)},!1)};TouchReceiver.addListenersSlider=function(a,b){const c=TouchReceiver;c.addEventListenerSafe(a,c.handlerDown,function(d){TouchReceiver.touchStartSlider(b,d)},!1)};TouchReceiver.addListenersEditText=function(a,b){const c=TouchReceiver;c.addEventListenerSafe(a,c.handlerDown,function(d){TouchReceiver.touchStartEditText(b,d)},!1)};
TouchReceiver.addListenersTabSpace=function(a){const b=TouchReceiver;b.addEventListenerSafe(a,b.handlerDown,function(c){TouchReceiver.touchStartTabSpace(c)},!1)};TouchReceiver.addListenersDisplayBox=function(a){const b=TouchReceiver;b.addEventListenerSafe(a,b.handlerDown,function(c){TouchReceiver.touchStartDisplayBox(c)},!1)};
TouchReceiver.addListenersTabRow=function(a,b,c){const d=TouchReceiver;d.addEventListenerSafe(a,d.handlerDown,function(e){TouchReceiver.touchStartTabRow(b,c,e);d.touchDown=!1;e.stopPropagation()},!1)};TouchReceiver.addListenersOverlayPart=function(a){const b=TouchReceiver;b.addEventListenerSafe(a,b.handlerDown,function(c){TouchReceiver.touchStartOverlayPart(c)},!1)};
TouchReceiver.addListenersSmoothMenuBnListScrollRect=function(a,b){const c=TouchReceiver;a.parent=b;c.addEventListenerSafe(a,c.handlerDown,function(d){TouchReceiver.touchStartSmoothMenuBnList(this.parent,d)},!1)};TouchReceiver.addListenersCollapsibleItem=function(a,b){const c=TouchReceiver;c.addEventListenerSafe(a,c.handlerDown,function(d){TouchReceiver.touchStartCollapsibleItem(b,d)},!1)};
TouchReceiver.addListenersDialogBlock=function(a){const b=TouchReceiver;b.addEventListenerSafe(a,b.handlerUp,function(c){TouchReceiver.touchEndDialogBlock(c)},!1)};TouchReceiver.addEventListenerSafe=function(a,b,c){for(var d=0;d<b.length;d++)a.addEventListener(b[d],DebugOptions.safeFunc(c),!1)};
TouchReceiver.createScrollFixTimer=function(a,b){if(!GuiElements.isIos&&null==b)return null;var c;var d=c=null;TouchReceiver.setInitialScrollFix(a);return self.setInterval(function(){var e=null==c||c===a.scrollTop;e=(null==d||d===a.scrollLeft)&&e;null!=b&&(b.still=e);if(GuiElements.isIos){c=a.scrollTop;d=a.scrollLeft;var f=parseInt(window.getComputedStyle(a).getPropertyValue("height"),10);!TouchReceiver.touchDown&&e&&a.scrollHeight!==f&&(0>=a.scrollTop?a.scrollTop=1:a.scrollHeight-f-1<=a.scrollTop&&
2<a.scrollTop&&(a.scrollTop=a.scrollHeight-f-2))}},TouchReceiver.fixScrollingInterval)};TouchReceiver.setInitialScrollFix=function(a){GuiElements.isIos&&0>=a.scrollTop&&(a.scrollTop=1)};function TitleBar(){let a=TitleBar;a.titleTextVisble=!0;a.titleText="";a.prevTitleText="";a.debugEnabled=!1;TitleBar.createBar();TitleBar.makeButtons();TitleBar.makeTitleText()}
TitleBar.setGraphicsPart1=function(){const a=TitleBar;GuiElements.smallMode?(a.height=35,a.buttonMargin=Button.defaultMargin/2):(FinchBlox?(a.height=90,a.solidHeight=5):a.height=54,a.buttonMargin=Button.defaultMargin);a.width=GuiElements.width;if(FinchBlox){a.buttonH=a.height/2;a.tallButtonH=1.25*a.buttonH;a.buttonW=1.25*a.tallButtonH;var b=(a.width-6*a.buttonMargin)/8;a.buttonW=Math.min(b,a.buttonW);a.longButtonW=2.5*a.tallButtonH;a.longButtonW=Math.min(2*b,a.longButtonW);a.bnIconMargin=3;a.bg=Hatchling?
Colors.blockPaletteControl:Colors.easternBlue;a.bnIconH=a.buttonH-2*a.bnIconMargin;a.bnIconH=Math.min(.7*b,a.bnIconH);a.defaultCornerRounding=10}else a.buttonW=64*a.height/54,b=(a.width-11*a.buttonMargin-2*DeviceStatusLight.radius)/7,a.buttonW=Math.min(b,a.buttonW),a.longButtonW=85,a.bnIconMargin=3,a.bg=Colors.lightGray,a.buttonH=a.height-2*a.buttonMargin,a.bnIconH=a.buttonH-2*a.bnIconMargin,a.bnIconH=Math.min(.7*b,a.bnIconH);a.flagFill=Colors.green;a.batteryFill=Colors.lightGray;a.stopFill=Colors.red;
a.titleColor=Colors.white;a.font=Font.uiFont(16).bold();a.shortButtonW=a.buttonW};
TitleBar.setGraphicsPart2=function(){const a=TitleBar;FinchBlox?(a.finchBnX=2*a.buttonMargin,a.flagBnX=(GuiElements.width-a.buttonMargin)/2-a.longButtonW,a.stopBnX=(GuiElements.width+a.buttonMargin)/2):(a.stopBnX=GuiElements.width-a.buttonW-a.buttonMargin,a.flagBnX=a.stopBnX-a.buttonW-a.buttonMargin,a.undoBnX=a.flagBnX-a.buttonW-a.buttonMargin);a.batteryBnX=a.undoBnX-a.buttonW-a.buttonMargin;a.debugX=a.batteryBnX-a.longButtonW-a.buttonMargin;a.fileBnX=a.buttonMargin;a.viewBnX=a.fileBnX+a.buttonMargin+
a.buttonW;a.hummingbirdBnX=a.viewBnX+a.buttonMargin+a.buttonW;a.titleLeftX=BlockPalette.width;a.titleRightX=a.undoBnX-a.buttonMargin;a.titleWidth=a.titleRightX-a.titleLeftX;a.undoBnX<a.hummingbirdBnX+a.buttonW+a.buttonMargin&&(a.hummingbirdBnX=a.undoBnX-a.buttonW-a.buttonMargin);a.statusX=a.hummingbirdBnX+2*a.buttonMargin};
TitleBar.createBar=function(){const a=TitleBar;a.bgRect=FinchBlox?GuiElements.draw.rect(0,0,a.width,a.solidHeight,a.bg):GuiElements.draw.rect(0,0,a.width,a.height,a.bg);GuiElements.layers.titleBg.appendChild(a.bgRect);FinchBlox&&(a.bgShape=GuiElements.create.path(GuiElements.layers.titleBg),a.bgShape.setAttributeNS(null,"fill",a.bg),a.updateShapePath())};
TitleBar.updateShapePath=function(){const a=TitleBar,b=(a.height-a.solidHeight)/2,c=a.width/2-a.longButtonW-2*b;var d=" m 0,0 l "+(a.width+",0 0,"+a.height+" "+-c+",0");d=d+(" a "+b+" "+b+" 0 0 1 "+-b+" "+-b)+(" a "+b+" "+b+" 0 0 0 "+-b+" "+-b)+(" l "+-2*a.longButtonW+",0");d=d+(" a "+b+" "+b+" 0 0 0 "+-b+" "+b)+(" a "+b+" "+b+" 0 0 1 "+-b+" "+b)+(" l "+-c+",0 z ");a.bgShape.setAttributeNS(null,"d",d);a.sideWidth=c+b};
TitleBar.makeButtons=function(){const a=TitleBar,b=GuiElements.layers.titlebar;if(FinchBlox){var c=a.defaultCornerRounding;const d=a.height/2-a.tallButtonH/2,e=a.tallButtonH;a.undoBnX=a.width-a.sideWidth/2+a.buttonMargin/2;a.levelBnX=a.width-a.sideWidth/2-a.buttonMargin/2-a.buttonW;a.flagBn=new Button(a.flagBnX,d,a.longButtonW,e,b,Colors.flagGreen,c,c);a.flagBn.addIcon(VectorPaths.faFlag,a.bnIconH);a.flagBn.setCallbackFunction(CodeManager.eventFlagClicked,!1);a.stopBn=new Button(a.stopBnX,d,a.longButtonW,
e,b,Colors.stopRed,c,c);a.stopBn.addIcon(VectorPaths.stop,.9*a.bnIconH);a.stopBn.setCallbackFunction(CodeManager.stop,!1);a.undoButton=new Button(a.undoBnX,d,a.buttonW,e,b,Colors.neonCarrot,c,c);a.undoButton.addIcon(VectorPaths.faUndoAlt,.8*a.bnIconH);UndoManager.setUndoButton(a.undoButton);Hatchling||(a.levelButton=new Button(a.levelBnX,d,a.buttonW,e,b,Colors.seance,c,c),a.levelButton.addText(LevelManager.currentLevel,LevelManager.levelButtonFont,Colors.white),a.levelButton.setCallbackFunction(function(){(new LevelDialog).show()},
!0));a.updateStatus=function(f){const g=TitleBar.finchButton;let h=Colors.stopRed,k=Colors.darkenColor(Colors.stopRed,.5),l="";if(f===DeviceManager.statuses.connected){h=Colors.finchGreen;k=Colors.flagGreen;f=null;if(Hatchling){var m=DeviceHatchling.getManager().connectedDevices[0].getHatchlingCode();m=GuiElements.draw.hatchlingPattern(g.hatchGroup,g.finchW,m);g.hatchGroup.appendChild(m)}else f=DeviceFinch.getManager().connectedDevices[0].shortName;null!=f&&(l=f);g.battIcon.group.appendChild(g.battIcon.pathE);
g.xIcon.pathE.remove();g.icon.move(g.finchConnectedX,g.finchY);DeviceManager.checkBattery()}else if(g.xIcon.group.appendChild(g.xIcon.pathE),g.battIcon.pathE.remove(),g.icon.move(g.finchX,g.finchY),Hatchling&&g.hatchGroup)for(;g.hatchGroup.firstChild;)g.hatchGroup.removeChild(g.hatchGroup.firstChild);g.updateBgColor(h);GuiElements.update.stroke(g.icon.pathE,k,4);GuiElements.update.text(g.textE,l)};DeviceManager.setStatusListener(a.updateStatus);a.finchButton=new Button((a.sideWidth-a.longButtonW)/
2,a.height/2-a.tallButtonH/2,a.longButtonW,a.tallButtonH,b,Colors.fbGray,c,c);a.finchButton.addFinchBnIcons();a.finchButton.setCallbackFunction(function(){const f=Hatchling?DeviceHatchling:DeviceFinch;switch(DeviceManager.getStatus()){case DeviceManager.statuses.noDevices:(new DiscoverDialog(f)).show();break;case DeviceManager.statuses.connected:DeviceManager.removeAllDevices();break;default:DeviceManager.removeAllDevices(),(new DiscoverDialog(f)).show()}},!0);a.fileBn=new FBFileNameDisplay;c=a.fileBn.H+
a.fileBn.r;a.recenterBn=new Button(a.width-c+a.fileBn.r,a.height+2*a.fileBn.margin+a.fileBn.H,c,a.fileBn.H-a.fileBn.margin,b,a.fileBn.bgColor,a.fileBn.r,a.fileBn.r);a.recenterBn.addColorIcon(VectorPaths.faCrosshairs,.5*a.bnIconH,Colors.bbtDarkGray);a.recenterBn.setCallbackFunction(function(){TabManager.activeTab.recenter()})}else a.flagBn=new Button(a.flagBnX,a.buttonMargin,a.buttonW,a.buttonH,b),a.flagBn.addColorIcon(VectorPaths.flag,a.bnIconH,a.flagFill),a.flagBn.setCallbackFunction(CodeManager.eventFlagClicked,
!1),a.stopBn=new Button(a.stopBnX,a.buttonMargin,a.buttonW,a.buttonH,b),a.stopBn.addColorIcon(VectorPaths.stop,a.bnIconH,a.stopFill),a.stopBn.setCallbackFunction(CodeManager.stop,!1),a.batteryBn=new Button(a.batteryBnX,a.buttonMargin,a.buttonW,a.buttonH,b),a.batteryBn.addColorIcon(VectorPaths.battery,a.bnIconH,a.batteryFill),a.batteryMenu=new BatteryMenu(a.batteryBn),a.hummingbirdBn=new Button(a.hummingbirdBnX,a.buttonMargin,a.longButtonW,a.buttonH,b),a.hummingbirdBn.addIcon(VectorPaths.connect,.8*
a.bnIconH,2*a.buttonMargin),a.hummingbirdMenu=new DeviceMenu(a.hummingbirdBn),a.deviceStatusLight=new DeviceStatusLight(a.statusX,a.height/2,b,DeviceManager),a.fileBn=new Button(a.fileBnX,a.buttonMargin,a.buttonW,a.buttonH,b),a.fileBn.addIcon(VectorPaths.file,a.bnIconH),a.fileBn.setCallbackFunction(OpenDialog.closeFileAndShowDialog,!0),a.viewBn=new Button(a.viewBnX,a.buttonMargin,a.buttonW,a.buttonH,b),a.viewBn.addIcon(VectorPaths.settings,a.bnIconH),a.viewMenu=new SettingsMenu(a.viewBn),a.viewBn.setLongTouchFunction(function(){GuiElements.alert("Long touch");
a.viewMenu.reloadAdvanced()}),a.undoButton=new Button(a.undoBnX,a.buttonMargin,a.buttonW,a.buttonH,b),a.undoButton.addIcon(VectorPaths.undoDelete,.9*a.bnIconH),UndoManager.setUndoButton(a.undoButton);a.debugBn=null;a.debugEnabled&&a.enableDebug()};
TitleBar.removeButtons=function(){let a=TitleBar;a.flagBn.remove();a.stopBn.remove();a.fileBn.remove();a.undoButton.remove();FinchBlox?(a.finchButton.remove(),Hatchling||a.levelButton.remove()):(a.viewBn.remove(),a.hummingbirdBn.remove(),a.batteryBn.remove(),a.deviceStatusLight.remove());null!=a.debugBn&&a.debugBn.remove();null!=a.showHideBn&&a.showHideBn.remove()};TitleBar.makeTitleText=function(){const a=TitleBar;a.titleLabel=GuiElements.draw.text(0,0,"",a.font,a.titleColor);GuiElements.layers.titlebar.appendChild(a.titleLabel)};
TitleBar.setText=function(a){const b=TitleBar;null==a?a=b.prevTitleText:b.prevTitleText=a;b.titleText=a;TitleBar.updateText()};
TitleBar.updateText=function(){let a=TitleBar;if(GuiElements.width<2*BlockPalette.width)a.titleTextVisble&&(a.titleLabel.remove(),a.titleTextVisble=!1);else{a.titleTextVisble||(GuiElements.layers.titlebar.appendChild(a.titleLabel),a.titleTextVisble=!0);GuiElements.update.textLimitWidth(a.titleLabel,a.titleText,a.titleWidth);let b=GuiElements.measure.textWidth(a.titleLabel),c=GuiElements.width/2-b/2,d=a.height/2+a.font.charHeight/2;c<a.titleLeftX?c=a.titleLeftX:c+b>a.titleRightX&&(c=a.titleRightX-
b);GuiElements.move.text(a.titleLabel,c,d)}};TitleBar.enableDebug=function(){const a=TitleBar;a.debugEnabled=!0;const b=GuiElements.layers.titlebar;null==a.debugBn&&(a.debugBn=new Button(a.debugX,a.buttonMargin,a.longButtonW,a.buttonH,b),a.debugBn.addText("Debug"),a.debugMenu=new DebugMenu(a.debugBn))};TitleBar.hideDebug=function(){TitleBar.debugEnabled=!1;TitleBar.debugBn.remove();TitleBar.debugBn=null};TitleBar.updateZoomPart1=function(){TitleBar.setGraphicsPart1()};
TitleBar.updateZoomPart2=function(){let a=TitleBar;var b=!1;FinchBlox||(b=a.viewBn.toggled);a.setGraphicsPart2();FinchBlox?(GuiElements.update.rect(a.bgRect,0,0,a.width,a.solidHeight),a.updateShapePath()):GuiElements.update.rect(a.bgRect,0,0,a.width,a.height);a.removeButtons();a.makeButtons();!FinchBlox&&b&&(a.viewBn.press(),a.viewBn.release());a.updateText()};TitleBar.isStackOverTitleBar=function(a,b){const c=TitleBar;return CodeManager.move.pInRange(a,b,0,0,c.width,c.height)};
TitleBar.flashFinchButton=function(){const a=TitleBar.finchButton;null!=a&&new HelpingHand(a)};function BlockPalette(){BlockPalette.categories=[];BlockPalette.selectedCat=null;BlockPalette.createCatBg();BlockPalette.createPalBg();BlockPalette.createCategories();BlockPalette.selectFirstCat();BlockPalette.visible=!0;BlockPalette.trash=null;GuiElements.paletteLayersVisible&&"true"!==SettingsManager.sideBarVisible.getValue()&&GuiElements.hidePaletteLayers(!0)}
BlockPalette.setGraphics=function(){BlockPalette.mainVMargin=10;BlockPalette.mainHMargin=Button.defaultMargin;BlockPalette.sectionMargin=10;BlockPalette.insideBnH=38;BlockPalette.insideBnW=150;BlockPalette.catVMargin=Button.defaultMargin;BlockPalette.catHMargin=Button.defaultMargin;FinchBlox?(BlockPalette.width=GuiElements.width,BlockPalette.height=90,BlockPalette.y=GuiElements.height-BlockPalette.height,BlockPalette.bg=Colors.bbtDarkGray,BlockPalette.catW=300,BlockPalette.catX=GuiElements.width/
2-BlockPalette.catW/2,BlockPalette.catH=40,BlockPalette.catY=BlockPalette.y-BlockPalette.catH,BlockPalette.blockMargin=35,BlockPalette.trashHeight=.75*BlockPalette.height,BlockPalette.trashIconVP=VectorPaths.faTrash,BlockPalette.trashOpacity=.9,BlockPalette.trashColor=Colors.easternBlue,BlockPalette.blockButtonOverhang=10):(BlockPalette.width=253,BlockPalette.catY=TitleBar.height,BlockPalette.catH=90+3*BlockPalette.catVMargin,BlockPalette.height=GuiElements.height-TitleBar.height-BlockPalette.catH,
BlockPalette.y=BlockPalette.catY+BlockPalette.catH,BlockPalette.bg=Colors.white,BlockPalette.catW=BlockPalette.width,BlockPalette.catX=0,BlockPalette.blockMargin=5,BlockPalette.trashHeight=120,BlockPalette.trashIconVP=VectorPaths.trash,BlockPalette.trashOpacity=.8,BlockPalette.trashColor=Colors.black);BlockPalette.catBg=Colors.white;BlockPalette.labelFont=Font.uiFont(13);BlockPalette.labelColor=Colors.black};
BlockPalette.updateZoom=function(){var a=BlockPalette;a.setGraphics();GuiElements.update.rect(a.palRect,0,a.y,a.width,a.height);FinchBlox?(a.updatePath(),GuiElements.update.rect(a.catRect,0,a.catY,0,a.catH)):GuiElements.update.rect(a.catRect,0,a.catY,a.width,a.catH);GuiElements.move.group(GuiElements.layers.categories,a.catX,a.catY);for(a=0;a<BlockPalette.categories.length;a++)BlockPalette.categories[a].updateZoom()};
BlockPalette.createCatBg=function(){let a=BlockPalette,b=a.catW;FinchBlox&&(b=0);a.catRect=GuiElements.draw.rect(a.catX,a.catY,b,a.catH,a.catBg);GuiElements.layers.catBg.appendChild(a.catRect);GuiElements.move.group(GuiElements.layers.categories,a.catX,a.catY)};
BlockPalette.createPalBg=function(){let a=BlockPalette;a.palRect=GuiElements.draw.rect(0,a.y,a.width,a.height,a.bg);GuiElements.layers.paletteBG.appendChild(a.palRect);FinchBlox&&(a.shape=GuiElements.create.path(GuiElements.layers.paletteBG),a.shape.setAttributeNS(null,"fill",a.bg),BlockPalette.updatePath())};
BlockPalette.updatePath=function(){let a=BlockPalette;const b=(a.width-a.catW)/2-2*a.catHMargin-20,c=a.catW+4*a.catHMargin;var d="m 0,"+(a.y-20);d+=" l "+b+",0  a 10 10 0 0 1 10 10 a 10 10 0 0 0 10 10";d+=" l "+c+",0 ";d+=" a 10 10 0 0 0 10 -10";d+=" a 10 10 0 0 1 10 -10";d+=" l "+b+",0 0,"+(20+a.height)+" "+-a.width+",0";d+=" z";a.shape.setAttributeNS(null,"d",d)};
BlockPalette.updatePaletteColor=function(a){GuiElements.update.color(BlockPalette.palRect,a);GuiElements.update.color(BlockPalette.shape,a)};
BlockPalette.createCategories=function(){const a=BlockList.catCount();if(FinchBlox){var b=BlockPalette.catW/2-1.5*CategoryBN.width-CategoryBN.hMargin;Hatchling&&(b=BlockPalette.catW/2-2.5*CategoryBN.width-2*CategoryBN.hMargin);for(var c=0;c<a;c++){var d=new Category(b,0,BlockList.getCatName(c),BlockList.getCatId(c));BlockPalette.categories.push(d);b=2!=c||Hatchling?5!=c||Hatchling?b+(CategoryBN.width+CategoryBN.hMargin):BlockPalette.catW/2-2*CategoryBN.width-1.5*CategoryBN.hMargin:BlockPalette.catW/
2-1.5*CategoryBN.width-CategoryBN.hMargin}}else{b=Math.ceil(a/2);c=BlockPalette.catHMargin+CategoryBN.hMargin+CategoryBN.width;d=!0;let e=BlockPalette.catVMargin,f=BlockPalette.catHMargin,g=0;for(let h=0;h<a;h++){d&&g>=b&&(f=c,d=!1,e=BlockPalette.catVMargin);const k=new Category(f,e,BlockList.getCatName(h),BlockList.getCatId(h));BlockPalette.categories.push(k);g++;e+=CategoryBN.height+CategoryBN.vMargin}}};BlockPalette.getCategory=function(a){let b=0;for(;BlockPalette.categories[b].id!==a;)b++;return BlockPalette.categories[b]};
BlockPalette.selectFirstCat=function(){BlockPalette.categories[0].select()};BlockPalette.isStackOverPalette=function(a,b){const c=BlockPalette;return GuiElements.paletteLayersVisible?CodeManager.move.pInRange(a,b,0,c.catY,c.width,GuiElements.height-TitleBar.height):!1};
BlockPalette.showTrash=function(){let a=BlockPalette;if(!a.trash){a.trash=GuiElements.create.group(0,0);var b=GuiElements.draw.rect(0,a.y,a.width,a.height,a.bg);GuiElements.update.opacity(b,a.trashOpacity);a.trash.appendChild(b);b=VectorIcon.computeWidth(a.trashIconVP,a.trashHeight);new VectorIcon(a.width/2-b/2,a.y+a.height/2-a.trashHeight/2,a.trashIconVP,a.trashColor,a.trashHeight,a.trash);GuiElements.layers.trash.appendChild(a.trash)}};
BlockPalette.hideTrash=function(){let a=BlockPalette;a.trash&&(a.trash.remove(),a.trash=null)};BlockPalette.setSuggestedCollapse=function(a,b){BlockPalette.passRecursively("setSuggestedCollapse",a,b)};BlockPalette.markOpen=function(){BlockPalette.passRecursively("markOpen")};BlockPalette.passRecursivelyDown=function(a){Array.prototype.unshift.call(arguments,"passRecursivelyDown");BlockPalette.passRecursively.apply(BlockPalette,arguments)};
BlockPalette.passRecursively=function(a){const b=Array.prototype.slice.call(arguments,1);BlockPalette.categories.forEach(function(c){c[a].apply(c,b)})};BlockPalette.refresh=function(){BlockPalette.categories.forEach(function(a){a.refreshGroup()})};BlockPalette.setLevel=function(){BlockPalette.categories.forEach(function(a){a.button.setHidden()});switch(LevelManager.currentLevel){case 1:BlockPalette.getCategory("motion_1").select();break;case 2:BlockPalette.getCategory("motion_2").select();break;case 3:BlockPalette.getCategory("motion_3").select()}};
function DisplayStack(a,b,c){this.isDisplayStack=!0;this.firstBlock=a;this.returnType=a.returnType;this.x=a.getAbsX();this.y=a.getAbsY();this.group=GuiElements.create.group(this.x,this.y,b);this.category=c;this.firstBlock.changeStack(this);this.dim={};this.dim.cw=0;this.dim.ch=0;this.dim.rw=0;this.dim.rh=0;this.updateDim();this.isRunning=!1;this.zoom=1;this.move(this.x,this.y);this.updateTimer=null;Hatchling&&(null==DisplayStack.count&&(DisplayStack.count=0),this.mbId="ds"+DisplayStack.count,DisplayStack.count++)}
DisplayStack.prototype.updateGlowForMicroBlocks=function(){let a=mbRuntime.lookupChunkID(this.firstBlock);console.log("update called for chunkID "+a);mbRuntime.chunkRunning[a]?this.firstBlock.glow():this.firstBlock.stopGlow()};
DisplayStack.prototype.updateDim=function(){this.dim.cAssigned=!1;this.dim.rAssigned=!1;this.firstBlock.updateDim();this.firstBlock.updateAlign(0,0);this.dim.cx1=this.firstBlock.x;this.dim.cy1=this.firstBlock.y;this.dim.cx2=this.dim.cx1;this.dim.cy2=this.dim.cy1;this.dim.rx1=0;this.dim.ry1=0;this.dim.rx2=0;this.dim.ry2=0;this.firstBlock.updateStackDim();this.dim.cw=this.dim.cx2-this.dim.cx1;this.dim.ch=this.dim.cy2-this.dim.cy1;this.dim.rw=this.dim.rx2-this.dim.rx1;this.dim.rh=this.dim.ry2-this.dim.ry1;
this.dim.cx1=this.relToAbsX(this.dim.cx1);this.dim.cy1=this.relToAbsY(this.dim.cy1);this.dim.rx1=this.relToAbsX(this.dim.rx1);this.dim.ry1=this.relToAbsY(this.dim.ry1);this.category.updateWidth()};DisplayStack.prototype.relToAbsX=function(a){return this.category.relToAbsX(a+this.x)};DisplayStack.prototype.relToAbsY=function(a){return this.category.relToAbsY(a+this.y)};DisplayStack.prototype.absToRelX=function(a){return this.category.absToRelX(a)-this.x};
DisplayStack.prototype.absToRelY=function(a){return this.category.absToRelY(a)-this.y};DisplayStack.prototype.getAbsX=function(){return this.relToAbsX(0)};DisplayStack.prototype.getAbsY=function(){return this.relToAbsY(0)};DisplayStack.prototype.move=function(a,b){this.x=a;this.y=b;FinchBlox&&5==this.firstBlock.type?(this.zoom=.85,GuiElements.move.group(this.group,a,b+this.firstBlock.height*(1-this.zoom),this.zoom)):GuiElements.move.group(this.group,a,b)};
DisplayStack.prototype.stop=function(){this.isRunning&&(this.firstBlock.stop(),this.endRun())};DisplayStack.prototype.updateRun=function(){if(this.isRunning){if(this.returnType===Block.returnTypes.none){if(this.firstBlock.updateRun().isRunning())return new ExecutionStatusRunning;this.endRun();return new ExecutionStatusDone}let a=this.firstBlock.updateRun();if(a.isRunning())return new ExecutionStatusRunning;a.hasError()||this.firstBlock.displayResult(a.getResult());this.endRun()}return new ExecutionStatusDone};
DisplayStack.prototype.startRun=function(){this.isRunning||(this.isRunning=!0,this.firstBlock.glow(),this.updateTimer=self.setInterval(function(){this.updateRun()}.bind(this),CodeManager.updateInterval),Hatchling&&(mbRuntime.isRunning(this.firstBlock)?mbRuntime.stopRunningChunk(mbRuntime.lookupChunkID(this.firstBlock)):mbRuntime.evalOnBoard(this.firstBlock)))};DisplayStack.prototype.endRun=function(){this.isRunning=!1;this.firstBlock.stopGlow();window.clearInterval(this.updateTimer)};
DisplayStack.prototype.duplicate=function(a,b){var c=TabManager.activeTab;a=this.firstBlock.duplicate(a,b);c=new BlockStack(a,c);Hatchling&&(HL_Utils.findPorts(a),a.updateBlockType&&(a.updateBlockType(this.firstBlock.portType),a.updateActive()));return c};DisplayStack.prototype.remove=function(){this.group.remove()};DisplayStack.prototype.hideDeviceDropDowns=function(a){this.updateDim()};DisplayStack.prototype.showDeviceDropDowns=function(a){this.updateDim()};
DisplayStack.prototype.passRecursivelyDown=function(a){const b=a;let c=Array.prototype.slice.call(arguments,1);Array.prototype.unshift.call(arguments,"passRecursivelyDown");this.passRecursively.apply(this,arguments);"showDeviceDropDowns"===b&&null!=this.showDeviceDropDowns&&this.showDeviceDropDowns.apply(this,c);"hideDeviceDropDowns"===b&&null!=this.hideDeviceDropDowns&&this.hideDeviceDropDowns.apply(this,c);"updateGlowForMicroBlocks"==b&&this.updateGlowForMicroBlocks()};
DisplayStack.prototype.passRecursively=function(a){let b=Array.prototype.slice.call(arguments,1);this.firstBlock[a].apply(this.firstBlock,b)};function CategoryBN(a,b,c){this.x=a;this.y=b;this.category=c;this.text=this.category.name;this.catId=this.category.id;this.fill=FinchBlox?Colors.getColor(this.catId):Colors.getGradient(this.catId);this.buildGraphics();FinchBlox&&!Hatchling&&this.setHidden()}
CategoryBN.setGraphics=function(){const a=BlockPalette,b=CategoryBN;b.bg=Colors.white;b.font=Font.uiFont(15);b.foreground=Colors.black;b.colorW=8;b.labelLMargin=6;if(FinchBlox)b.hMargin=a.catHMargin,b.height=a.catH,b.selectedH=a.catH+10,b.iconScale=.65,b.width=60,b.vMargin=15,b.labelX=b.colorW+b.labelLMargin,b.labelY=(b.height+b.font.charHeight)/2,b.cornerRadius=8;else{b.hMargin=a.catHMargin;b.height=30;b.width=(a.width-2*a.catHMargin-b.hMargin)/2;const c=Math.ceil(BlockList.catCount()/2);b.vMargin=
(a.catH-a.catVMargin-c*b.height)/(c-1);b.labelX=b.colorW+b.labelLMargin;b.labelY=(b.height+b.font.charHeight)/2}};
CategoryBN.prototype.buildGraphics=function(){const a=CategoryBN;this.group=GuiElements.create.group(this.x,this.y,GuiElements.layers.categories);this.bgRect=FinchBlox?GuiElements.draw.tab(0,0,a.width,a.height,this.fill,a.cornerRadius):GuiElements.draw.rect(0,0,a.width,a.height,a.bg);this.group.appendChild(this.bgRect);if(FinchBlox){let b=VectorPaths.categoryIcons[this.catId],c=a.height*a.iconScale,d=VectorIcon.computeWidth(b,c);this.icon=new VectorIcon((a.width-d)/2,(a.height-c)/2,b,Button.foreground,
c,this.group,!1);b==VectorPaths.microbit&&(this.icon.setColor(Colors.bbtDarkGray),this.icon.addBackgroundRect());this.label=this.icon.pathE}else this.colorRect=GuiElements.draw.rect(0,0,a.colorW,a.height,this.fill),this.label=GuiElements.draw.text(a.labelX,a.labelY,this.text,a.font,a.foreground);FinchBlox||(this.group.appendChild(this.colorRect),this.group.appendChild(this.label));GuiElements.layers.categories.appendChild(this.group);this.addListeners()};
CategoryBN.prototype.select=function(){if(FinchBlox){GuiElements.move.group(this.group,this.x,this.y+(CategoryBN.height-CategoryBN.selectedH));GuiElements.update.tab(this.bgRect,0,0,CategoryBN.width,CategoryBN.selectedH,CategoryBN.cornerRadius);BlockPalette.updatePaletteColor(Colors.blockPalette[this.catId]);let a=CategoryBN.selectedH*CategoryBN.iconScale,b=VectorIcon.computeWidth(VectorPaths.categoryIcons[this.catId],a);this.icon.update((CategoryBN.width-b)/2,(CategoryBN.selectedH-a)/2,a)}else this.bgRect.setAttributeNS(null,
"fill",this.fill),this.label.setAttributeNS(null,"fill",Colors.white)};
CategoryBN.prototype.deselect=function(){if(FinchBlox){GuiElements.move.group(this.group,this.x,this.y);GuiElements.update.tab(this.bgRect,0,0,CategoryBN.width,CategoryBN.height,CategoryBN.cornerRadius);let a=CategoryBN.height*CategoryBN.iconScale,b=VectorIcon.computeWidth(VectorPaths.categoryIcons[this.catId],a);this.icon.update((CategoryBN.width-b)/2,(CategoryBN.height-a)/2,a)}else this.bgRect.setAttributeNS(null,"fill",CategoryBN.bg),this.label.setAttributeNS(null,"fill",Colors.black)};
CategoryBN.prototype.addListeners=function(){const a=this.category;TouchReceiver.addListenersCat(this.bgRect,a);FinchBlox?this.icon.bgRect&&TouchReceiver.addListenersCat(this.icon.bgRect,a):TouchReceiver.addListenersCat(this.colorRect,a);TouchReceiver.addListenersCat(this.label,a)};
CategoryBN.prototype.setHidden=function(){const a=this.category.level;a!=LevelManager.currentLevel&&null!=this.group.parentNode?this.group.parentNode.removeChild(this.group):a==LevelManager.currentLevel&&null==this.group.parentNode&&GuiElements.layers.categories.appendChild(this.group)};
function Category(a,b,c,d){this.buttonX=a;this.buttonY=b;this.id=d;this.name=c;this.x=BlockPalette.catX;this.y=BlockPalette.catY+BlockPalette.catH;this.level=4;a=parseInt(this.id.split("_").pop());isNaN(a)||(this.level=a);this.group=GuiElements.create.group(0,0);this.smoothScrollBox=new SmoothScrollBox(this.group,GuiElements.layers.paletteScroll,0,BlockPalette.y,BlockPalette.width,BlockPalette.height,0,0);this.button=new CategoryBN(this.buttonX,this.buttonY,this);Language.isRTL&&this.group.parentNode.parentNode.setAttribute("style",
"position: absolute; left: 0px;");this.prepareToFill();this.fillGroup()}Category.prototype.prepareToFill=function(){this.blocks=[];this.displayStacks=[];this.buttons=[];this.labels=[];this.collapsibleSets=[];this.buttonsThatRequireFiles=[];this.currentBlockX=BlockPalette.mainHMargin;this.currentBlockY=BlockPalette.mainVMargin;this.finalized=this.lastHadStud=!1};Category.prototype.fillGroup=function(){DebugOptions.assert(!this.finalized);BlockList["populateCat_"+this.id](this);this.finalize()};
Category.prototype.clearGroup=function(){this.displayStacks.forEach(function(a){a.remove()});this.buttons.forEach(function(a){a.remove()});this.labels.forEach(function(a){a.remove()});this.collapsibleSets.forEach(function(a){a.remove()})};Category.prototype.refreshGroup=function(){this.clearGroup();this.prepareToFill();this.fillGroup()};
Category.prototype.finalize=function(){DebugOptions.assert(!this.finalized);this.finalized=!0;this.height=FinchBlox?this.maxBlockHeight+BlockPalette.blockButtonOverhang+BlockPalette.mainVMargin:this.currentBlockY;this.updateWidth()};Category.prototype.addBlockByName=function(a){DebugOptions.assert(!this.finalized);a=new window[a](this.currentBlockX,this.currentBlockY);this.addBlock(a)};
Category.prototype.addVariableBlock=function(a){DebugOptions.assert(!this.finalized);a=new B_Variable(this.currentBlockX,this.currentBlockY,a);this.addBlock(a)};Category.prototype.addListBlock=function(a){DebugOptions.assert(!this.finalized);a=new B_List(this.currentBlockX,this.currentBlockY,a);this.addBlock(a)};
Category.prototype.addBlock=function(a){DebugOptions.assert(!this.finalized);this.blocks.push(a);this.lastHadStud&&!a.topOpen&&(this.currentBlockY+=BlockGraphics.command.bumpDepth,a.move(this.currentBlockX,this.currentBlockY));a.hasHat&&!FinchBlox&&(this.currentBlockY+=BlockGraphics.hat.hatHEstimate,a.move(this.currentBlockX,this.currentBlockY));const b=new DisplayStack(a,this.group,this);this.displayStacks.push(b);if(FinchBlox){if(this.currentBlockX+=b.firstBlock.width*b.zoom,this.currentBlockX+=
BlockPalette.blockMargin,null==this.maxBlockHeight||this.maxBlockHeight<b.firstBlock.height)this.maxBlockHeight=b.firstBlock.height}else this.currentBlockY+=b.firstBlock.height,this.currentBlockY+=BlockPalette.blockMargin,this.lastHadStud=a.bottomOpen};
Category.prototype.addCollapsibleSet=function(a){DebugOptions.assert(!this.finalized);a=new CollapsibleSet(this.currentBlockY,a,this,this.group);this.collapsibleSets.push(a);this.lastHadStud=!1;this.currentBlockY+=a.height;this.currentBlockY+=BlockPalette.blockMargin;return a};Category.prototype.addSpace=function(){DebugOptions.assert(!this.finalized);this.currentBlockY+=BlockPalette.sectionMargin};
Category.prototype.addButton=function(a,b,c){DebugOptions.assert(!this.finalized);null==c&&(c=!1);var d=BlockPalette.insideBnW;const e=BlockPalette.insideBnH;this.lastHadStud&&(this.currentBlockY+=BlockGraphics.command.bumpDepth);d=new Button(this.currentBlockX,this.currentBlockY,d,e,this.group);d.addText(a);d.setCallbackFunction(b,!0);this.currentBlockY+=e;this.currentBlockY+=BlockPalette.blockMargin;this.buttons.push(d);this.lastHadStud=!1;c&&(SaveManager.fileIsOpen()||d.disable(),this.buttonsThatRequireFiles.push(d));
return d};Category.prototype.addLabel=function(a){DebugOptions.assert(!this.finalized);var b=BlockPalette;const c=this.currentBlockX,d=this.currentBlockY;a=GuiElements.draw.text(c,d,a,b.labelFont,b.labelColor);this.group.appendChild(a);this.labels.push(a);b=GuiElements.measure.textHeight(a);GuiElements.move.element(a,c,d+b);this.currentBlockY+=b;this.currentBlockY+=BlockPalette.blockMargin;this.lastHadStud=!1};
Category.prototype.trimBottom=function(){DebugOptions.assert(!this.finalized);this.lastHadStud&&(this.currentBlockY+=BlockGraphics.command.bumpDepth);this.currentBlockY-=BlockPalette.blockMargin;this.currentBlockY+=BlockPalette.mainVMargin};Category.prototype.centerBlocks=function(){this.computeWidth();this.smoothScrollBox.move((BlockPalette.width-this.width)/2,BlockPalette.y)};
Category.prototype.select=function(){BlockPalette.selectedCat!==this&&(null!=BlockPalette.selectedCat&&BlockPalette.selectedCat.deselect(),BlockPalette.selectedCat=this,this.button.select(),this.smoothScrollBox.show())};Category.prototype.deselect=function(){BlockPalette.selectedCat=null;this.smoothScrollBox.hide();this.button.deselect()};
Category.prototype.computeWidth=function(){if(FinchBlox){var a=BlockPalette.blockMargin*(this.blocks.length-1);for(var b=0;b<this.blocks.length;b++)a+=this.blocks[b].width;this.width=a+=2*BlockPalette.mainHMargin}else{let c=0;for(a=0;a<this.blocks.length;a++)b=this.blocks[a].width,b>c&&(c=b);this.collapsibleSets.forEach(function(d){c=Math.max(d.width,c)});this.width=Math.max(c+2*BlockPalette.mainHMargin,BlockPalette.width)}};
Category.prototype.updateWidth=function(){this.finalized&&(this.computeWidth(),this.smoothScrollBox.setContentDims(this.width,this.height))};Category.prototype.updateDimSet=function(){if(this.finalized){this.computeWidth();var a=BlockPalette.mainVMargin;this.collapsibleSets.forEach(function(b){a+=b.height;a+=BlockPalette.blockMargin});a-=BlockPalette.blockMargin;this.height=a+=BlockPalette.mainVMargin;this.smoothScrollBox.setContentDims(this.width,this.height)}};Category.prototype.markOpen=function(){this.buttonsThatRequireFiles.forEach(function(a){a.enable()})};
Category.prototype.relToAbsX=function(a){return this.finalized?this.smoothScrollBox.relToAbsX(a):a};Category.prototype.relToAbsY=function(a){return this.finalized?this.smoothScrollBox.relToAbsY(a):a};Category.prototype.absToRelX=function(a){return this.finalized?this.smoothScrollBox.absToRelX(a):a};Category.prototype.absToRelY=function(a){return this.finalized?this.smoothScrollBox.absToRelY(a):a};Category.prototype.getAbsX=function(){return this.relToAbsX(0)};Category.prototype.getAbsY=function(){return this.relToAbsY(0)};
Category.prototype.passRecursivelyDown=function(a){Array.prototype.unshift.call(arguments,"passRecursivelyDown");this.passRecursively.apply(this,arguments)};Category.prototype.passRecursively=function(a){const b=Array.prototype.slice.call(arguments,1);this.displayStacks.forEach(function(c){c[a].apply(c,b)});this.collapsibleSets.forEach(function(c){c[a].apply(c,b)})};
Category.prototype.updateZoom=function(){this.finalized&&(FinchBlox?this.smoothScrollBox.move((BlockPalette.width-this.width)/2,BlockPalette.y):this.smoothScrollBox.move(0,BlockPalette.y),this.smoothScrollBox.updateZoom(),this.smoothScrollBox.setDims(BlockPalette.width,BlockPalette.height))};Category.prototype.setSuggestedCollapse=function(a,b){this.collapsibleSets.forEach(function(c){c.setSuggestedCollapse(a,b)})};
function CollapsibleSet(a,b,c,d){this.y=a;this.category=c;this.group=d;this.collapsibleItems=[];b.forEach(function(e){this.collapsibleItems.push(new CollapsibleItem(e.name,e.id,this,d))}.bind(this));this.updateDimAlign()}CollapsibleSet.setConstants=function(){CollapsibleSet.itemMargin=0};CollapsibleSet.prototype.getItem=function(a){return this.collapsibleItems[a]};CollapsibleSet.prototype.findItem=function(a){const b=this.collapsibleItems;for(let c=0;c<b.length;c++)if(b[c].id===a)return c;DebugOptions.throw("Collapsible item not found.")};
CollapsibleSet.prototype.expand=function(a){this.collapsibleItems[a].expand();this.updateDimAlign()};CollapsibleSet.prototype.collapse=function(a){this.collapsibleItems[a].collapse();this.updateDimAlign()};CollapsibleSet.prototype.updateDimAlign=function(){const a=CollapsibleSet;let b=this.y,c=0;this.collapsibleItems.forEach(function(d){b+=d.updateDimAlign(b);b+=a.itemMargin;c=Math.max(c,d.getWidth())});this.height=b-=a.itemMargin;this.width=c;this.category.updateDimSet()};
CollapsibleSet.prototype.updateWidth=function(){let a=0;this.collapsibleItems.forEach(function(b){a=Math.max(a,b.getWidth())});this.width=a;this.category.updateWidth()};CollapsibleSet.prototype.remove=function(){this.collapsibleItems.forEach(function(a){a.remove()})};CollapsibleSet.prototype.stop=function(){this.passRecursively("passRecursively","stop")};CollapsibleSet.prototype.setSuggestedCollapse=function(a,b){this.passRecursively("setSuggestedCollapse",a,b)};
CollapsibleSet.prototype.passRecursivelyDown=function(a){Array.prototype.unshift.call(arguments,"passRecursivelyDown");this.passRecursively.apply(this,arguments)};CollapsibleSet.prototype.passRecursively=function(a){const b=Array.prototype.slice.call(arguments,1);this.collapsibleItems.forEach(function(c){c[a].apply(c,b)})};
function CollapsibleItem(a,b,c,d){const e=CollapsibleItem;this.x=0;this.name=a;this.id=b;this.set=c;this.group=GuiElements.create.group(0,0,d);this.innerGroup=GuiElements.create.group(0,e.hitboxHeight);this.suggestedCollapse=this.collapsed=!0;this.createLabel();this.prepareToFill()}
CollapsibleItem.setConstants=function(){const a=CollapsibleItem;a.hitboxHeight=30;a.hitboxWidth=BlockPalette.width;a.labelFont=BlockPalette.labelFont;a.labelColor=BlockPalette.labelColor;a.triBoxWidth=a.hitboxHeight;a.triangleWidth=10;a.triangleHeight=5};
CollapsibleItem.prototype.createLabel=function(){const a=CollapsibleItem;this.triE=GuiElements.create.path();GuiElements.update.color(this.triE,a.labelColor);this.updateTriangle();this.label=GuiElements.draw.text(a.triBoxWidth,(a.hitboxHeight+a.labelFont.charHeight)/2,this.name,a.labelFont,a.labelColor);this.hitboxE=GuiElements.draw.rect(0,0,a.hitboxWidth,a.hitboxHeight,a.labelColor);GuiElements.update.opacity(this.hitboxE,0);this.group.appendChild(this.label);this.group.appendChild(this.triE);this.group.appendChild(this.hitboxE);
TouchReceiver.addListenersCollapsibleItem(this.hitboxE,this)};CollapsibleItem.prototype.updateTriangle=function(){let a=!this.collapsed;const b=CollapsibleItem;let c,d;a?(c=b.triBoxWidth/2,d=(b.hitboxHeight+b.triangleHeight)/2):(c=(b.triBoxWidth+b.triangleHeight)/2,d=b.hitboxHeight/2);return GuiElements.update.triangleFromPoint(this.triE,c,d,b.triangleWidth,-b.triangleHeight,a)};
CollapsibleItem.prototype.prepareToFill=function(){this.currentBlockX=BlockPalette.mainHMargin;this.currentBlockY=BlockPalette.mainVMargin;this.blocks=[];this.displayStacks=[];this.finalized=this.lastHadStud=!1;this.buttons=[]};CollapsibleItem.prototype.finalize=function(){DebugOptions.assert(!this.finalized);this.finalized=!0;this.innerHeight=this.currentBlockY;this.updateWidth()};
CollapsibleItem.prototype.addBlockByName=function(a){DebugOptions.assert(!this.finalized);a=new window[a](this.currentBlockX,this.currentBlockY);this.addBlock(a)};
CollapsibleItem.prototype.addBlock=function(a){DebugOptions.assert(!this.finalized);this.blocks.push(a);this.lastHadStud&&!a.topOpen&&(this.currentBlockY+=BlockGraphics.command.bumpDepth,a.move(this.currentBlockX,this.currentBlockY));a.hasHat&&(this.currentBlockY+=BlockGraphics.hat.hatHEstimate,a.move(this.currentBlockX,this.currentBlockY));const b=new DisplayStack(a,this.innerGroup,this);this.displayStacks.push(b);this.currentBlockY+=b.firstBlock.height;this.currentBlockY+=BlockPalette.blockMargin;
this.lastHadStud=a.bottomOpen};CollapsibleItem.prototype.replaceBlock=function(a,b){console.log("replace block at "+a.x+","+a.y+"  "+a.stack.x+","+a.stack.y+" port "+a.port+" to "+b);const c=this.blocks.indexOf(a),d=this.displayStacks.indexOf(a.stack);b=new window[b](a.stack.x,a.stack.y,a.port);const e=new DisplayStack(b,this.innerGroup,this);a.stack.remove();-1!=c&&(this.blocks[c]=b);-1!=d&&(this.displayStacks[d]=e)};
CollapsibleItem.prototype.addSpace=function(){DebugOptions.assert(!this.finalized);this.currentBlockY+=BlockPalette.sectionMargin};
CollapsibleItem.prototype.addButton=function(a,b){DebugOptions.assert(!this.finalized);var c=BlockPalette.insideBnW;const d=BlockPalette.insideBnH;this.lastHadStud&&(this.currentBlockY+=BlockGraphics.command.bumpDepth);c=new Button(this.currentBlockX,this.currentBlockY,c,d,this.innerGroup);c.addText(a);c.setCallbackFunction(b,!0);this.currentBlockY+=d;this.currentBlockY+=BlockPalette.blockMargin;this.buttons.push(c);this.lastHadStud=!1;return c};
CollapsibleItem.prototype.trimBottom=function(){DebugOptions.assert(!this.finalized);this.lastHadStud&&(this.currentBlockY+=BlockGraphics.command.bumpDepth);this.currentBlockY-=BlockPalette.blockMargin;this.currentBlockY+=BlockPalette.mainVMargin};CollapsibleItem.prototype.updateDimAlign=function(a){this.y=a;GuiElements.move.group(this.group,this.x,this.y);return this.getHeight()};CollapsibleItem.prototype.getWidth=function(){return this.collapsed?0:this.innerWidth};
CollapsibleItem.prototype.getHeight=function(){const a=CollapsibleItem;return this.collapsed?a.hitboxHeight:a.hitboxHeight+this.innerHeight};CollapsibleItem.prototype.computeWidth=function(){let a=0;for(let b=0;b<this.blocks.length;b++){const c=this.blocks[b].width;c>a&&(a=c)}this.innerWidth=a};CollapsibleItem.prototype.collapse=function(){this.collapsed||(this.collapsed=!0,this.innerGroup.remove(),this.updateTriangle(),this.set.updateDimAlign())};
CollapsibleItem.prototype.expand=function(){this.collapsed&&(this.collapsed=!1,this.group.appendChild(this.innerGroup),this.updateTriangle(),this.set.updateDimAlign())};CollapsibleItem.prototype.updateWidth=function(){this.computeWidth();this.set.updateWidth()};CollapsibleItem.prototype.relToAbsX=function(a){return this.set.category.relToAbsX(a+this.x)};CollapsibleItem.prototype.relToAbsY=function(a){return this.set.category.relToAbsY(a+this.y+CollapsibleItem.hitboxHeight)};
CollapsibleItem.prototype.absToRelX=function(a){return this.set.category.absToRelX(a)-this.x};CollapsibleItem.prototype.absToRelY=function(a){const b=CollapsibleItem;return this.set.category.absToRelY(a)-this.y-b.hitboxHeight};CollapsibleItem.prototype.remove=function(){this.group.remove()};CollapsibleItem.prototype.toggle=function(){this.collapsed?this.expand():this.collapse()};
CollapsibleItem.prototype.setSuggestedCollapse=function(a,b){a===this.id&&b!==this.suggestedCollapse&&((this.suggestedCollapse=b)?this.collapse():this.expand())};CollapsibleItem.prototype.passRecursivelyDown=function(a){Array.prototype.unshift.call(arguments,"passRecursivelyDown");this.passRecursively.apply(this,arguments)};CollapsibleItem.prototype.passRecursively=function(a){const b=Array.prototype.slice.call(arguments,1);this.displayStacks.forEach(function(c){c[a].apply(c,b)})};
function Button(a,b,c,d,e,f,g,h){DebugOptions.validateNumbers(a,b,c,d);this.x=a;this.y=b;this.width=c;this.height=d;this.parentGroup=e;this.group=GuiElements.create.group(a,b,e);this.bg=null!=f?f:Button.bg;this.rx=g;this.ry=h;this.buildBg();this.pressed=!1;this.enabled=!0;this.iconInverts=this.textInverts=this.hasImage=this.hasIcon=this.hasText=!1;this.delayedCallback=this.callback=null;this.toggles=!1;this.disabledTapCallback=this.longTouchFunction=this.unToggleFunction=null;this.toggled=!1;this.partOfOverlay=
null;this.scrollable=!1}
Button.setGraphics=function(){Button.bg=Colors.bbt;Button.foreground=Colors.white;Button.highlightBg=Colors.white;Button.highlightFore=Colors.bbt;FinchBlox?(Button.defaultMargin=10,Button.disabledBg=Colors.darkenColor(Colors.easternBlue,.85),Button.disabledFore=Colors.darkenColor(Colors.blockPaletteMotion,.9),Hatchling&&(Button.disabledBg=Colors.darkenColor(Colors.blockPaletteControl,.85),Button.disabledFore=Colors.darkenColor(Colors.blockPaletteControl,.95))):(Button.defaultMargin=5,Button.disabledBg=
Colors.darkGray,Button.disabledFore=Colors.black);Button.defaultFont=Font.uiFont(16);Button.defaultIconH=15;Button.defaultSideMargin=10};Button.prototype.buildBg=function(){this.bgRect=GuiElements.draw.rect(0,0,this.width,this.height,this.bg,this.rx,this.ry);this.group.appendChild(this.bgRect);TouchReceiver.addListenersBN(this.bgRect,this)};
Button.prototype.addText=function(a,b,c){null==b&&(b=Button.defaultFont);null==c&&(c=Button.foreground);this.textE=this.makeText(a,b,c);a=GuiElements.measure.textWidth(this.textE);GuiElements.move.text(this.textE,(this.width-a)/2,(this.height+b.charHeight)/2);this.hasText=!0;TouchReceiver.addListenersBN(this.textE,this)};
Button.prototype.makeText=function(a,b,c){DebugOptions.validateNonNull(a);this.removeContent();this.textInverts=!0;b=GuiElements.draw.text(0,0,"",b,c);GuiElements.update.textLimitWidth(b,a,this.width);this.group.appendChild(b);return b};
Button.prototype.addMultiText=function(a,b,c){if(null!=this.textEs)for(var d=0;d<this.textEs.length;d++)this.textEs[d].remove();this.textEs=[];for(d=0;d<a.length;d++){this.textEs.push(this.makeText(a[d],b,c));const e=GuiElements.measure.textWidth(this.textEs[d]);GuiElements.move.text(this.textEs[d],(this.width-e)/2,(d+1)/(a.length+1)*this.height+b.charHeight/2);TouchReceiver.addListenersBN(this.textEs[d],this)}};
Button.prototype.addIcon=function(a,b,c,d,e){null==b&&(b=Button.defaultIconH);null==c&&(c=0);this.removeContent();this.iconInverts=this.hasIcon=!0;const f=VectorIcon.computeWidth(a,b);this.icon=new VectorIcon(c+(this.width-f)/2,(this.height-b)/2,a,Button.foreground,b,this.group,d,e);TouchReceiver.addListenersBN(this.icon.pathE,this)};
Button.prototype.addCenteredTextAndIcon=function(a,b,c,d,e,f){this.removeContent();null==f&&(f=Button.foreground,this.iconInverts=this.textInverts=!0);null==e&&(e=Button.defaultFont);null==b&&(b=Button.defaultIconH);null==c&&(c=Button.defaultSideMargin);this.hasText=this.hasIcon=!0;const g=VectorIcon.computeWidth(a,b);this.textE=GuiElements.draw.text(0,0,"",e,f);GuiElements.update.textLimitWidth(this.textE,d,this.width-g-c);this.group.appendChild(this.textE);d=GuiElements.measure.textWidth(this.textE);
d=(this.width-(d+g+c))/2;const h=(this.height-b)/2;GuiElements.move.text(this.textE,d+g+c,(this.height+e.charHeight)/2);TouchReceiver.addListenersBN(this.textE,this);this.icon=new VectorIcon(d,h,a,f,b,this.group);TouchReceiver.addListenersBN(this.icon.pathE,this)};
Button.prototype.addSideTextAndIcon=function(a,b,c,d,e,f,g,h){this.removeContent();null==e&&(e=this.currentForeground(),this.textInverts=!0);null==f&&(f=this.currentForeground(),this.iconInverts=!0);null==d&&(d=Button.defaultFont);null==b&&(b=Button.defaultIconH);null==g&&(g=!0);null==h&&(h=!0);this.hasText=this.hasIcon=!0;const k=(this.height-b)/2,l=VectorIcon.computeWidth(a,b);this.textE=GuiElements.draw.text(0,0,"",d,e);GuiElements.update.textLimitWidth(this.textE,c,this.width-l-3*k);this.group.appendChild(this.textE);
c=GuiElements.measure.textWidth(this.textE);e=g?k:this.width-l-k;const m=(this.height-b)/2;h=h?g?(e+l+this.width-c)/2:(this.width-c-l-k)/2:(this.width-c)/2;h=g?Math.max(h,e+l+k):Math.min(h,e-c-k);GuiElements.move.text(this.textE,h,(this.height+d.charHeight)/2);TouchReceiver.addListenersBN(this.textE,this);this.icon=new VectorIcon(e,m,a,f,b,this.group);TouchReceiver.addListenersBN(this.icon.pathE,this)};
Button.prototype.addDeviceInfo=function(a){const b=Colors.flagGreen,c=Colors.bbtDarkGray,d=Button.defaultFont,e=Font.secondaryUiFont(16),f=VectorPaths.faPlusCircle,g=.6*this.height;var h=VectorIcon.computeWidth(f,g);const k=(this.height-g)/2;h=this.width-h-k;const l=(this.height+d.charHeight)/2;this.removeContent();Hatchling?(this.hatchGroup=GuiElements.create.group(l,k,this.group),this.eggIcon=new VectorIcon(0,.1*-this.height,VectorPaths.faEgg,Colors.iron,.8*this.height,this.hatchGroup,null,90),
this.hatchIcon=GuiElements.draw.hatchlingPattern(this.hatchGroup,g,a.getHatchlingCode()),this.textE=GuiElements.draw.text(2*l,l,a.shortName,d,b)):this.textE=GuiElements.draw.text(l,l,a.shortName,d,b);this.group.appendChild(this.textE);this.textE2=GuiElements.draw.text(3*this.height,l,a.name,e,c);this.group.appendChild(this.textE2);this.icon=new VectorIcon(h,k,f,b,g,this.group);this.hasText=!0;TouchReceiver.addListenersBN(this.textE,this);TouchReceiver.addListenersBN(this.textE2,this);TouchReceiver.addListenersBN(this.icon.pathE,
this)};Button.prototype.addImage=function(a,b){this.removeContent();const c=a.width/a.height*b;this.imageE=GuiElements.draw.image(a.lightName,(this.width-c)/2,(this.height-b)/2,c,b,this.group);this.imageData=a;this.hasImage=!0;TouchReceiver.addListenersBN(this.imageE,this)};
Button.prototype.addColorIcon=function(a,b,c){this.removeContent();this.hasIcon=!0;this.iconInverts=!1;this.iconColor=c;const d=VectorIcon.computeWidth(a,b);this.icon=new VectorIcon((this.width-d)/2,(this.height-b)/2,a,c,b,this.group);TouchReceiver.addListenersBN(this.icon.pathE,this)};
Button.prototype.addFinchBnIcons=function(){let a=VectorPaths.mvFinch,b=Colors.white;Hatchling&&(a=VectorPaths.faEgg,this.iconColor=b=Colors.iron);const c=VectorPaths.battery,d=VectorPaths.faTimesCircle,e=Font.uiFont(18),f=1.65*TitleBar.bnIconH,g=.75*TitleBar.bnIconH,h=.6*TitleBar.bnIconH;this.finchW=VectorIcon.computeWidth(a,f);var k=VectorIcon.computeWidth(c,g),l=VectorIcon.computeWidth(d,h);this.finchX=(this.width-this.finchW)/2;this.finchConnectedX=(this.width-this.finchW-k-10)/2;const m=(this.width+
f+10-k)/2;k=(this.width-f-k-10)/2+10;l=(this.width-l)/2;this.finchY=(this.height-f)/2;const n=(this.height-g)/2,p=(this.height+e.charHeight)/2,q=(this.height-h)/2;this.removeContent();this.hasIcon=!0;this.iconInverts=!1;this.hasText=!0;this.icon=new VectorIcon(this.finchX,this.finchY,a,b,f,this.group,null,90);GuiElements.update.stroke(this.icon.pathE,Colors.iron,2);this.battIcon=new VectorIcon(m,n,c,Colors.iron,g,this.group);this.textE=GuiElements.draw.text(k,p,"",e,Colors.flagGreen);this.group.appendChild(this.textE);
this.xIcon=new VectorIcon(l,q,d,Colors.stopRed,h,this.group);Hatchling&&(this.hatchGroup=GuiElements.create.group(this.finchConnectedX,(this.height-this.finchW)/2,this.group),TouchReceiver.addListenersBN(this.hatchGroup,this));TouchReceiver.addListenersBN(this.icon.pathE,this);TouchReceiver.addListenersBN(this.battIcon.pathE,this);TouchReceiver.addListenersBN(this.xIcon.pathE,this);TouchReceiver.addListenersBN(this.textE,this);TitleBar.updateStatus(DeviceManager.getStatus())};
Button.prototype.removeContent=function(){this.hasIcon&&this.icon.remove();this.hasImage&&this.imageE.remove();this.hasText&&this.textE.remove()};Button.prototype.setCallbackFunction=function(a,b){b?this.delayedCallback=a:this.callback=a};Button.prototype.setUnToggleFunction=function(a){this.unToggleFunction=a;this.toggles=!0};Button.prototype.setLongTouchFunction=function(a){this.longTouchFunction=a};Button.prototype.setDisabledTabFunction=function(a){this.disabledTapCallback=a};
Button.prototype.disable=function(){this.enabled&&(this.pressed=this.enabled=!1,this.bgRect.setAttributeNS(null,"fill",Button.disabledBg),this.hasText&&this.textInverts&&this.textE.setAttributeNS(null,"fill",Button.disabledFore),this.hasIcon&&this.iconInverts&&this.icon.setColor(Button.disabledFore))};Button.prototype.enable=function(){this.enabled||(this.enabled=!0,this.pressed=!1,this.setColor(!1))};
Button.prototype.press=function(){this.pressed||(this.pressed=!0,this.enabled&&(this.setColor(!0),null!=this.callback&&this.callback()))};
Button.prototype.release=function(){this.pressed&&(this.pressed=!1,this.enabled?(this.toggles&&(!this.toggled||null!=this.iconColor&&this.icon.pathId!=VectorPaths.battery)||this.setColor(!1),this.toggles&&this.toggled?(this.toggled=!1,this.unToggleFunction()):(null!=this.delayedCallback&&this.delayedCallback(),this.toggles&&!this.toggled&&(this.toggled=!0))):null!=this.disabledTapCallback&&this.disabledTapCallback())};
Button.prototype.interrupt=function(){this.pressed&&!this.toggles&&(this.pressed=!1,this.enabled&&this.setColor(!1))};Button.prototype.unToggle=function(){this.enabled&&(this.toggled||null!=this.iconColor)&&this.setColor(!1);this.pressed=this.toggled=!1};Button.prototype.longTouch=function(){return null!=this.longTouchFunction?(this.longTouchFunction(),!0):!1};Button.prototype.remove=function(){this.group.remove()};Button.prototype.hide=function(){this.group.remove()};Button.prototype.show=function(){this.parentGroup.appendChild(this.group)};
Button.prototype.move=function(a,b){this.x=a;this.y=b;GuiElements.move.group(this.group,this.x,this.y)};
Button.prototype.setColor=function(a){a&&FinchBlox?this.toggles&&this.hasIcon?this.icon.setColor(Colors.blockPaletteSound):(a=Colors.darkenColor(this.bg,.8),this.bgRect.setAttributeNS(null,"fill",a)):a?(this.bgRect.setAttributeNS(null,"fill",Button.highlightBg),this.hasText&&this.textInverts&&this.textE.setAttributeNS(null,"fill",Button.highlightFore),this.hasIcon&&this.iconInverts&&this.icon.setColor(Button.highlightFore),this.hasImage&&GuiElements.update.image(this.imageE,this.imageData.darkName)):
FinchBlox?(this.bgRect.setAttributeNS(null,"fill",this.bg),this.hasIcon&&(a=Button.foreground,null!=this.iconColor&&(a=this.iconColor),this.icon.setColor(a))):(this.bgRect.setAttributeNS(null,"fill",this.bg),this.hasText&&this.textInverts&&this.textE.setAttributeNS(null,"fill",Button.foreground),this.hasIcon&&this.iconInverts&&(a=Button.foreground,null!=this.iconColor&&(a=this.iconColor),this.icon.setColor(a)),this.hasImage&&GuiElements.update.image(this.imageE,this.imageData.lightName))};
Button.prototype.updateBgColor=function(a){this.bg=a;this.setColor(!1)};Button.prototype.flash=function(){this.bgRect.setAttributeNS(null,"fill",Colors.white);setTimeout(function(){this.bgRect.setAttributeNS(null,"fill",this.bg)}.bind(this),100);setTimeout(function(){this.bgRect.setAttributeNS(null,"fill",Colors.white)}.bind(this),200);setTimeout(function(){this.bgRect.setAttributeNS(null,"fill",this.bg)}.bind(this),300)};Button.prototype.makeScrollable=function(){this.scrollable=!0};
Button.prototype.currentForeground=function(){return this.enabled?this.pressed?Button.highlightFore:Button.foreground:Button.disabledFore};Button.prototype.markAsOverlayPart=function(a){this.partOfOverlay=a};Button.prototype.unmarkAsOverlayPart=function(){this.partOfOverlay=null};function ShowHideButton(a,b,c,d,e,f){this.x=a;this.y=b;this.width=c;this.height=d;this.parent=e;this.iconH=.75*f;this.hideFn=this.showFn=null}
ShowHideButton.prototype.build=function(a){this.showBn=new Button(this.x,this.y,this.width,this.height,this.parent);this.showBn.addIcon(VectorPaths.show,this.iconH);this.hideBn=new Button(this.x,this.y,this.width,this.height,this.parent);this.hideBn.addIcon(VectorPaths.hide,this.iconH);this.showBn.setCallbackFunction(this.showFn,!1);this.hideBn.setCallbackFunction(this.hideFn,!1);let b=function(){this.showBn.hide();this.hideBn.show()}.bind(this);this.showBn.setCallbackFunction(b,!0);this.showBn.interrupt=
function(){this.enabled&&this.pressed&&(this.pressed=!1,this.setColor(!1),b())};let c=function(){this.showBn.show();this.hideBn.hide()}.bind(this);this.hideBn.setCallbackFunction(c,!0);this.hideBn.interrupt=function(){this.enabled&&this.pressed&&(this.pressed=!1,this.setColor(!1),c())};a?this.showBn.hide():this.hideBn.hide()};ShowHideButton.prototype.setCallbackFunctions=function(a,b){this.showFn=a;this.hideFn=b};ShowHideButton.prototype.remove=function(){this.showBn.remove();this.hideBn.remove()};
function DeviceStatusLight(a,b,c,d){this.cx=a+DeviceStatusLight.radius;this.cy=b;this.parentGroup=c;this.circleE=this.generateCircle();this.statusProvider=d;this.statusProvider.setStatusListener(this.updateStatus.bind(this));this.updateStatus(d.getStatus())}DeviceStatusLight.setConstants=function(){const a=DeviceStatusLight;a.greenColor=Colors.green;a.redColor=Colors.red;a.yellowColor=Colors.yellow;a.startColor=Colors.black;a.offColor=Colors.darkGray;a.radius=6;a.updateInterval=300};
DeviceStatusLight.prototype.generateCircle=function(){let a=DeviceStatusLight;return GuiElements.draw.circle(this.cx,this.cy,a.radius,a.startColor,this.parentGroup)};DeviceStatusLight.prototype.updateStatus=function(a){const b=DeviceStatusLight,c=DeviceManager.statuses;GuiElements.update.color(this.circleE,a===c.connected?b.greenColor:a===c.oldFirmware?b.yellowColor:a===c.incompatibleFirmware||a===c.disconnected?b.redColor:b.offColor)};DeviceStatusLight.prototype.remove=function(){this.circleE.remove()};
function Overlay(a){this.type=a}Overlay.setStatics=function(){Overlay.openOverlays=new Set;Overlay.types={inputPad:1,resultBubble:2,menu:3,connectionList:4}};Overlay.prototype.close=function(){DebugOptions.markAbstract()};Overlay.prototype.addOverlayAndCloseOthers=function(){Overlay.closeOverlaysOfType(this.type);Overlay.addOverlay(this)};Overlay.addOverlay=function(a){Overlay.openOverlays.has(a)||Overlay.openOverlays.add(a)};Overlay.removeOverlay=function(a){Overlay.openOverlays.has(a)&&Overlay.openOverlays.delete(a)};
Overlay.closeOverlays=function(){Overlay.openOverlays.forEach(function(a){a.close()})};Overlay.closeOverlaysExcept=function(a){Overlay.openOverlays.forEach(function(b){b!==a&&b.close()})};Overlay.closeOverlaysOfType=function(a){Overlay.openOverlays.forEach(function(b){b.type===a&&b.close()})};function TabRow(a,b,c,d,e,f){null==f&&(f=null);this.tabList=[];this.x=a;this.y=b;this.parent=e;this.width=c;this.height=d;this.callbackFn=null;this.selectedTab=f;this.partOfOverlay=null}
TabRow.setConstants=function(){const a=TabRow;a.slantW=5;a.deselectedColor=Colors.mediumLightGray;a.selectedColor=Colors.lightLightGray;a.foregroundColor=Colors.white;a.font=Font.uiFont(16).bold();a.closeHeight=30;a.closeMargin=9};TabRow.prototype.show=function(){this.group=GuiElements.create.group(this.x,this.y,this.parent);this.createTabs();null!=this.selectedTab&&this.visuallySelectTab(this.selectedTab)};TabRow.prototype.addTab=function(a,b,c){let d={};d.text=a;d.id=b;d.closeFn=c;this.tabList.push(d)};
TabRow.prototype.createTabs=function(){let a=this.width/this.tabList.length;this.tabEList=[];this.tabList.forEach(function(b,c){const d=c*a,e=null!=b.closeFn;this.tabEList.push(this.createTab(c,b.text,a,d,e));e&&this.createClose(a,d,b.closeFn)}.bind(this))};
TabRow.prototype.createTab=function(a,b,c,d,e){const f=TabRow;var g=c-2*f.slantW;const h=2*f.closeMargin+f.closeHeight;e&&(g=c-h-f.slantW);let k=GuiElements.draw.trapezoid(d,0,c,this.height,f.slantW,f.deselectedColor);this.group.appendChild(k);let l=GuiElements.draw.text(0,0,"",f.font,f.foregroundColor);GuiElements.update.textLimitWidth(l,b,g);b=GuiElements.measure.textWidth(l);g=d+(c-b)/2;e&&(g=Math.min(g,d+c-b-h));GuiElements.move.text(l,g,(this.height+f.font.charHeight)/2);TouchReceiver.addListenersTabRow(l,
this,a);TouchReceiver.addListenersTabRow(k,this,a);this.group.appendChild(l);return k};TabRow.prototype.createClose=function(a,b,c){const d=TabRow;new CloseButton(a+b-d.closeMargin-d.closeHeight/2,this.height/2,d.closeHeight,c,this.group)};TabRow.prototype.selectTab=function(a){a!==this.selectTab&&(this.selectedTab=a,this.visuallySelectTab(a),null!=this.callbackFn&&this.callbackFn(this.tabList[a].id))};TabRow.prototype.visuallySelectTab=function(a){GuiElements.update.color(this.tabEList[a],TabRow.selectedColor)};
TabRow.prototype.setCallbackFunction=function(a){this.callbackFn=a};TabRow.prototype.markAsOverlayPart=function(a){this.partOfOverlay=a};function CloseButton(a,b,c,d,e){const f=CloseButton;this.pressed=!1;this.group=e;this.circleE=GuiElements.draw.circle(a,b,c/2,f.bg,this.group);c*=f.iconHMult;this.icon=new VectorIcon(a-c/2,b-c/2,VectorPaths.letterX,f.foreground,c,this.group);TouchReceiver.addListenersBN(this.icon.pathE,this);TouchReceiver.addListenersBN(this.circleE,this);this.callbackFn=d}
CloseButton.setGraphics=function(){const a=CloseButton;a.bg=Button.bg;a.foreground=Button.foreground;a.highlightBg=Button.highlightBg;a.highlightFore=Button.highlightFore;a.iconHMult=.5};CloseButton.prototype.press=function(){this.pressed||(this.pressed=!0,this.setColor(!0))};CloseButton.prototype.release=function(){this.pressed&&(this.pressed=!1,this.setColor(!1),this.callbackFn())};CloseButton.prototype.interrupt=function(){this.pressed&&(this.pressed=!1,this.setColor(!1))};
CloseButton.prototype.markAsOverlayPart=function(a){this.partOfOverlay=a};CloseButton.prototype.setColor=function(a){const b=CloseButton;a?(this.icon.setColor(b.highlightFore),GuiElements.update.color(this.circleE,b.highlightBg)):(this.icon.setColor(b.foreground),GuiElements.update.color(this.circleE,b.bg))};
function FBFileNameDisplay(){var a=TitleBar;const b=GuiElements.layers.titlebar,c=a.tallButtonH;this.margin=2*a.buttonMargin/3;this.W=2*a.longButtonW;this.H=c-2*this.margin;this.bnW=this.H-this.margin;this.X=a.width-this.bnW-4*this.margin;this.Y=a.height+this.margin;this.r=a.defaultCornerRounding;this.font=Font.secondaryUiFont(16);this.textW=0;this.bgColor=Colors.fbGray;this.group=GuiElements.create.group(this.X,this.Y,b);a=GuiElements.draw.rect(0,0,this.W,this.H,this.bgColor,this.r,this.r);this.group.appendChild(a);
this.update()}
FBFileNameDisplay.prototype.update=function(){var a=TitleBar;null!=this.textBn&&(this.textBn.remove(),this.textW=0);if(void 0==SaveManager.fileName)this.addButton(!1);else if(SaveManager.fileName==LevelManager.savePointFileNames[LevelManager.currentLevel])this.X=a.width-this.bnW-4*this.margin,GuiElements.move.group(this.group,this.X,this.Y),a=TabManager.activeTab.stackList,1<a.length||0==a.length||!a[0].firstBlock.isStartBlock||null!=a[0].firstBlock.nextBlock?this.addButton(!0):this.addButton(!1);else{const b=
SaveManager.fileName.slice(0,-2),c=2*this.margin;this.textW=GuiElements.measure.stringWidth(b,this.font);this.textBn=new Button(c,0,this.textW,this.H,this.group,this.bgColor);this.textBn.addText(b,this.font,Colors.bbtDarkGray);this.X=a.width-this.bnW-this.textW-6*this.margin;GuiElements.move.group(this.group,this.X,this.Y);this.textBn.setCallbackFunction(function(){(new FBSaveFile(this.X,this.Y,this.W,this.H,this.group,b)).show()}.bind(this),!0);this.addButton(!1)}};
FBFileNameDisplay.prototype.addButton=function(a){const b=TitleBar,c=b.width-this.X-this.bnW-2*this.margin,d=this.H-2*this.margin,e=this.r/2,f=a?VectorPaths.faSave:VectorPaths.faFile;null!=this.button&&this.button.remove();this.button=new Button(c,this.margin,this.bnW,d,this.group,Colors.easternBlue,e,e);this.button.addIcon(f,.5*b.bnIconH);a?this.button.setCallbackFunction(function(){(new FBSaveFile(this.X,this.Y,this.W,this.H,this.group)).show()}.bind(this),!0):this.button.setCallbackFunction(function(){(new FBFileSelect(this.X,
this.Y,this.W,this.H,this.group)).show()}.bind(this),!0)};FBFileNameDisplay.prototype.remove=function(){this.group.remove()};
function Comment(){this.parent=null;this.updated=this.edited=!1;this.lastY=this.lastX=this.y=this.x=0;this.width=200;this.height=Comment.font.charHeight+2*Comment.margin;this.group=GuiElements.create.group(0,0);this.flying=!1;this.tab=null;this.bgRect=GuiElements.draw.rect(this.x,this.y,this.width,this.height,Comment.bgColor,Comment.cornerRadius,Comment.cornerRadius);GuiElements.update.stroke(this.bgRect,Comment.outlineColor,Comment.outlineWidth);TouchReceiver.addListenersComment(this.bgRect,this);
this.group.appendChild(this.bgRect);this.editableText=GuiElements.create.editableText(Comment.font,Comment.textColor,Comment.margin,Comment.margin,this.width-2*Comment.margin,this.height-2*Comment.margin,this.group,this);TouchReceiver.addListenersComment(this.editableText,this);this.editableText.textContent=Language.getStr("Add_Comment_Here")}
Comment.setGlobals=function(){Comment.bgColor=Colors.lightYellow;Comment.outlineColor=Colors.white;Comment.outlineWidth=2;Comment.textColor=Colors.black;Comment.font=Font.uiFont(11);Comment.cornerRadius=3;Comment.margin=10;Comment.lineHeight=2;Comment.currentlyEditing=null;Comment.count=0};Comment.writeToXml=function(a){};
Comment.importXml=function(a,b){const c=new Comment;c.x=XmlWriter.getAttribute(a,"x",0,!0);c.y=XmlWriter.getAttribute(a,"y",0,!0);c.editableText.innerHTML=XmlWriter.getAttribute(a,"text","",!1);c.edited=!0;a=XmlWriter.getAttribute(a,"id",0,!0);if(-1<a){const d={};d.id=a;d.block=null;b.findBlockByID(d);null!=d.block?c.updateParent(d.block):console.error("This comment should have a parent ("+a+"), but it wasn't found")}else c.tab=b,c.updateParent()};
Comment.prototype.updateParent=function(a){null!=a&&null!=a.comment&&a.comment!=this&&(a=null);null!=this.parent&&(this.parent.comment=null,this.group.remove(),null!=this.line&&(this.line.remove(),this.line=null),this.parent.stack.arrangeComments(),null==a&&this.tab.mainG.appendChild(this.group));this.parent=a;if(null!=a){a.comment=this;a=a.stack.getTab();if(this.tab!=a){if(null!=this.tab){const b=this.tab.commentList.indexOf(this);this.tab.commentList.splice(b,1);console.log("moving the comment to a new tab - this will only ever happen if there are multiple tabs")}this.tab=
a;this.tab.commentList.push(this)}this.x=this.parent.width+2*Comment.margin;this.y=0;this.parent.group.appendChild(this.group);this.lineX=this.parent.width;this.lineY=this.parent.hasBlockSlot1?this.parent.topHeight/2:this.parent.height/2;this.line=GuiElements.draw.rect(this.lineX,this.lineY,2*Comment.margin,Comment.lineHeight,Comment.outlineColor);this.parent.group.appendChild(this.line)}this.update()};
Comment.prototype.editText=function(){this.edited||(this.editableText.textContent="",this.edited=!0);Comment.currentlyEditing=this;this.editableText.focus()};
Comment.prototype.update=function(){const a=this.editableText.offsetHeight;0!=a&&(Comment.currentlyEditing!=this&&this.updated?null==this.parent||this.flying?GuiElements.move.group(this.group,this.x,this.y):this.parent.stack.arrangeComments():(a!=this.height-2*Comment.margin&&(this.height=a+2*Comment.margin,GuiElements.update.rect(this.bgRect,0,0,this.width,this.height),this.editableText.parentNode.setAttribute("height",a),null!=this.parent&&this.parent.stack.arrangeComments()),this.updated||(this.updated=
!0,GuiElements.move.group(this.group,this.x,this.y))),this.flying||Comment.currentlyEditing==this||this.setPosition())};Comment.prototype.setPosition=function(){this.x==this.lastX&&this.y==this.lastY&&Comment.currentlyEditing||(this.lastX=this.x,this.lastY=this.y,SaveManager.markEdited())};Comment.prototype.move=function(a,b){this.x=a;this.y=b;this.update()};
Comment.prototype.delete=function(){null!=this.parent&&this.updateParent();this.group.remove();null!=this.line&&this.line.remove();const a=this.tab.commentList.indexOf(this);this.tab.commentList.splice(a,1)};
Comment.prototype.fly=function(){null!=this.parent&&(this.x=this.parent.stack.x+this.parent.x+this.x,this.y=this.parent.stack.y+this.parent.y+this.y,null!=this.line&&this.line.remove());this.group.remove();GuiElements.layers.drag.appendChild(this.group);const a=this.getAbsX(),b=this.getAbsY();this.flying=!0;this.move(CodeManager.dragAbsToRelX(a),CodeManager.dragAbsToRelY(b))};
Comment.prototype.land=function(){this.group.remove();this.tab.mainG.appendChild(this.group);const a=this.getAbsX(),b=this.getAbsY();this.flying=!1;this.x=this.tab.absToRelX(a);this.y=this.tab.absToRelY(b)};Comment.prototype.getAbsX=function(){return this.relToAbsX(0)};Comment.prototype.getAbsY=function(){return this.relToAbsY(0)};Comment.prototype.relToAbsX=function(a){return this.flying?CodeManager.dragRelToAbsX(a+this.x):this.tab.relToAbsX(a+this.x)};
Comment.prototype.relToAbsY=function(a){return this.flying?CodeManager.dragRelToAbsY(a+this.y):this.tab.relToAbsY(a+this.y)};Comment.prototype.createXml=function(a){a=XmlWriter.createElement(a,"comment");XmlWriter.setAttribute(a,"x",this.lastX);XmlWriter.setAttribute(a,"y",this.lastY);XmlWriter.setAttribute(a,"text",this.editableText.innerHTML);XmlWriter.setAttribute(a,"id",null!=this.parent?this.parent.id:-1);return a};
function CommentMoveManager(a,b,c){const d={};Overlay.closeOverlays();a.fly();d.touchX=b;d.touchY=c;d.offsetX=a.getAbsX()-b;d.offsetY=a.getAbsY()-c;d.comment=a;d.topX=0;d.topY=0;this.move=d;this.fit={}}
CommentMoveManager.prototype.update=function(a,b){const c=this.move;c.touchX=a;c.touchY=b;c.topX=c.offsetX+a;c.topY=c.offsetY+b;c.comment.move(CodeManager.dragAbsToRelX(c.topX),CodeManager.dragAbsToRelY(c.topY));BlockPalette.isStackOverPalette(c.touchX,c.touchY)?(Highlighter.hide(),BlockPalette.showTrash()):(BlockPalette.hideTrash(),this.findBestFit(),!this.fit.found||null!=this.fit.bestFit.comment&&this.fit.bestFit.comment!=this.move.comment?Highlighter.hide():this.fit.bestFit.highlight(!0))};
CommentMoveManager.prototype.end=function(){const a=this.move,b=this.fit;a.topX=a.offsetX+a.touchX;a.topY=a.offsetY+a.touchY;BlockPalette.isStackOverPalette(a.touchX,a.touchY)?UndoManager.deleteComment(a.comment):(this.findBestFit(),a.comment.land(),b.found?(a.comment.updateParent(b.bestFit),Sound.playSnap()):a.comment.updateParent());SaveManager.markEdited();Highlighter.hide();BlockPalette.hideTrash()};
CommentMoveManager.prototype.interrupt=function(){const a=this.move;a.topX=a.offsetX+a.touchX;a.topY=a.offsetY+a.touchY;a.stack.land();a.stack.updateDim();Highlighter.hide()};CommentMoveManager.prototype.findBestFit=function(){const a=this.fit;a.found=!1;a.bestFit=null;a.dist=0;TabManager.activeTab.findBestFit(this)};function InputSystem(){this.cancelled=this.closed=this.visible=!1}
InputSystem.prototype.show=function(a,b,c,d){DebugOptions.assert(!this.visible);DebugOptions.assert(!this.closed);this.visible=!0;this.slotShape=a;this.updateFn=b;this.finishFn=c;this.currentData=d};InputSystem.prototype.close=function(){this.closed||(this.closed=!0,this.visible=!1,this.finishFn(this.currentData,this.cancelled))};function InputDialog(a,b){InputSystem.call(this);this.textSummary=a;this.acceptsEmptyString=b}
InputDialog.prototype.show=function(a,b,c,d){InputSystem.prototype.show.call(this,a,b,c,d);a=d.asString().getValue();d=d.type===Data.types.string;DialogManager.showPromptDialog(Language.getStr("Edit_text"),this.textSummary,a,d,function(e,f){e||""===f&&!this.acceptsEmptyString?this.cancelled=!0:(this.currentData=new StringData(f),this.cancelled=!1);InputSystem.prototype.close.call(this)}.bind(this))};
function InputPad(a,b,c,d){InputSystem.call(this);this.widgets=[];const e=this.coords={};e.x1=a;e.x2=b;e.y1=c;e.y2=d}InputPad.prototype=Object.create(InputSystem.prototype);InputPad.prototype.constructor=InputPad;InputPad.setConstants=function(){const a=InputPad;FinchBlox?(a.background=Colors.white,a.margin=Button.defaultMargin,a.width=19*GuiElements.width/20-2*a.margin):(a.background=Colors.lightGray,a.margin=Button.defaultMargin,a.width=160)};InputPad.prototype.addWidget=function(a){this.widgets.push(a)};
InputPad.prototype.show=function(a,b,c,d,e,f){InputSystem.prototype.show.call(this,a,b,c,d);a=InputPad;this.group=GuiElements.create.group(0,0);this.updateDim();b=Overlay.types.inputPad;c=GuiElements.layers.inputPad;d=this.coords;this.bubbleOverlay=FinchBlox?new FBBubbleOverlay(b,a.margin,this.group,this,e,f):new BubbleOverlay(b,a.background,a.margin,this.group,this,c);this.bubbleOverlay.display(d.x1,d.x2,d.y1,d.y2,this.width,this.height);this.showWidgets(this.bubbleOverlay)};
InputPad.prototype.updateDim=function(){const a=InputPad;let b=a.width,c=0;this.widgets.forEach(function(e){e.fixedHeight()&&(e.updateDim(),c+=e.height);c+=a.margin;e.constructor!=InputWidget.Piano||FinchBlox||(b=InputWidget.Piano.inputPadWidth)});c-=a.margin;c=Math.max(c,0);let d=GuiElements.height-2*a.margin-c;this.widgets.forEach(function(e){e.fixedHeight()||(e.setMaxHeight(d),e.updateDim(),c+=e.height)});this.height=c;this.width=b};
InputPad.prototype.showWidgets=function(a){const b=InputPad;let c=0;for(let d=0;d<this.widgets.length;d++)this.widgets[d].show(0,c,this.group,a,this.slotShape,this.updateEdit.bind(this),this.finishEdit.bind(this),this.currentData),c+=this.widgets[d].height+b.margin};InputPad.prototype.close=function(){this.closed||(InputSystem.prototype.close.call(this),this.widgets.forEach(function(a){a.close()}),this.bubbleOverlay.close())};
InputPad.prototype.updateEdit=function(a,b){this.updateFn(a,b);FinchBlox||(this.currentData=a)};InputPad.prototype.finishEdit=function(a){FinchBlox||(this.currentData=a);this.close()};function InputWidget(){DebugOptions.markAbstract()}InputWidget.prototype.show=function(a,b,c,d,e,f,g,h){this.x=a;this.y=b;this.slotShape=e;this.updateFn=f;this.finishFn=g;this.overlay=d};InputWidget.prototype.updateDim=function(){DebugOptions.markAbstract()};InputWidget.prototype.close=function(){};
InputWidget.prototype.fixedHeight=function(){return!0};InputWidget.prototype.setMaxHeight=function(a){};InputWidget.Label=function(a){this.text=a};InputWidget.Label.prototype=Object.create(InputWidget.prototype);InputWidget.Label.prototype.constructor=InputWidget.Label;InputWidget.Label.setConstants=function(){const a=InputWidget.Label;a.font=Font.uiFont(16).bold();a.margin=2;a.color=Colors.white};
InputWidget.Label.prototype.show=function(a,b,c){const d=InputWidget.Label;this.textE=GuiElements.draw.text(a,b,"",d.font,d.color);GuiElements.update.textLimitWidth(this.textE,this.text,InputPad.width);a=GuiElements.measure.textWidth(this.textE);b=b+d.font.charHeight+d.margin;GuiElements.move.text(this.textE,InputPad.width/2-a/2,b);c.appendChild(this.textE);this.textY=b};
InputWidget.Label.prototype.updateDim=function(){const a=InputWidget.Label;this.height=a.font.charHeight+2*a.margin;this.width=a.maxWidth};InputWidget.NumPad=function(a,b){this.positive=a;this.integer=b};InputWidget.NumPad.prototype=Object.create(InputWidget.prototype);InputWidget.NumPad.prototype.constructor=InputWidget.NumPad;
InputWidget.NumPad.setConstants=function(){const a=InputWidget.NumPad;a.bnMargin=InputPad.margin;a.bnWidth=(InputPad.width-2*a.bnMargin)/3;a.bnHeight=40;a.longBnW=(InputPad.width-a.bnMargin)/2;a.font=Font.uiFont(34).bold();a.plusMinusH=22;a.bsIconH=25;a.okIconH=a.bsIconH};InputWidget.NumPad.prototype.show=function(a,b,c,d,e,f,g,h){InputWidget.prototype.show.call(this,a,b,c,d,e,f,g,h);this.group=GuiElements.create.group(a,b,c);this.displayNum=new DisplayNum(h);this.makeBns();this.grayOutUnlessZero()};
InputWidget.NumPad.prototype.updateDim=function(a,b){a=InputWidget.NumPad;this.height=5*a.bnHeight+4*a.bnMargin;this.width=InputPad.width};InputWidget.NumPad.prototype.grayOutUnlessZero=function(){const a=this.displayNum.getData();(this.displayNum.isNum||0!==a.getValue())&&this.slotShape.grayOutValue()};
InputWidget.NumPad.prototype.makeBns=function(){const a=InputWidget.NumPad;let b,c,d=0;for(let e=0;3>e;e++){c=0;for(let f=0;3>f;f++)b=7-3*e+f,this.makeNumBn(c,d,b),c+=a.bnMargin,c+=a.bnWidth;d+=a.bnMargin;d+=a.bnHeight}this.makeNumBn(a.bnMargin+a.bnWidth,3*a.bnMargin+3*a.bnHeight,0);this.makePlusMinusBn(0,3*a.bnMargin+3*a.bnHeight);this.makeDecimalBn(2*a.bnMargin+2*a.bnWidth,3*a.bnMargin+3*a.bnHeight);this.bsButton=this.makeBsBn(0,4*a.bnMargin+4*a.bnHeight);this.okButton=this.makeOkBn(a.bnMargin+
a.longBnW,4*a.bnMargin+4*a.bnHeight)};InputWidget.NumPad.prototype.makeTextButton=function(a,b,c,d){const e=InputWidget.NumPad;a=new Button(a,b,e.bnWidth,e.bnHeight,this.group);a.addText(c,e.font);a.setCallbackFunction(d,!1);a.markAsOverlayPart(this.overlay);return a};InputWidget.NumPad.prototype.makeNumBn=function(a,b,c){return this.makeTextButton(a,b,c+"",function(){this.numPressed(c)}.bind(this))};
InputWidget.NumPad.prototype.makePlusMinusBn=function(a,b){a=this.makeTextButton(a,b,String.fromCharCode(177),this.plusMinusPressed.bind(this));this.positive&&a.disable();return a};InputWidget.NumPad.prototype.makeDecimalBn=function(a,b){a=this.makeTextButton(a,b,".",this.decimalPressed.bind(this));this.integer&&a.disable();return a};
InputWidget.NumPad.prototype.makeBsBn=function(a,b){const c=InputWidget.NumPad;a=new Button(a,b,c.longBnW,c.bnHeight,this.group);a.addIcon(VectorPaths.backspace,c.bsIconH);a.setCallbackFunction(this.bsPressed.bind(this),!1);a.setCallbackFunction(this.bsReleased.bind(this),!0);a.markAsOverlayPart(this.overlay);return a};
InputWidget.NumPad.prototype.makeOkBn=function(a,b){const c=InputWidget.NumPad;a=new Button(a,b,c.longBnW,c.bnHeight,this.group);a.addIcon(VectorPaths.checkmark,c.okIconH);a.setCallbackFunction(this.okPressed.bind(this),!0);a.markAsOverlayPart(this.overlay);return a};InputWidget.NumPad.prototype.numPressed=function(a){this.removeUndo();this.deleteIfGray();this.displayNum.addDigit(a+"");this.sendUpdate()};
InputWidget.NumPad.prototype.plusMinusPressed=function(){this.removeUndo();this.deleteIfGray();this.displayNum.switchSign();this.sendUpdate()};InputWidget.NumPad.prototype.decimalPressed=function(){this.removeUndo();this.deleteIfGray();this.displayNum.addDecimalPoint();this.sendUpdate()};InputWidget.NumPad.prototype.deleteIfGray=function(){this.slotShape.isGray&&(this.showUndo(),this.displayNum=new DisplayNum(new NumData(0)),this.slotShape.unGrayOutValue(),this.sendUpdate())};
InputWidget.NumPad.prototype.showUndo=function(){this.undoAvailable||(this.undoAvailable=!0,this.undoData=this.displayNum.getData(),this.updateBsIcon())};InputWidget.NumPad.prototype.removeUndo=function(){this.removeUndoDelayed();this.updateBsIcon()};InputWidget.NumPad.prototype.removeUndoDelayed=function(){this.undoAvailable&&(this.undoAvailable=!1,this.undoData=null)};
InputWidget.NumPad.prototype.updateBsIcon=function(){const a=InputWidget.NumPad;this.undoAvailable!==this.undoVisible&&(this.undoAvailable?(this.bsButton.addIcon(VectorPaths.undo,a.bsIconH),this.undoVisible=!0):(this.bsButton.addIcon(VectorPaths.backspace,a.bsIconH),this.undoVisible=!1))};InputWidget.NumPad.prototype.undo=function(){this.undoAvailable&&(this.displayNum=new DisplayNum(this.undoData),this.removeUndoDelayed(),this.slotShape.grayOutValue(),this.sendUpdate())};
InputWidget.NumPad.prototype.bsReleased=function(){this.updateBsIcon()};InputWidget.NumPad.prototype.bsPressed=function(){this.undoAvailable?this.undo():(this.removeUndoDelayed(),this.slotShape.unGrayOutValue(),this.displayNum.isNum||(this.displayNum=new DisplayNum(new NumData(0))),this.displayNum.backspace(),this.sendUpdate())};InputWidget.NumPad.prototype.okPressed=function(){this.finishFn(this.displayNum.getData())};
InputWidget.NumPad.prototype.sendUpdate=function(){this.updateFn(this.displayNum.getData(),this.displayNum.getString())};function DisplayNum(a){if(this.isNum=a.type===Data.types.num){if(this.isNegative=0>a.getValue(),a=a.asPositiveString().getValue().split("."),this.integerPart=a[0],""===this.integerPart&&(this.integerPart="0"),this.decimalPart="",this.hasDecimalPoint=1<a.length)this.decimalPart=a[1]}else this.data=a}
DisplayNum.prototype.backspace=function(){this.isNum&&(this.hasDecimalPoint&&""!==this.decimalPart?this.decimalPart=this.decimalPart.substring(0,this.decimalPart.length-1):this.hasDecimalPoint?this.hasDecimalPoint=!1:1<this.integerPart.length?this.integerPart=this.integerPart.substring(0,this.integerPart.length-1):"0"!==this.integerPart?this.integerPart="0":this.isNegative&&(this.isNegative=!1))};DisplayNum.prototype.switchSign=function(){this.isNum&&(this.isNegative=!this.isNegative)};
DisplayNum.prototype.addDecimalPoint=function(){this.isNum&&!this.hasDecimalPoint&&(this.hasDecimalPoint=!0,this.decimalPart="")};DisplayNum.prototype.addDigit=function(a){this.isNum&&(this.hasDecimalPoint?5>this.decimalPart.length&&(this.decimalPart+=a):"0"!==this.integerPart?10>this.integerPart.length&&(this.integerPart+=a):"0"!==a&&(this.integerPart=a))};
DisplayNum.prototype.getString=function(){if(!this.isNum)return null;let a="";this.isNegative&&(Language.isRTL&&(a+=Language.forceLTR),a+="-");a+=this.integerPart;this.hasDecimalPoint&&(a=a+"."+this.decimalPart);return a};DisplayNum.prototype.getData=function(){if(!this.isNum)return this.data;let a=parseInt(this.integerPart,10);if(this.hasDecimalPoint&&0<this.decimalPart.length){let b=parseInt(this.decimalPart,10);b/=Math.pow(10,this.decimalPart.length);a+=b}this.isNegative&&(a=0-a);return new NumData(a)};
InputWidget.SelectPad=function(){this.optionsList=[];this.maxHeight=null};InputWidget.SelectPad.prototype=Object.create(InputWidget);InputWidget.SelectPad.constructor=InputWidget.SelectPad;
InputWidget.SelectPad.prototype.show=function(a,b,c,d,e,f,g,h){InputWidget.prototype.show.call(this,a,b,c,d,e,f,g,h);this.menuBnList=new SmoothMenuBnList(this,c,a,b,InputPad.width,GuiElements.layers.frontScroll);this.optionsList.forEach(function(k){this.menuBnList.addOption(k.text,k.callbackFn)}.bind(this));DebugOptions.assert(null!=this.maxHeight);this.menuBnList.markAsOverlayPart(d);this.menuBnList.setMaxHeight(this.maxHeight);this.menuBnList.show()};
InputWidget.SelectPad.prototype.updateDim=function(){DebugOptions.assert(null!==this.maxHeight);this.height=SmoothMenuBnList.previewHeight(this.optionsList.length,this.maxHeight);this.width=InputPad.innerWidth};InputWidget.SelectPad.prototype.fixedHeight=function(){return!1};InputWidget.SelectPad.prototype.setMaxHeight=function(a){this.maxHeight=a};
InputWidget.SelectPad.prototype.addOption=function(a,b){null==b&&(b=a.asString().getValue());const c={};c.text=b;const d=this;c.callbackFn=function(){d.finishFn(a)};this.optionsList.push(c)};InputWidget.SelectPad.prototype.addAction=function(a,b){const c={};c.text=a;const d=this;c.callbackFn=function(){b(d.actionCallback.bind(d))};this.optionsList.push(c)};InputWidget.SelectPad.prototype.actionCallback=function(a,b){null!=a&&this.updateFn(a);b&&this.finishFn()};
InputWidget.SelectPad.prototype.isEmpty=function(){return 0===this.optionsList.length};InputWidget.SelectPad.prototype.close=function(){this.menuBnList.hide()};InputWidget.SelectPad.prototype.relToAbsX=function(a){return this.overlay.relToAbsX(this.x)};InputWidget.SelectPad.prototype.relToAbsY=function(a){return this.overlay.relToAbsY(this.y)};InputWidget.SelectPad.prototype.getAbsX=function(){return this.relToAbsX(0)};InputWidget.SelectPad.prototype.getAbsY=function(){return this.relToAbsY(0)};
InputWidget.Slider=function(a,b,c,d,e,f){this.type=a;this.options=b;this.optionDisabled=[];this.value=c;this.sliderColor=d;this.displaySuffix=e;this.index=f;this.snapToOption=!1;if("ledArray"==a||a.startsWith("hatchling")||"sensor"==a)this.snapToOption=!0;this.optionXs=[];this.optionValues=[];this.cR=0;this.sliders=[]};InputWidget.Slider.prototype=Object.create(InputWidget.prototype);InputWidget.Slider.prototype.constructor=InputWidget.Slider;
InputWidget.Slider.Slide=function(a,b,c,d){this.value=a;this.sliderX=b;this.sliderIcon=c;this.parent=d;this.optionValues=d.optionValues;this.optionXs=d.optionXs;this.index=d.index;this.type=d.type;this.sliderY=d.sliderY;this.sliderW=d.sliderW;this.sliderH=d.sliderH;this.snapToOption=d.snapToOption;this.overlay=d.overlay;this.barX=d.barX;this.barW=d.barW;this.dragging=!1};
InputWidget.Slider.Slide.prototype.drag=function(a){InputWidget.Slider.prototype.drag.call(this,a);a=[];for(let b=0;b<this.parent.sliders.length;b++)a.push(this.parent.sliders[b].value);this.parent.value=a.join(" ")};InputWidget.Slider.Slide.prototype.drop=function(){InputWidget.Slider.prototype.drop.call(this)};InputWidget.Slider.Slide.prototype.moveToValue=function(){InputWidget.Slider.prototype.moveToValue.call(this)};
InputWidget.Slider.Slide.prototype.moveToOption=function(a){InputWidget.Slider.prototype.moveToOption.call(this,a)};InputWidget.Slider.Slide.prototype.updateLabel=function(){this.parent.updateLabel()};InputWidget.Slider.Slide.prototype.updateFn=function(a,b){this.parent.updateFn(this.parent.value,b)};InputWidget.Slider.Slide.prototype.getValueIndex=function(){return this.optionValues.indexOf(this.value)};
InputWidget.Slider.setConstants=function(){const a=InputWidget.Slider;a.width=InputPad.width;a.height=a.width/8;a.hMargin=20;a.barHeight=4;a.barColor=Colors.iron;a.sliderIconPath=Hatchling?VectorPaths.faEgg:VectorPaths.mvFinch;a.optionMargin=10;a.font=Font.uiFont(24);a.optionFont=Font.uiFont(16);a.textColor=Colors.bbtDarkGray;GuiElements.create.spectrum()};
InputWidget.Slider.prototype.show=function(a,b,c,d,e,f,g,h){InputWidget.prototype.show.call(this,a,b,c,d,e,f,g,h);this.parentGroup=c;this.group=GuiElements.create.group(a,b,c);this.bgRect=GuiElements.draw.rect(0,0,this.width,this.height,"none");this.bgRect.setAttributeNS(null,"pointer-events","all");this.group.appendChild(this.bgRect);TouchReceiver.addListenersSlider(this.bgRect,this);if(this.type.startsWith("hatchling")&&(a=DeviceHatchling.getManager().getDevice(0),null!=a))for(b=this.type.split("_")[1],
a=a.getPortsByType(b),b=0;b<this.options.length;b++)this.optionDisabled[b]=-1==a.indexOf(b);this.value=h[this.index];this.makeSlider();TouchReceiver.addListenersSlider(this.overlay.bgRect,this);if(1<this.sliders.length)for(h=0;h<this.sliders.length;h++)a=this.sliders[h].getValueIndex(),-1!=a?this.sliders[h].moveToOption(a):this.sliders[h].moveToValue();else h=this.optionValues.indexOf(this.value),-1!=h?this.moveToOption(h):"color"==this.type?this.moveToPosition(InputWidget.Slider.colorToPercent(this.value)):
this.type.startsWith("color_")?this.moveToPosition(this.value/100):this.moveToValue()};InputWidget.Slider.prototype.updateDim=function(a,b){a=InputWidget.Slider;this.height=a.height;this.type.startsWith("color_")&&(this.height=a.height/2);this.width=a.width};
InputWidget.Slider.prototype.makeSlider=function(){var a=InputWidget.Slider;this.position=0;this.range=100;this.barX=a.hMargin;this.barY=(this.height-a.barHeight)/2;this.barW=a.width-2*a.hMargin;var b=a.barColor;this.sliderH=35;this.sliderW=VectorIcon.computeWidth(a.sliderIconPath,this.sliderH);this.sliderY=(this.height-this.sliderH)/2;this.sliderX=this.barX+this.position/this.range*(this.barW-this.sliderW);if("color"==this.type){b=Colors.white;var c=20*a.barHeight;c=GuiElements.draw.rect(this.barX,
this.barY-c/2+a.barHeight/2,this.barW,c,"url(#gradient_spectrum)",4,4);this.group.appendChild(c);TouchReceiver.addListenersSlider(c,this)}else if(this.type.startsWith("color_")){c=10*a.barHeight;var d=c/2-a.barHeight;this.barY+=d;this.sliderY+=d;d=this.type.split("_")[1];c=GuiElements.draw.rightTriangle(this.barX,this.barY,this.barW,c,Colors[d]);this.group.appendChild(c);TouchReceiver.addListenersSlider(c,this)}else{c=a.font.charHeight/2;this.barY+=c;this.sliderY+=c;this.sideSpaceR=this.height/2;
if(this.type.startsWith("angle")){c=this.type.endsWith("clockwise");this.cR=this.sideSpaceR-a.hMargin/4-a.font.charHeight/2;this.cX=this.width-a.hMargin-this.sideSpaceR;this.cY=this.height/2-a.font.charHeight/2;if(!c){d=VectorPaths.mvTurnArrowRight;var e=.67*this.cR,f=VectorIcon.computeWidth(d,e),g=this.cX;const h=this.cY-1.18*this.cR;this.type.endsWith("left")&&(d=VectorPaths.mvTurnArrowLeft,g-=f);new VectorIcon(g,h,d,a.textColor,e,this.group);this.angleWedge=GuiElements.draw.wedge(this.cX,this.cY,
this.cR,45,this.sliderColor);this.group.appendChild(this.angleWedge)}this.angleCircle=GuiElements.draw.circle(this.cX,this.cY,this.cR,"none",this.group);GuiElements.update.stroke(this.angleCircle,a.textColor,1);d=c?17:25;g=VectorIcon.computeWidth(a.sliderIconPath,d);e=this.cX-g/2;f=this.cY-d/2;if(c){this.angleWedge=GuiElements.draw.wedge(this.cX,this.cY,this.cR,45,this.sliderColor,!1,!0);GuiElements.update.stroke(this.angleWedge,this.sliderColor,3);this.group.appendChild(this.angleWedge);c=this.cY+
this.cR+g/2;function h(k,l,m,n,p,q,r,u,t){k=new Button(k,l,m,m,n,p,q,q);k.addIcon(r?VectorPaths.bsArrowClockwise:VectorPaths.bsArrowCounterClockwise,15,null,null,r?290:70);k.setCallbackFunction(function(){u(r)});k.markAsOverlayPart(t);return k}g=function(k){let l="clockwise";if("angle_clockwise"==this.type){if(k)return;l="counterclockwise";this.clockwiseBn.enable();this.counterClockwiseBn.disable()}else{if(!k)return;this.counterClockwiseBn.enable();this.clockwiseBn.disable()}this.type="angle_"+l;
this.updateAngle();this.updateFn(this.value,this.index)}.bind(this);this.clockwiseBn=h(this.cX-20,c,20,this.group,this.sliderColor,2,!0,g,this.overlay);this.counterClockwiseBn=h(this.cX,c,20,this.group,this.sliderColor,2,!1,g,this.overlay);(this.type.endsWith("counterclockwise")?this.counterClockwiseBn:this.clockwiseBn).disable();this.circleIconX=e;this.circleIconY=f;f-=this.cR}this.angleIcon=new VectorIcon(e,f,a.sliderIconPath,Colors.white,d,this.group);GuiElements.update.stroke(this.angleIcon.pathE,
a.textColor,6)}this.barW-=2*this.sideSpaceR+a.hMargin+InputPad.margin}b=GuiElements.draw.rect(this.barX,this.barY,this.barW,a.barHeight,b);this.group.appendChild(b);TouchReceiver.addListenersSlider(b,this);if(null!=this.options&&0!=this.options.length)for(b=7*a.barHeight,c=.75*a.barHeight,d=this.barX,e=this.barY-(b-a.barHeight)/2,f=0;f<this.options.length;f++)this.addOption(d,e,this.options[f],b,c,0==f||f==this.options.length-1,this.optionDisabled[f]),d+=(this.barW-c)/(this.options.length-1);c=Colors.easternBlue;
null!=this.sliderColor&&(c=this.sliderColor);this.sliderIcon=new VectorIcon(this.sliderX,this.sliderY,a.sliderIconPath,c,this.sliderH,this.group,null,90);TouchReceiver.addListenersSlider(this.sliderIcon.pathE,this);this.type.startsWith("wheels")&&(b=this.barX,c=new VectorIcon(b,this.sliderY,a.sliderIconPath,c,this.sliderH,this.group,null,90),TouchReceiver.addListenersSlider(c.pathE,this),d=GuiElements.draw.text(1.5*this.sliderW,1.25*this.sliderH,"L",InputWidget.Slider.font,Colors.white,null,-90),
TouchReceiver.addListenersSlider(d,this),this.sliderIcon.group.appendChild(d),d=GuiElements.draw.text(1.5*this.sliderW,1.25*this.sliderH,"R",InputWidget.Slider.font,Colors.white,null,-90),TouchReceiver.addListenersSlider(d,this),c.group.appendChild(d),d=this.value.split(" "),this.sliders=[],this.sliders.push(new InputWidget.Slider.Slide(parseInt(d[0]),this.sliderX,this.sliderIcon,this)),this.sliders.push(new InputWidget.Slider.Slide(parseInt(d[1]),b,c,this)));"ledArray"==this.type?this.imageG=GuiElements.create.group(0,
0,this.group):this.type.startsWith("color")||"sensor"==this.type||(this.textE=GuiElements.draw.text(0,0,"",InputWidget.Slider.font,a.textColor),this.group.appendChild(this.textE),this.type.startsWith("wheels")&&(this.group.appendChild(document.createElement("br")),this.textE2=GuiElements.draw.text(0,0,"",InputWidget.Slider.font,a.textColor),this.group.appendChild(this.textE2)));if("time"==this.type||"sensor"==this.type)this.labelIconH=23,a=VectorPaths.faClock,"sensor"==this.type&&(a=this.value),this.labelIconW=
VectorIcon.computeWidth(a,this.labelIconH),this.labelIcon=new VectorIcon(0,0,a,Colors.bbtDarkGray,this.labelIconH,this.group)};
InputWidget.Slider.prototype.addOption=function(a,b,c,d,e,f,g){const h=InputWidget.Slider,k=h.optionFont;var l=b;f&&(f=d/6,l-=f,d+=2*f);d=GuiElements.draw.rect(a,l,e,d,h.barColor);this.group.appendChild(d);TouchReceiver.addListenersSlider(d,this);this.optionXs.push(a+e/2);this.optionValues.push(c);d=this.type.split("_")[0];switch(d){case "ledArray":c=GuiElements.draw.ledArray(this.group,c,2.2);GuiElements.move.group(c.group,a-c.width/2+e/2,b-c.width-h.optionMargin);break;case "sensor":g=VectorIcon.computeWidth(c,
23);new VectorIcon(a-g/2+e/2,b-23-h.optionMargin,c,Colors.bbtDarkGray,23,this.group);break;case "percent":case "distance":case "angle":case "time":case "wheels":case "hatchling":l=GuiElements.measure.stringWidth(c,k),a=GuiElements.draw.text(a-l/2+e/2,b-h.optionMargin,c,k,h.textColor),this.group.appendChild(a),"hatchling"==d&&g&&GuiElements.update.opacity(a,.3)}};
InputWidget.Slider.prototype.drag=function(a){var b=a-this.overlay.x-this.overlay.margin;if(null!=this.sliders&&1<this.sliders.length){var c=null;for(var d=0;d<this.sliders.length;d++)this.sliders[d].dragging&&(c=this.sliders[d]);if(null==c)for(c=this.sliders[0],d=1;d<this.sliders.length;d++)Math.abs(this.sliders[d].sliderX+this.sliders[d].sliderW/2-b)<Math.abs(c.sliderX+c.sliderW/2-b)&&(c=this.sliders[d]);c.dragging=!0;c.drag(a)}else if(a=this.barX+this.barW,b<this.barX&&b>this.barX-10&&(b=this.barX),
b>a&&b<a+10&&(b=a),b>=this.barX&&b<=a){this.sliderX=b-this.sliderW/2;this.position=Math.round((b-this.barX)/this.barW*this.range);this.sliderIcon.move(this.sliderX,this.sliderY);if("number"==typeof this.value)if(0!=this.optionValues.length)if(b<this.optionXs[0])this.value=this.optionValues[0];else if(b>this.optionXs[this.optionXs.length-1])this.value=this.optionValues[this.optionValues.length-1];else{a=0;for(c=0;c<this.optionXs.length;c++)this.optionXs[c]<=b&&this.optionXs[c+1]>b&&(a=c);this.value=
Math.round(this.optionValues[a]+(b-this.optionXs[a])/(this.optionXs[a+1]-this.optionXs[a])*(this.optionValues[a+1]-this.optionValues[a]))}else this.value=this.position;else"string"!=typeof this.value&&null!=this.value.r&&(this.value=InputWidget.Slider.percentToColor(this.position/this.range));this.type.startsWith("angle")&&(b=this.type.endsWith("clockwise")?15:5,this.value=Math.round(this.value/b)*b,this.updateAngle());this.updateLabel();this.updateFn(this.value,this.index)}};
InputWidget.Slider.percentToColor=function(a){let b={};.17>a?(b.r=100,b.g=Math.round(100*a/.17),b.b=0):.33>a?(b.r=Math.round(100-100*(a-.17)/.17),b.g=100,b.b=0):.5>a?(b.r=0,b.g=100,b.b=Math.round(100*(a-.33)/.17)):.67>a?(b.r=0,b.g=Math.round(100-100*(a-.5)/.17),b.b=100):.83>a?(b.r=Math.round(100*(a-.67)/.17),b.g=0,b.b=100):(b.r=100,b.g=0,b.b=Math.round(100-100*(a-.83)/.17));return b};
InputWidget.Slider.colorToPercent=function(a){let b=0;100==a.r&&0==a.b?b=.17*a.g/100:100==a.g&&0==a.b?b=.17+.17*(100-a.r)/100:0==a.r&&100==a.g?b=.33+.17*a.b/100:0==a.r&&100==a.b?b=.5+.17*(100-a.g)/100:0==a.g&&100==a.b?b=.66+.17*a.r/100:100==a.r&&0==a.g&&(b=.83+.17*(100-a.b)/100);return b};
InputWidget.Slider.prototype.drop=function(){if(null!=this.sliders&&1<this.sliders.length)for(var a=0;a<this.sliders.length;a++)this.sliders[a].dragging&&(this.sliders[a].dragging=!1,this.sliders[a].drop());else if(a=this.sliderX+this.sliderW/2,this.snapToOption){let b=1E3,c=0;for(let d=0;d<this.optionXs.length;d++){let e=Math.abs(this.optionXs[d]-a);e<b&&(b=e,c=d)}this.moveToOption(c)}};
InputWidget.Slider.prototype.moveToOption=function(a){this.sliderX=this.optionXs[a]-this.sliderW/2;this.sliderIcon.move(this.sliderX,this.sliderY);this.value=this.optionValues[a];this.type.startsWith("angle")&&this.updateAngle();this.updateLabel();this.updateFn(this.value,this.index)};InputWidget.Slider.prototype.moveToPosition=function(a){this.sliderX=this.barX+a*this.barW-this.sliderW/2;this.sliderIcon.move(this.sliderX,this.sliderY);this.updateLabel()};
InputWidget.Slider.prototype.moveToValue=function(){if("number"==typeof this.value&&0!=this.optionValues.length){let a=-1;for(let b=0;b<this.optionValues.length;b++)this.optionValues[b]<this.value&&this.optionValues[b+1]>this.value&&(a=b);-1!=a&&(this.sliderX=this.optionXs[a]+(this.value-this.optionValues[a])/(this.optionValues[a+1]-this.optionValues[a])*(this.optionXs[a+1]-this.optionXs[a])-this.sliderW/2,this.sliderIcon.move(this.sliderX,this.sliderY))}this.type.startsWith("angle")&&this.updateAngle();
this.updateLabel()};
InputWidget.Slider.prototype.updateAngle=function(){const a=this.type.endsWith("left")||this.type.endsWith("counterclockwise");var b=this.type.endsWith("clockwise");null!=this.angleWedge&&(GuiElements.update.wedge(this.angleWedge,this.cX,this.cY,this.cR,this.value,a,b),360==this.value&&b?GuiElements.update.stroke(this.angleCircle,this.sliderColor,3):b?GuiElements.update.stroke(this.angleCircle,InputWidget.Slider.textColor,1):360==this.value?GuiElements.update.color(this.angleCircle,Colors.easternBlue):
GuiElements.update.color(this.angleCircle,"none"));if(null!=this.angleIcon){let c=this.value;a&&(c=360-this.value);b&&(a?(b=270-this.value,0>b&&(b+=360)):(b=this.value+270,360<b&&(b-=360)),this.angleIcon.move(this.circleIconX+this.cR*Math.cos(b*Math.PI/180),this.circleIconY+this.cR*Math.sin(b*Math.PI/180)),c=a?c-90:c+90);this.angleIcon.setRotation(c)}};
InputWidget.Slider.prototype.updateLabel=function(){const a=InputWidget.Slider;if(null!=this.textE){var b=this.value+this.displaySuffix;if(this.type.startsWith("wheels")){var c=this.value.split(" ");b="L "+c[0]+"%";GuiElements.update.text(this.textE2,"R "+c[1]+"%")}GuiElements.update.textLimitWidth(this.textE,b,2*this.sideSpaceR);b=GuiElements.measure.textWidth(this.textE);c=0;null!=this.labelIcon&&(c=this.labelIconW,this.labelIcon.move(this.width-a.hMargin-this.sideSpaceR+b/2+5-c/2,this.height/2-
this.labelIconH/2));b=this.width-a.hMargin-this.sideSpaceR-(b+c)/2;c=this.height/2+a.font.charHeight/2;c+=this.cR?this.cR+a.font.charHeight/2:0;this.type.endsWith("clockwise")&&(c-=1.5*this.cR);GuiElements.move.text(this.textE,b,c);this.type.startsWith("wheels")&&(GuiElements.move.text(this.textE,b,c-a.font.charHeight/2),GuiElements.move.text(this.textE2,b,c+a.font.charHeight))}else null!=this.labelIcon&&("sensor"==this.type&&(this.labelIcon.remove(),this.labelIcon=new VectorIcon(0,0,this.value,Colors.bbtDarkGray,
this.labelIconH,this.group)),this.labelIcon.move(this.width-a.hMargin-this.sideSpaceR-this.labelIconW/2,this.height/2-this.labelIconH/2),this.type.startsWith("hatchling")&&this.labelIcon.setColor(this.value));null!=this.imageG&&(this.imageG.remove(),b=GuiElements.draw.ledArray(this.group,this.value,4),GuiElements.move.group(b.group,this.width-a.hMargin-this.sideSpaceR-b.width/2,this.height/2-b.width/2),this.imageG=b.group)};InputWidget.Piano=function(a){this.index=a;this.keys={};this.type="piano"};
InputWidget.Piano.prototype=Object.create(InputWidget.prototype);InputWidget.Piano.prototype.constructor=InputWidget.Piano;
InputWidget.Piano.setConstants=function(){const a=InputWidget.Piano;a.bnMargin=2;a.firstNote=48;a.numWhiteKeys=14;a.inputPadWidth=FinchBlox?InputPad.width:3*InputPad.width;a.whiteKeyW=(a.inputPadWidth-a.bnMargin*(a.numWhiteKeys-1))/a.numWhiteKeys;a.blackKeyW=.65*a.whiteKeyW;a.wkIcon=VectorPaths.mvPianoWhiteKey;a.whiteKeyH=a.wkIcon.height/a.wkIcon.width*a.whiteKeyW;a.bkIcon=VectorPaths.mvPianoBlackKey;a.blackKeyH=a.bkIcon.height/a.bkIcon.width*a.blackKeyW;a.font=Font.uiFont(34).bold();a.blackKeys=
[49,51,54,56,58,61,63,66,68,70,73,75,78,80,82];a.noteStrings={48:"C3",49:"C#3",50:"D3",51:"D#3",52:"E3",53:"F3",54:"F#3",55:"G3",56:"G#3",57:"A3",58:"A#3",59:"B3",60:"C4",61:"C#4",62:"D4",63:"D#4",64:"E4",65:"F4",66:"F#4",67:"G4",68:"G#4",69:"A4",70:"A#4",71:"B4",72:"C5",73:"C#5",74:"D5",75:"D#5",76:"E5",77:"F5",78:"F#5",79:"G5",80:"G#5",81:"A5",82:"A#5",83:"B5",84:"C6"}};
InputWidget.Piano.prototype.show=function(a,b,c,d,e,f,g,h){InputWidget.prototype.show.call(this,a,b,c,d,e,f,g,h);this.group=GuiElements.create.group(a,b,c);FinchBlox?this.makeBns(h[this.index]):this.makeBns(h.getValue())};InputWidget.Piano.prototype.updateDim=function(a,b){a=InputWidget.Piano;this.height=a.whiteKeyH+2*a.bnMargin;this.width=a.whiteKeyW*a.numWhiteKeys+(a.numWhiteKeys-1)*a.bnMargin};
InputWidget.Piano.prototype.grayOutUnlessZero=function(){const a=this.displayNum.getData();(this.displayNum.isNum||0!==a.getValue())&&this.slotShape.grayOutValue()};
InputWidget.Piano.prototype.makeBns=function(a){const b=InputWidget.Piano;let c=b.firstNote,d=0;var e=[];for(let f=0;f<b.numWhiteKeys;f++){this.makeWhiteKey(d,0,c);c+=1;if(this.isBlackKey(c)){let g={};g.xPos=d;g.yPos=0;g.currentNum=c;e.push(g);c+=1}d+=b.bnMargin;d+=b.whiteKeyW}e.forEach(function(f){this.makeBlackKey(f.xPos,f.yPos,f.currentNum)}.bind(this));this.keys[a].press();this.keys[a].release()};
InputWidget.Piano.prototype.makeWhiteKey=function(a,b,c){const d=InputWidget.Piano;a=this.makeKey(a,b,c,d.whiteKeyW,d.whiteKeyH);a.addColorIcon(VectorPaths.mvPianoWhiteKey,d.whiteKeyH,Colors.white);a.iconInverts=!0;GuiElements.update.stroke(a.icon.pathE,Colors.iron,1)};
InputWidget.Piano.prototype.makeBlackKey=function(a,b,c){const d=InputWidget.Piano;a+=d.whiteKeyW+d.bnMargin/2-d.blackKeyW/2;a=this.makeKey(a,b,c,d.blackKeyW,d.blackKeyH);a.addColorIcon(VectorPaths.mvPianoBlackKey,d.blackKeyH,Colors.black);a.iconInverts=!0};
InputWidget.Piano.prototype.makeKey=function(a,b,c,d,e){a=new Button(a,b,d,e,this.group,Colors.white);a.setCallbackFunction(function(){this.keyPressed(c)}.bind(this));a.setUnToggleFunction(function(){});a.markAsOverlayPart(this.overlay);GuiElements.update.opacity(a.bgRect,0);return this.keys[c]=a};InputWidget.Piano.prototype.isBlackKey=function(a){return-1!==InputWidget.Piano.blackKeys.indexOf(a)?!0:!1};
InputWidget.Piano.prototype.keyPressed=function(a){FinchBlox?this.updateFn(a,this.index):this.updateFn(new NumData(a));this.updatePressed(a)};
InputWidget.Piano.prototype.updatePressed=function(a){if(null!=this.pressedKey&&a!=this.pressedKey){const b=this.keys[this.pressedKey];b.unToggle();-1!==InputWidget.Piano.blackKeys.indexOf(this.pressedKey)?GuiElements.update.stroke(b.icon.pathE,Colors.black,0):GuiElements.update.stroke(b.icon.pathE,Colors.iron,1)}this.pressedKey=a;GuiElements.update.stroke(this.keys[this.pressedKey].icon.pathE,Colors.fbPurpleBorder,1)};
InputWidget.Color=function(a){this.type="colorPicker";this.index=a;this.saturation=this.hue=0;this.brightness=100};InputWidget.Color.prototype=Object.create(InputWidget.prototype);InputWidget.Color.prototype.constructor=InputWidget.Color;
InputWidget.Color.prototype.show=function(a,b,c,d,e,f,g,h){InputWidget.prototype.show.call(this,a,b,c,d,e,f,g,h);this.group=GuiElements.create.group(a,b,c);this.colorWheelX=100;this.colorwheel=GuiElements.draw.image("Color_circle_(RGB)",this.colorWheelX,0,this.height,this.height,this.group,!0);TouchReceiver.addListenersColorWheel(this.colorwheel,this);a=2*InputWidget.Slider.barHeight;this.barX=this.height+200;this.barW=this.width-this.barX-100;b=2*this.height/3-a/2;this.sliderW=VectorIcon.computeWidth(InputWidget.Slider.sliderIconPath,
20);this.sliderY=2*this.height/3-10;this.sliderX=this.barX+this.brightness/100*(this.barW-this.sliderW);this.sliderBar=GuiElements.draw.rect(this.barX,b,this.barW,a,Colors.black);this.group.appendChild(this.sliderBar);TouchReceiver.addListenersSlider(this.sliderBar,this);GuiElements.update.stroke(this.sliderBar,Colors.darkDarkGray,.1);this.sliderIcon=new VectorIcon(this.sliderX,this.sliderY,InputWidget.Slider.sliderIconPath,Colors.black,20,this.group,null,90);TouchReceiver.addListenersSlider(this.sliderIcon.pathE,
this);GuiElements.update.stroke(this.sliderIcon.pathE,Colors.darkDarkGray,3);this.updateSlider()};
InputWidget.Color.prototype.drag=function(a){a=a-this.overlay.x-this.overlay.margin;const b=this.barX+this.barW;a<this.barX&&a>this.barX-10&&(a=this.barX);a>b&&a<b+10&&(a=b);a>=this.barX&&a<=b&&(this.sliderX=a-this.sliderW/2,this.brightness=Math.round((a-this.barX)/this.barW*100),console.log("set brightness to "+this.brightness),this.sliderIcon.move(this.sliderX,this.sliderY),this.updateFn(this.getHex(),this.index))};InputWidget.Color.prototype.drop=function(){console.log("drop brightness slider")};
InputWidget.Color.prototype.updateSlider=function(){let a=this.getHex(!0);GuiElements.create.gradient("Brightness"+a,"#000000",a,!0);GuiElements.update.color(this.sliderBar,"url(#Brightness"+a+")");GuiElements.update.color(this.sliderIcon.pathE,a)};
InputWidget.Color.prototype.dragColor=function(a,b){a=a-this.colorWheelX-this.overlay.x-this.overlay.margin;b=b-this.overlay.y-this.overlay.margin;let c=this.height/2;var d=a-c;let e=b-c,f=360*Math.atan2(e,d)/(2*Math.PI)-90;0>f&&(f+=360);d=Math.sqrt(Math.pow(d,2)+Math.pow(e,2));this.hue=f;this.saturation=Math.min(100,Math.ceil(d/c*100));console.log("dragColor hue="+this.hue+"; saturation="+this.saturation+"; x="+a+"; y="+b+"; r="+c);console.log(this.getHex());this.updateSlider();this.updateFn(this.getHex(),
this.index)};InputWidget.Color.prototype.getHex=function(a){var b=this.hue/360*6,c=this.saturation/100;a=a?1:this.brightness/100;var d=Math.floor(b);const e=b-d;b=a*(1-c);const f=a*(1-e*c);c=a*(1-(1-e)*c);d%=6;return"#"+[255*[b,c,a,a,f,b][d],255*[f,b,b,c,a,a][d],255*[a,a,f,b,b,c][d]].map(g=>Math.round(g).toString(16).padStart(2,"0")).join("").toUpperCase()};InputWidget.Color.prototype.dropColor=function(){console.log("dropColor")};
InputWidget.Color.prototype.updateDim=function(a,b){a=InputWidget.Slider;this.height=2*a.height;this.width=a.width};function SoundInputPad(a,b,c,d,e){InputSystem.call(this);const f=this.coords={};f.x1=a;f.x2=b;f.y1=c;f.y2=d;this.isRecording=e}SoundInputPad.prototype=Object.create(InputSystem.prototype);SoundInputPad.prototype.constructor=InputSystem;
SoundInputPad.setConstants=function(){const a=SoundInputPad;a.margin=InputPad.margin;a.rowHeight=SmoothMenuBnList.bnHeight;a.width=300;a.playBnWidth=RowDialog.smallBnWidth;a.mainBnWidth=a.width-a.playBnWidth-a.margin;a.iconH=RowDialog.iconH;a.background=Colors.lightGray};
SoundInputPad.prototype.show=function(a,b,c,d){InputSystem.prototype.show.call(this,a,b,c,d);a=SoundInputPad;this.group=GuiElements.create.group(0,0);this.updateDim();b=GuiElements.create.group(0,0);this.bubbleOverlay=new BubbleOverlay(Overlay.types.inputPad,a.background,a.margin,b,this,GuiElements.layers.inputPad);a=this.coords;this.bubbleOverlay.display(a.x1,a.x2,a.y1,a.y2,this.width,this.height);a=this.bubbleOverlay.relToAbsX(0);b=this.bubbleOverlay.relToAbsY(0);this.createRows();this.smoothScrollBox=
new SmoothScrollBox(this.group,GuiElements.layers.frontScroll,a,b,this.width,this.height,this.width,this.innerHeight,this.bubbleOverlay);this.smoothScrollBox.show()};SoundInputPad.prototype.updateDim=function(){const a=SoundInputPad,b=GuiElements.height-2*a.margin;var c=Sound.getSoundList(this.isRecording).length;c=(a.rowHeight+a.margin)*c-a.margin;this.isRecording&&(c+=a.margin+a.rowHeight);c=Math.max(0,c);this.height=Math.min(c,b);this.innerHeight=c;this.width=a.width};
SoundInputPad.prototype.createRows=function(){const a=SoundInputPad;let b=0;Sound.getSoundList(this.isRecording).forEach(function(c){this.createRow(c,b);b+=a.margin+a.rowHeight}.bind(this));this.isRecording&&this.createRecordBn(0,b,a.width)};SoundInputPad.prototype.createRow=function(a,b){const c=SoundInputPad;this.createMainBn(a,0,b,c.mainBnWidth,c.rowHeight,this.group);this.createPlayBn(a,c.margin+c.mainBnWidth,b,c.playBnWidth)};
SoundInputPad.prototype.createRecordBn=function(a,b,c){a=new Button(a,b,c,SoundInputPad.rowHeight,this.group);a.addText(Language.getStr("Record_sound"));a.markAsOverlayPart(this.bubbleOverlay);a.setCallbackFunction(function(){RecordingDialog.showDialog();this.close()}.bind(this),!0);a.makeScrollable()};
SoundInputPad.prototype.createMainBn=function(a,b,c,d){b=new Button(b,c,d,SoundInputPad.rowHeight,this.group);b.addText(a.name);b.markAsOverlayPart(this.bubbleOverlay);b.setCallbackFunction(function(){this.currentData=new SelectionData(a.name,a.id);this.close()}.bind(this),!0);b.makeScrollable()};
SoundInputPad.prototype.createPlayBn=function(a,b,c,d){const e=SoundInputPad,f=new Button(b,c,d,e.rowHeight,this.group);var g=!1;f.addIcon(VectorPaths.play,e.iconH);f.markAsOverlayPart(this.bubbleOverlay);const h=function(){g=!1;f.addIcon(VectorPaths.play,e.iconH)};f.setCallbackFunction(function(){g?(h(),Sound.stopAllSounds()):(g=!0,f.addIcon(VectorPaths.square,e.iconH),Sound.playAndStopPrev(a.id,this.isRecording,null,h,h))}.bind(this),!0);f.makeScrollable()};
SoundInputPad.prototype.close=function(){this.closed||(InputSystem.prototype.close.call(this),this.smoothScrollBox.hide(),this.bubbleOverlay.close(),Sound.stopAllSounds())};function BubbleOverlay(a,b,c,d,e,f){null==f&&(f=GuiElements.layers.overlay);Overlay.call(this,a);this.y=this.x=0;this.bgColor=b;this.margin=c;this.innerGroup=d;this.parent=e;this.layerG=f;this.visible=!1;this.buildBubble()}BubbleOverlay.prototype=Object.create(Overlay.prototype);BubbleOverlay.prototype.constructor=BubbleOverlay;
BubbleOverlay.setGraphics=function(){FinchBlox?(BubbleOverlay.triangleW=40,BubbleOverlay.triangleH=10):(BubbleOverlay.triangleW=15,BubbleOverlay.triangleH=7);BubbleOverlay.overlap=1;BubbleOverlay.minW=25};BubbleOverlay.prototype.buildBubble=function(){this.buildGroups();this.makeBg()};
BubbleOverlay.prototype.buildGroups=function(){this.group=GuiElements.create.group(0,0);TouchReceiver.addListenersOverlayPart(this.group);this.bgGroup=GuiElements.create.group(0,0,this.group);this.group.appendChild(this.innerGroup);GuiElements.move.group(this.innerGroup,this.margin,this.margin)};
BubbleOverlay.prototype.makeBg=function(){this.bgRect=GuiElements.create.rect(this.bgGroup);GuiElements.update.color(this.bgRect,this.bgColor);this.triangle=GuiElements.create.path(this.bgGroup);GuiElements.update.color(this.triangle,this.bgColor)};BubbleOverlay.prototype.show=function(){this.visible||(this.layerG.appendChild(this.group),this.visible=!0,this.addOverlayAndCloseOthers())};BubbleOverlay.prototype.hide=function(){this.visible&&(this.group.remove(),this.visible=!1,Overlay.removeOverlay(this))};
BubbleOverlay.prototype.close=function(){this.hide();this.parent.close()};
BubbleOverlay.prototype.display=function(a,b,c,d,e,f){DebugOptions.validateNumbers(a,b,c,d,e,f);const g=BubbleOverlay;let h=e+2*this.margin;h<g.minW&&(h=g.minW);const k=f+2*this.margin;GuiElements.move.group(this.innerGroup,(h-e)/2,(k-f)/2);var l=h+g.triangleH,m=k+g.triangleH;const n=Math.max(0,d+m-GuiElements.height);e=Math.max(0,m-c);const p=Math.max(0,l-a),q=Math.min(e,n,p,Math.max(0,b+l-GuiElements.width));e=e<=q||n<=q;f=1;e?(a=(a+b)/2,l=this.fitLocationToRange(a,h,GuiElements.width),n<=q?(m=
d+g.triangleH,c=d):(m=c-m,f=-1)):(c=(c+d)/2,m=this.fitLocationToRange(c,k,GuiElements.height),p<=q?(l=a-l,f=-1):(l=b+g.triangleH,a=b));a-=l;b=c-m;c=(g.triangleH+g.overlap)*f;this.x=l;this.y=m;GuiElements.move.group(this.group,l,m);GuiElements.update.triangleFromPoint(this.triangle,a,b,g.triangleW,c,e);GuiElements.update.rect(this.bgRect,0,0,h,k);this.show()};BubbleOverlay.prototype.fitLocationToRange=function(a,b,c){a-=b/2;b>c?a=(c-b)/2:0>a?a=0:a+b>c&&(a=c-b);return a};
BubbleOverlay.prototype.relToAbsX=function(a){return a+this.x+this.margin};BubbleOverlay.prototype.relToAbsY=function(a){return a+this.y+this.margin};function FBBubbleOverlay(a,b,c,d,e,f){null!=f&&(this.width=19*GuiElements.width/20);this.outlineColor=e;this.block=f;BubbleOverlay.call(this,a,Colors.white,b,c,d,GuiElements.layers.overlay);this.blockG=GuiElements.create.group(0,0,GuiElements.layers.overlay)}FBBubbleOverlay.prototype=Object.create(BubbleOverlay.prototype);
FBBubbleOverlay.prototype.constructor=FBBubbleOverlay;FBBubbleOverlay.prototype.makeBg=function(){this.bgRect=GuiElements.draw.rect(0,0,0,0,this.bgColor,10,10);this.bgGroup.appendChild(this.bgRect);GuiElements.update.stroke(this.bgRect,this.outlineColor,4);this.triangle=GuiElements.create.path(this.bgGroup);GuiElements.update.color(this.triangle,this.outlineColor)};
FBBubbleOverlay.prototype.show=function(){if(!this.visible){BubbleOverlay.prototype.show.call(this);if(null!=this.block){const a=TabManager.activeTab.zoomFactor;GuiElements.update.zoom(this.blockG,a);this.blockG.appendChild(this.block.group);let b=this.block.stack.relToAbsX(this.block.x),c=this.block.stack.relToAbsY(this.block.y);GuiElements.move.group(this.block.group,b/a,c/a)}else null!=this.parent.parentGroup&&this.blockG.appendChild(this.parent.parentGroup);GuiElements.blockInteraction()}};
FBBubbleOverlay.prototype.hide=function(){BubbleOverlay.prototype.hide.call(this);null!=this.block?(this.block.group.remove(),this.block.stack.group.appendChild(this.block.group),GuiElements.move.group(this.block.group,this.block.x,this.block.y)):null!=this.parent.parentGroup&&this.parent.parentLayer.appendChild(this.parent.parentGroup);GuiElements.unblockInteraction()};
FBBubbleOverlay.prototype.display=function(a,b,c,d,e,f){DebugOptions.validateNumbers(a,b,c,d,e,f);const g=BubbleOverlay;f+=2*this.margin;e=this.width||e+2*this.margin;GuiElements.move.group(this.innerGroup,this.margin,this.margin);const h=null==this.block||c>this.block.y+(this.block.stack?this.block.stack.y:0),k=f+g.triangleH,l=Math.max(0,d+k-GuiElements.height),m=Math.max(0,k-c);b=(a+b)/2;a=1;l<=m&&h||l<m?(this.y=d+g.triangleH-2,d-=2):(this.y=c-k,d=c,a=-1);this.x=(GuiElements.width-this.width)/2;
c=b-this.x;null==this.block&&(this.x=GuiElements.width-e-this.margin,c=b);d-=this.y;a*=g.triangleH+g.overlap;GuiElements.move.group(this.group,this.x,this.y);GuiElements.update.triangleFromPoint(this.triangle,c,d,g.triangleW,a,!0);GuiElements.update.rect(this.bgRect,0,0,e,f);this.show()};function FBPopup(a,b,c,d,e){this.parentX=a;this.parentY=b;this.parentW=c;this.parentH=d;this.parentGroup=e;this.parentLayer=GuiElements.layers.titlebar}
FBPopup.setConstants=function(){FBPopup.bnMargin=Button.defaultMargin;FBPopup.color=Colors.easternBlue;FBPopup.bubbleMargin=20;FBPopup.font=Font.secondaryUiFont(16);FBPopup.fontColor=Colors.bbtDarkGray;FBPopup.trashIcon=VectorPaths.faTrash;FBPopup.trashColor=Colors.stopRed;FBPopup.innerWidth=GuiElements.width/2;FBPopup.isEditingText=!1;FBPopup.currentPopup=null};
FBPopup.prototype.show=function(a){const b=Overlay.types.inputPad;this.innerWidth=FBPopup.innerWidth;this.innerHeight=this.innerWidth*a;this.innerGroup=GuiElements.create.group(0,0);this.bubbleOverlay=new FBBubbleOverlay(b,FBPopup.bubbleMargin,this.innerGroup,this,FBPopup.color);this.bubbleOverlay.display(this.parentX,this.parentY,this.parentX+this.parentW,this.parentY+this.parentH,this.innerWidth,this.innerHeight);this.x=this.bubbleOverlay.x;this.y=this.bubbleOverlay.y;FBPopup.currentPopup=this};
FBPopup.prototype.close=function(){this.bubbleOverlay.hide();FBPopup.isEditingText&&GuiElements.isAndroid&&HtmlServer.sendRequestWithCallback("ui/hideNavigationBar");FBPopup.isEditingText=!1;FBPopup.currentPopup=null};
FBPopup.prototype.addConfirmCancelBns=function(){const a=TitleBar.defaultCornerRounding,b=this.innerWidth/3,c=2*b/5,d=2*c/3,e=this.innerWidth/20,f=this.innerWidth/2-b-e/2,g=this.innerHeight-c;this.confirmBn=new Button(this.innerWidth/2+e/2,g,b,c,this.innerGroup,Colors.flagGreen,a,a);this.confirmBn.addIcon(VectorPaths.faCheck,d);this.confirmBn.setCallbackFunction(function(){this.confirm()}.bind(this),!1);this.cancelBn=new Button(f,g,b,c,this.innerGroup,Colors.stopRed,a,a);this.cancelBn.addIcon(VectorPaths.faTimes,
d);this.cancelBn.setCallbackFunction(function(){this.cancel()}.bind(this),!0)};FBPopup.prototype.confirm=function(){DebugOptions.markAbstract()};FBPopup.prototype.cancel=function(){GuiElements.unblockInteraction()};function FBFileSelect(a,b,c,d,e){FBPopup.call(this,a,b,c,d,e)}FBFileSelect.prototype=Object.create(FBPopup.prototype);FBFileSelect.prototype.constructor=FBFileSelect;
FBFileSelect.prototype.show=function(){const a=RowDialog;var b=TitleBar.defaultCornerRounding,c=TitleBar.longButtonW,d=TitleBar.tallButtonH;const e=(FBPopup.innerWidth-c)/2,f=d/4,g=2*d/3;var h=2*f+d+FBPopup.bubbleMargin,k=[];for(let l=0;l<LevelManager.filesSavedLocally.length;l++){const m=LevelManager.filesSavedLocally[l];switch(m.slice(-2)){case LevelManager.fileLevelSuffixes[1]:case LevelManager.fileLevelSuffixes[2]:case LevelManager.fileLevelSuffixes[3]:k.push(m)}}this.fileList=FileList.getSortedList(k);
this.rowCount=this.fileList.length;k=this.rowCount*(a.bnMargin+a.bnHeight)-a.bnMargin;FBPopup.prototype.show.call(this,Math.min(h+k,GuiElements.height-2.5*TitleBar.height)/FBPopup.innerWidth);this.newFileBn=new Button(e,f,c,d,this.innerGroup,FBPopup.color,b,b);this.newFileBn.addIcon(VectorPaths.faPlus,g);this.newFileBn.setCallbackFunction(function(){this.close();Hatchling?LevelManager.loadLevelSavePoint():(new LevelDialog).show()}.bind(this),!0);this.newFileBn.partOfOverlay=this.bubbleOverlay;c=this.innerHeight-
h;this.contentWidth=this.innerWidth+2*FBPopup.bubbleMargin-4;this.hintText="";b=2+this.x;h=h+FBPopup.bubbleMargin+this.y;d=this.contentWidth;c=Math.min(c,k);0!=this.rowCount&&(this.rowGroup=a.prototype.createContent.call(this),this.scrollBox=new SmoothScrollBox(this.rowGroup,GuiElements.layers.frontScroll,b,h,d,c,d,k),this.scrollBox.partOfOverlay=this.bubbleOverlay,this.scrollBox.show())};
FBFileSelect.prototype.createRow=function(a,b,c,d){const e=this.fileList[a];var f=e.slice(0,-2),g=e.slice(-1);var h=0==a%2?Colors.white:Colors.fbGray;b=new Button(0,b,c,RowDialog.bnHeight,d,h);c=(b.height+FBPopup.font.charHeight)/2;d=GuiElements.draw.text(FBPopup.bubbleMargin,c,"",FBPopup.font,FBPopup.fontColor);GuiElements.update.textLimitWidth(d,f,b.width);b.group.appendChild(d);TouchReceiver.addListenersBN(d,b);d=VectorIcon.computeWidth(FBPopup.trashIcon,18);f=b.width-FBPopup.bubbleMargin-d;h=
new Button(f,(b.height-18)/2,d,18,b.group,h);h.addColorIcon(FBPopup.trashIcon,18,FBPopup.trashColor);h.partOfOverlay=this.bubbleOverlay;h.setCallbackFunction(function(){this.close();(new FBConfirmDelete(this.parentX,this.parentY,this.parentW,this.parentH,this.parentGroup,e)).show()}.bind(this),!0);if(!Hatchling){d=Font.uiFont(18);var k=3*d.charHeight/2;h=8*k/7;f=f-2*FBPopup.bubbleMargin-h;k=GuiElements.draw.rect(f,(b.height-k)/2,h,k,Colors.seance,4,4);b.group.appendChild(k);TouchReceiver.addListenersBN(k,
b);g=GuiElements.draw.text(0,0,g,d,Colors.white);d=GuiElements.measure.textWidth(g);GuiElements.move.text(g,f+(h-d)/2,c);b.group.appendChild(g);TouchReceiver.addListenersBN(g,b)}b.setCallbackFunction(function(){this.selectFile(a)}.bind(this),!0);b.makeScrollable();b.partOfOverlay=this.bubbleOverlay};FBFileSelect.prototype.selectFile=function(a){this.close();LevelManager.openFile(this.fileList[a])};FBFileSelect.prototype.close=function(){null!=this.scrollBox&&this.scrollBox.hide();FBPopup.prototype.close.call(this)};
function FBSaveFile(a,b,c,d,e,f){FBPopup.call(this,a,b,c,d,e);this.currentName=f}FBSaveFile.prototype=Object.create(FBPopup.prototype);FBSaveFile.prototype.constructor=FBSaveFile;
FBSaveFile.prototype.show=function(){FBPopup.prototype.show.call(this,.3);var a=TitleBar.defaultCornerRounding;this.textBoxHeight=this.innerHeight/3;this.textRect=GuiElements.draw.rect(0,0,this.innerWidth,this.textBoxHeight,Colors.white,a,a);GuiElements.update.stroke(this.textRect,Colors.fbGray,2);this.innerGroup.appendChild(this.textRect);TouchReceiver.addListenersEditText(this.textRect,this);this.addConfirmCancelBns();a=FBPopup.font;const b=FBPopup.fontColor,c=a.charHeight/2;this.charCount=0;this.editableText=
GuiElements.create.editableText(a,b,0,c,this.innerWidth,this.textBoxHeight,this.innerGroup);null!=this.currentName&&(this.editableText.textContent=this.currentName);TouchReceiver.addListenersEditText(this.editableText,this);this.editText()};FBSaveFile.prototype.editText=function(){FBPopup.isEditingText=!0;this.editableText.focus()};
FBSaveFile.prototype.confirm=function(){if(null!=this.editableText&&null!=this.editableText.textContent&&""!=this.editableText.textContent){var a=this.editableText.textContent;a!=this.currentName&&LevelManager.saveAs(a,null!=this.currentName)}};function FBConfirmDelete(a,b,c,d,e,f){FBPopup.call(this,a,b,c,d,e);this.fileName=f}FBConfirmDelete.prototype=Object.create(FBPopup.prototype);FBConfirmDelete.prototype.constructor=FBConfirmDelete;
FBConfirmDelete.prototype.show=function(){FBPopup.prototype.show.call(this,.5);var a=Font.secondaryUiFont(82),b=GuiElements.draw.text(0,0,"?",a,FBPopup.trashColor),c=GuiElements.measure.textWidth(b),d=VectorIcon.computeWidth(FBPopup.trashIcon,60);const e=(this.innerWidth-d-c-5)/2+d+5;a=1+(60+a.charHeight)/2;new VectorIcon((this.innerWidth-d-c-5)/2,0,FBPopup.trashIcon,FBPopup.trashColor,60,this.innerGroup);GuiElements.move.text(b,e,a);this.innerGroup.appendChild(b);c=this.fileName.slice(0,-2);b=Font.secondaryUiFont(25);
c=GuiElements.draw.text(0,0,c,b,FBPopup.fontColor);d=GuiElements.measure.textWidth(c);GuiElements.move.text(c,(this.innerWidth-d)/2,60+FBPopup.bubbleMargin+b.charHeight);this.innerGroup.appendChild(c);this.addConfirmCancelBns()};FBConfirmDelete.prototype.confirm=function(){LevelManager.userDeleteFile(this.fileName)};
function ResultBubble(a,b,c,d,e,f){const g=ResultBubble;null==f&&(f=!1);var h=g.fontColor;let k=g.bgColor;f&&(h=g.errorFontColor,k=g.errorBgColor);f=g.font.charHeight;h=GuiElements.draw.text(0,f,e,g.font,h);GuiElements.update.textLimitWidth(h,e,GuiElements.width-2*g.hMargin);e=GuiElements.measure.textWidth(h);const l=GuiElements.create.group(0,0);l.appendChild(h);this.bubbleOverlay=new BubbleOverlay(Overlay.types.resultBubble,k,g.margin,l,this,GuiElements.layers.resultBubble);this.bubbleOverlay.display(a,
b,c,d,e,f)}ResultBubble.setConstants=function(){const a=ResultBubble;a.fontColor=Colors.black;a.errorFontColor=Colors.white;a.bgColor=Colors.white;a.errorBgColor=Colors.darkRed;a.font=Font.uiFont(16);a.margin=4;a.hMargin=20};ResultBubble.prototype.close=function(){this.bubbleOverlay.hide()};ResultBubble.displayValue=function(a,b,c,d,e,f){null==f&&(f=!1);new ResultBubble(b,b+d,c,c+e,a,f)};
function SmoothScrollBox(a,b,c,d,e,f,g,h,k){null==k&&(k=null);DebugOptions.validateNonNull(a,b);DebugOptions.validateNumbers(e,f,g,h);this.x=c;this.y=d;this.width=e;this.height=f;this.innerWidth=g;this.innerHeight=h;this.layer=b;this.scrollDiv=GuiElements.create.scrollDiv();TouchReceiver.addListenersScrollBox(this.scrollDiv,this);this.contentSvg=GuiElements.create.svg(this.scrollDiv);this.contentGroup=GuiElements.create.group(0,0,this.contentSvg);this.contentGroup.appendChild(a);this.scrollStatus=
{};this.fixScrollTimer=TouchReceiver.createScrollFixTimer(this.scrollDiv,this.scrollStatus);this.visible=!1;this.currentZoom=GuiElements.zoomFactor;this.partOfOverlay=k}SmoothScrollBox.prototype.updateScrollSet=function(){if(this.visible){let a=GuiElements.relToAbsX(this.x),b=GuiElements.relToAbsY(this.y);GuiElements.update.smoothScrollSet(this.scrollDiv,this.contentSvg,this.contentGroup,a,b,this.width,this.height,this.innerWidth,this.innerHeight)}};
SmoothScrollBox.prototype.updateZoom=function(){const a=this.getScrollX(),b=this.getScrollY();this.currentZoom=GuiElements.zoomFactor;this.updateScrollSet();this.setScrollX(a);this.setScrollY(b)};SmoothScrollBox.prototype.setContentDims=function(a,b){this.innerHeight=b;this.innerWidth=a;this.updateScrollSet()};SmoothScrollBox.prototype.setDims=function(a,b){this.width=a;this.height=b;this.updateScrollSet()};SmoothScrollBox.prototype.move=function(a,b){this.x=a;this.y=b;this.updateScrollSet()};
SmoothScrollBox.prototype.show=function(){this.visible||(this.visible=!0,this.layer.appendChild(this.scrollDiv),this.fixScrollTimer=TouchReceiver.createScrollFixTimer(this.scrollDiv),this.updateScrollSet(),TouchReceiver.setInitialScrollFix(this.scrollDiv))};SmoothScrollBox.prototype.hide=function(){this.visible&&(this.visible=!1,this.layer.removeChild(this.scrollDiv),null!=this.fixScrollTimer&&window.clearInterval(this.fixScrollTimer))};
SmoothScrollBox.prototype.relToAbsX=function(a){return a-this.scrollDiv.scrollLeft/this.currentZoom+this.x};SmoothScrollBox.prototype.relToAbsY=function(a){return a-this.scrollDiv.scrollTop/this.currentZoom+this.y};SmoothScrollBox.prototype.absToRelX=function(a){return a+this.scrollDiv.scrollLeft*this.currentZoom-this.x};SmoothScrollBox.prototype.absToRelY=function(a){return a+this.scrollDiv.scrollTop*this.currentZoom-this.y};
SmoothScrollBox.prototype.getScrollY=function(){return this.visible?this.scrollDiv.scrollTop/this.currentZoom:0};SmoothScrollBox.prototype.getScrollX=function(){return this.visible?this.scrollDiv.scrollLeft/this.currentZoom:0};SmoothScrollBox.prototype.setScrollX=function(a){this.scrollDiv.scrollLeft=a*this.currentZoom;TouchReceiver.setInitialScrollFix(this.scrollDiv)};SmoothScrollBox.prototype.setScrollY=function(a){this.scrollDiv.scrollTop=a*this.currentZoom;TouchReceiver.setInitialScrollFix(this.scrollDiv)};
SmoothScrollBox.prototype.isMoving=function(){return!this.scrollStatus.still};
function SmoothMenuBnList(a,b,c,d,e,f){null==f&&(f=GuiElements.layers.frontScroll);this.x=c;this.y=d;this.width=e;null==e&&(this.width=null);this.height=0;this.bnHeight=SmoothMenuBnList.bnHeight;this.bnMargin=Button.defaultMargin;this.bnsGenerated=!1;this.options=[];this.iconColors=[];this.bns=null;this.build();this.parentGroup=b;this.parent=a;this.layer=f;this.visible=!1;this.partOfOverlay=null;this.internalHeight=0;this.maxHeight=null;this.scrollStatus={};this.scrollable=!1}
SmoothMenuBnList.setGraphics=function(){const a=SmoothMenuBnList;a.bnHeight=34;a.bnHMargin=10;a.minWidth=40};SmoothMenuBnList.prototype.build=function(){this.scrollDiv=GuiElements.create.scrollDiv();TouchReceiver.addListenersSmoothMenuBnListScrollRect(this.scrollDiv,this);this.svg=GuiElements.create.svg(this.scrollDiv);this.zoomG=GuiElements.create.group(0,0,this.svg)};SmoothMenuBnList.prototype.setMaxHeight=function(a){this.maxHeight=a};
SmoothMenuBnList.prototype.addOption=function(a,b,c){null==b&&(b=null);null==c&&(c=null);this.bnsGenerated=!1;const d={};d.func=b;d.text=a;d.addTextFn=c;this.options.push(d)};SmoothMenuBnList.prototype.show=function(){this.generateBns();this.visible||(this.visible=!0,this.layer.appendChild(this.scrollDiv),this.updatePosition(),this.fixScrollTimer=TouchReceiver.createScrollFixTimer(this.scrollDiv,this.scrollStatus),TouchReceiver.setInitialScrollFix(this.scrollDiv))};
SmoothMenuBnList.prototype.hide=function(){this.visible&&(this.visible=!1,this.layer.removeChild(this.scrollDiv),null!=this.fixScrollTimer&&window.clearInterval(this.fixScrollTimer))};
SmoothMenuBnList.prototype.generateBns=function(){this.computeWidth();if("BatteryMenu"===this.parent.constructor.name){var a=Device.getTypeList();let d=a.length;for(var b=0;b<d;b++){let e=a[b].getManager();for(var c=0;c<e.getDeviceCount();c++)this.iconColors.push(BatteryMenu.getColorForBatteryStatus(e.connectedDevices[c].getBatteryStatus()))}}if(!this.bnsGenerated){this.clearBnsArray();b=0;c=this.options.length;for(a=0;a<c;a++)"BatteryMenu"===this.parent.constructor.name?(this.bns.push(this.generateBn(0,
b,this.width-this.bnMargin-TitleBar.buttonW,this.options[a])),this.bns.push(this.generateBn(this.width-TitleBar.buttonW,b,TitleBar.buttonW,null,VectorPaths.battery,this.iconColors[a]))):this.bns.push(this.generateBn(0,b,this.width,this.options[a])),b+=this.bnHeight+this.bnMargin;this.internalHeight=b-=this.bnMargin;0===c&&(this.internalHeight=0);this.height=this.internalHeight;null!=this.maxHeight&&(this.height=Math.min(this.internalHeight,this.maxHeight));this.scrollable=this.height!==this.internalHeight;
this.bnsGenerated=!0;this.updatePosition()}};SmoothMenuBnList.prototype.computeWidth=function(){if(null==this.width){const a=SmoothMenuBnList;let b=0;for(let c=0;c<this.options.length;c++){const d=GuiElements.measure.stringWidth(this.options[c].text,Button.defaultFont);d>b&&(b=d)}this.width=1*b+2*a.bnHMargin+0*this.bnMargin;this.width<a.minWidth&&(this.width=a.minWidth)}};SmoothMenuBnList.prototype.isEmpty=function(){return 0===this.options.length};
SmoothMenuBnList.prototype.clearBnsArray=function(){if(null!=this.bns)for(let a=0;a<this.bns.length;a++)this.bns[a].remove();this.bns=[]};SmoothMenuBnList.prototype.generateBn=function(a,b,c,d,e,f){a=new Button(a,b,c,this.bnHeight,this.zoomG);null!=d&&(a.setCallbackFunction(d.func,!0),null!=d.addTextFn?d.addTextFn(a):a.addText(d.text));null!=e&&null!=f&&a.addColorIcon(e,.7*TitleBar.bnIconH,f);a.partOfOverlay=this.partOfOverlay;a.makeScrollable();return a};
SmoothMenuBnList.prototype.updatePosition=function(){if(this.visible){let a=this.parent.relToAbsX(this.x),b=this.parent.relToAbsY(this.y);a=GuiElements.relToAbsX(a);b=GuiElements.relToAbsY(b);GuiElements.update.smoothScrollSet(this.scrollDiv,this.svg,this.zoomG,a,b,this.width,this.height,this.width,this.internalHeight)}};SmoothMenuBnList.prototype.updateZoom=function(){this.updatePosition()};SmoothMenuBnList.prototype.getScroll=function(){return this.visible?this.scrollDiv.scrollTop:0};
SmoothMenuBnList.prototype.setScroll=function(a){if(this.visible){a=Math.max(0,a);var b=parseInt(window.getComputedStyle(this.scrollDiv).getPropertyValue("height"),10);a=Math.min(this.scrollDiv.scrollHeight-b,a);this.scrollDiv.scrollTop=a}};SmoothMenuBnList.prototype.markAsOverlayPart=function(a){this.partOfOverlay=a};SmoothMenuBnList.prototype.isScrolling=function(){return this.visible?!this.scrollStatus.still:!1};
SmoothMenuBnList.prototype.previewHeight=function(){let a=(this.bnHeight+this.bnMargin)*this.options.length-this.bnMargin;a=Math.max(a,0);null!=this.maxHeight&&(a=Math.min(a,this.maxHeight));return a};SmoothMenuBnList.prototype.previewWidth=function(){this.computeWidth();return this.width};SmoothMenuBnList.previewHeight=function(a,b){a=(SmoothMenuBnList.bnHeight+Button.defaultMargin)*a-Button.defaultMargin;a=Math.max(a,0);null!=b&&(a=Math.min(a,b));return a};
function Menu(a,b){null==b&&(b=Menu.defaultWidth);Overlay.call(this,Overlay.types.menu);DebugOptions.validateNumbers(b);this.width=b;this.x=a.x;this.y=a.y+a.height;this.group=GuiElements.create.group(this.x,this.y);TouchReceiver.addListenersOverlayPart(this.group);this.bgRect=GuiElements.create.rect(this.group);GuiElements.update.color(this.bgRect,Menu.bgColor);this.menuBnList=null;this.visible=!1;a.setCallbackFunction(this.open.bind(this),!1);a.setUnToggleFunction(this.close.bind(this));this.button=
a;this.alternateFn=null;this.scheduleAlternate=!1}Menu.prototype=Object.create(Overlay.prototype);Menu.prototype.constructor=Menu;Menu.setGraphics=function(){Menu.defaultWidth=170;Menu.bnMargin=Button.defaultMargin;Menu.bgColor=Colors.lightGray};Menu.prototype.move=function(){this.x=this.button.x;this.y=this.button.y+this.button.height;GuiElements.move.group(this.group,this.x,this.y);null!=this.menuBnList&&this.menuBnList.updatePosition()};
Menu.prototype.createMenuBnList=function(){null!=this.menuBnList&&this.menuBnList.hide();const a=Menu.bnMargin;this.menuBnList=new SmoothMenuBnList(this,this.group,a,a,this.width);this.menuBnList.markAsOverlayPart(this);this.menuBnList.setMaxHeight(GuiElements.height-this.y-2*Menu.bnMargin)};Menu.prototype.addOption=function(a,b,c,d){null==d&&(d=null);null==c&&(c=!0);this.menuBnList.addOption(a,function(){c&&this.close();null!=b&&b.call(this)}.bind(this),d)};
Menu.prototype.buildMenu=function(){const a=this.menuBnList;a.generateBns();GuiElements.update.rect(this.bgRect,0,0,a.width+2*Menu.bnMargin,a.height+2*Menu.bnMargin)};Menu.prototype.previewOpen=function(){return!0};Menu.prototype.loadOptions=function(){DebugOptions.markAbstract()};
Menu.prototype.open=function(){this.visible||(this.previewOpen()?(this.createMenuBnList(),this.loadOptions(),this.buildMenu(),GuiElements.layers.overlay.appendChild(this.group),this.menuBnList.show(),this.visible=!0,this.isSubMenu?Overlay.addOverlay(this):this.addOverlayAndCloseOthers(),this.button.markAsOverlayPart(this),this.scheduleAlternate=!1):this.scheduleAlternate=this.button.toggled=!0)};
Menu.prototype.close=function(){this.visible?(this.hide(),this.button.unToggle(),this.button.unmarkAsOverlayPart()):this.scheduleAlternate&&(this.scheduleAlternate=!1,this.alternateFn())};Menu.prototype.hide=function(){this.group.remove();this.menuBnList.hide();this.visible=!1;Overlay.removeOverlay(this)};Menu.prototype.addAlternateFn=function(a){this.alternateFn=a};Menu.prototype.relToAbsX=function(a){return a+this.x};Menu.prototype.relToAbsY=function(a){return a+this.y};
Menu.prototype.updateZoom=function(){null!=this.menuBnList&&this.menuBnList.updateZoom()};function BatteryMenu(a){this.offsetX=a.x+BatteryMenu.iconX+TitleBar.buttonMargin;Menu.call(this,a,BatteryMenu.width);this.addAlternateFn(function(){})}BatteryMenu.prototype=Object.create(Menu.prototype);BatteryMenu.prototype.constructor=BatteryMenu;
BatteryMenu.prototype.loadOptions=function(){let a=Device.getTypeList(),b=a.length;for(var c=0;c<b;c++){let e=a[c].getManager();for(var d=0;d<e.getDeviceCount();d++)this.addOption(e.connectedDevices[d].shortName,null)}};BatteryMenu.setGraphics=function(){BatteryMenu.width=150;BatteryMenu.iconX=BatteryMenu.width-5};BatteryMenu.getColorForBatteryStatus=function(a){return"2"===a?Colors.green:"1"===a?Colors.yellow:"0"===a?Colors.red:Colors.lightGray};
BatteryMenu.prototype.previewOpen=function(){let a=0;Device.getTypeList().forEach(function(b){a+=b.getManager().getDeviceCount()});return 1<a};function FileMenu(a){Menu.call(this,a)}FileMenu.prototype=Object.create(Menu.prototype);FileMenu.prototype.constructor=FileMenu;
FileMenu.prototype.loadOptions=function(){this.addOption("New",function(){let a=new HttpRequestBuilder("data/createNewFile");HtmlServer.sendRequestWithCallback(a.toString())});this.addOption("Open",OpenDialog.showDialog);this.addOption("Duplicate",SaveManager.userDuplicate);this.addOption("Rename",SaveManager.userRename);this.addOption("Delete",SaveManager.userDelete);this.addOption("Share",SaveManager.userExport);this.addOption("OpenFromCloud",function(){let a=new HttpRequestBuilder("data/showCloudPicker");
HtmlServer.sendRequestWithCallback(a.toString())});GuiElements.isKindle&&this.addOption("Exit",this.optionExit)};FileMenu.prototype.optionNew=function(){SaveManager.new()};FileMenu.prototype.optionEnableDebug=function(){TitleBar.enableDebug()};FileMenu.prototype.optionExit=function(){SaveManager.checkPromptSave(function(){HtmlServer.sendRequest("tablet/exit")})};function DebugMenu(a){Menu.call(this,a,130);this.lastResponse=this.lastRequest=""}DebugMenu.prototype=Object.create(Menu.prototype);
DebugMenu.prototype.constructor=DebugMenu;
DebugMenu.prototype.loadOptions=function(){this.addOption("Enable logging",DebugOptions.enableLogging);this.addOption("Load file",this.loadFile);this.addOption("Download file",this.downloadFile);this.addOption("Hide Debug",this.disableDebug);this.addOption("Version",this.optionVersion);this.addOption("Send request",this.optionSendRequest);this.addOption("Allow virtual Robots",DebugOptions.enableVirtualDevices);this.addOption("Clear log",this.optionClearLog);this.addOption("Throw error",function(){throw new UserException("test error");
});this.addOption("Stop error locking",DebugOptions.stopErrorLocking)};DebugMenu.prototype.disableDebug=function(){GuiElements.alert("");DebugOptions.enabled=!1;TitleBar.hideDebug()};DebugMenu.prototype.loadFile=function(){DialogManager.showPromptDialog("Load File","Paste file contents","",!0,function(a,b){a||SaveManager.backendOpen("Pasted file",b,!0)})};
DebugMenu.prototype.downloadFile=function(){var a=XmlWriter.docToText(CodeManager.createXml());a="data:text/plain,"+HtmlServer.encodeHtml(a);window.open(a,"_blank")};DebugMenu.prototype.optionVersion=function(){GuiElements.alert("Version: "+GuiElements.appVersion)};DebugMenu.prototype.optionClearLog=function(){GuiElements.alert("")};
DebugMenu.prototype.optionSendRequest=function(){let a=this.lastResponse;""===this.lastResponse&&(a="Request: http://localhost:22179/[...]");const b=this;DialogManager.showPromptDialog("Send request",a,this.lastRequest,!0,function(c,d){c||""===d&&""===b.lastRequest?b.lastResponse="":(""===d&&(d=b.lastRequest),b.lastRequest=d,HtmlServer.sendRequestWithCallback(d,function(e){b.lastResponse='Response: "'+e+'"';b.optionSendRequest()},function(){b.lastResponse="Error sending request";b.optionSendRequest()}))},
function(){b.lastResponse=""})};function ViewMenu(a){Menu.call(this,a)}ViewMenu.prototype=Object.create(Menu.prototype);ViewMenu.prototype.constructor=ViewMenu;ViewMenu.prototype.loadOptions=function(){this.addOption(Language.getStr("Zoom_in"),this.optionZoomIn,!1);this.addOption(Language.getStr("Zoom_out"),this.optionZoomOut,!1);this.addOption(Language.getStr("Reset_zoom"),this.optionResetZoom,!0)};
ViewMenu.prototype.optionZoomIn=function(){GuiElements.zoomMultiple+=GuiElements.zoomAmount;GuiElements.zoomMultiple=Math.min(GuiElements.zoomMultiple,GuiElements.maxZoomMult);GuiElements.updateZoom()};ViewMenu.prototype.optionZoomOut=function(){GuiElements.zoomMultiple-=GuiElements.zoomAmount;GuiElements.zoomMultiple=Math.max(GuiElements.zoomMultiple,GuiElements.minZoomMult);GuiElements.updateZoom()};ViewMenu.prototype.optionResetZoom=function(){GuiElements.zoomMultiple=1;GuiElements.updateZoom()};
function LanguageMenu(a,b){this.isSubMenu=!0;this.parentMenu=b;Menu.call(this,a)}LanguageMenu.prototype=Object.create(Menu.prototype);LanguageMenu.prototype.constructor=LanguageMenu;LanguageMenu.prototype.loadOptions=function(){const a=this;Language.langs.forEach(function(b){var c=eval("Language.names."+b);null==c&&(c=b);a.addOption(c,function(){sessionStorage.setItem("language",b);DeviceManager.removeAllDevices();SaveManager.userClose();window.location.reload(!1)})})};
LanguageMenu.prototype.move=function(){this.x=this.button.x+this.button.width+Menu.bnMargin+this.parentMenu.x;this.y=this.button.y+this.button.height+this.parentMenu.y;GuiElements.move.group(this.group,this.x,this.y);null!=this.menuBnList&&this.menuBnList.updatePosition()};function SettingsMenu(a){Menu.call(this,a)}SettingsMenu.prototype=Object.create(Menu.prototype);SettingsMenu.prototype.constructor=SettingsMenu;
SettingsMenu.prototype.loadOptions=function(){const a=VectorPaths.language,b=this;this.addOption("",null,!1,function(c){c.addIcon(a,25);b.languageMenu=new LanguageMenu(c,b);b.languageMenu.move()});this.addOption(Language.getStr("Zoom_in"),this.optionZoomIn,!1);this.addOption(Language.getStr("Zoom_out"),this.optionZoomOut,!1);this.addOption(Language.getStr("Reset_zoom"),this.optionResetZoom,!0);"true"===SettingsManager.enableSnapNoise.getValue()?this.addOption(Language.getStr("Disable_snap_noise"),
this.disableSnapping,!0):this.addOption(Language.getStr("Enable_snap_noise"),this.enableSnapping,!0);this.addOption(Language.getStr("CompassCalibrate"),function(){(new CalibrateCompassDialog).show()});this.showAdvanced&&(this.addOption(Language.getStr("Send_debug_log"),this.optionSendDebugLog,!0),this.addOption(Language.getStr("Show_debug_menu"),this.enableDebug,!0))};
SettingsMenu.prototype.optionZoomIn=function(){SettingsManager.zoom.writeValue(GuiElements.zoomMultiple+GuiElements.zoomAmount);GuiElements.zoomMultiple=SettingsManager.zoom.getValue();GuiElements.updateZoom()};SettingsMenu.prototype.optionZoomOut=function(){SettingsManager.zoom.writeValue(GuiElements.zoomMultiple-GuiElements.zoomAmount);GuiElements.zoomMultiple=SettingsManager.zoom.getValue();GuiElements.updateZoom()};
SettingsMenu.prototype.optionResetZoom=function(){SettingsManager.zoom.writeValue(1);GuiElements.zoomMultiple=SettingsManager.zoom.getValue();GuiElements.updateZoom()};SettingsMenu.prototype.enableSnapping=function(){SettingsManager.enableSnapNoise.writeValue("true")};SettingsMenu.prototype.disableSnapping=function(){SettingsManager.enableSnapNoise.writeValue("false")};SettingsMenu.prototype.optionSendDebugLog=function(){const a=new HttpRequestBuilder("debug/shareLog");HtmlServer.sendRequestWithCallback(a.toString())};
SettingsMenu.prototype.open=function(a){null==a&&(a=!1);this.showAdvanced=a;Menu.prototype.open.call(this)};SettingsMenu.prototype.reloadAdvanced=function(){this.visible&&(this.hide(),this.open(!0),this.button.toggled&&(this.button.pressed=!1))};SettingsMenu.prototype.enableDebug=function(){DebugOptions.enabled=!0;TitleBar.enableDebug()};function DeviceMenu(a){Menu.call(this,a,DeviceMenu.width);this.addAlternateFn(function(){ConnectMultipleDialog.showDialog()})}DeviceMenu.prototype=Object.create(Menu.prototype);
DeviceMenu.prototype.constructor=ViewMenu;DeviceMenu.setGraphics=function(){DeviceMenu.width=150;DeviceMenu.maxDeviceNameChars=8};
DeviceMenu.prototype.loadOptions=function(){let a=null;Device.getTypeList().forEach(function(b){0<b.getManager().getDeviceCount()&&(a=b)});null!=a?(this.addDeviceOption(a),this.addOption(Language.getStr("Disconnect_Device"),function(){a.getManager().removeAllDevices()})):this.addOption(Language.getStr("Connect_Device"),function(){(new DiscoverDialog(DeviceHummingbirdBit)).show()});this.addOption(Language.getStr("Connect_Multiple"),ConnectMultipleDialog.showDialog)};
DeviceMenu.prototype.addDeviceOption=function(a){a=a.getManager().getDevice(0);const b=a.getFirmwareStatus(),c=Device.firmwareStatuses;let d=null,e=null;b===c.old?(d=VectorPaths.warning,e=DeviceStatusLight.yellowColor):b===c.incompatible&&(d=VectorPaths.warning,e=DeviceStatusLight.redColor);this.addOption("",null,!1,this.createAddIconToBnFn(d,a.name,e))};DeviceMenu.prototype.previewOpen=function(){let a=0;Device.getTypeList().forEach(function(b){a+=b.getManager().getDeviceCount()});return 1>=a};
DeviceMenu.prototype.createAddIconToBnFn=function(a,b,c){return null==a?function(d){d.addText(b)}:function(d){d.addSideTextAndIcon(a,null,b,null,null,null,null,null,c,!0,!1)}};function BlockContextMenu(a,b,c){this.block=a;this.x=b;this.y=c;this.showMenu()}BlockContextMenu.setGraphics=function(){const a=BlockContextMenu;a.bnMargin=Button.defaultMargin;a.bgColor=Colors.lightGray;a.blockShift=20};
BlockContextMenu.prototype.showMenu=function(){var a=BlockContextMenu;this.group=GuiElements.create.group(0,0);this.bubbleOverlay=new BubbleOverlay(Overlay.types.inputPad,a.bgColor,a.bnMargin,this.group,this,GuiElements.layers.inputPad);this.menuBnList=new SmoothMenuBnList(this.bubbleOverlay,this.group,0,0);this.menuBnList.markAsOverlayPart(this.bubbleOverlay);this.addOptions();a=this.menuBnList.previewHeight();this.menuBnList.previewWidth();this.bubbleOverlay.display(this.x,this.x,this.y,this.y,
this.menuBnList.width,a);this.menuBnList.show()};
BlockContextMenu.prototype.addOptions=function(){this.block.stack.isDisplayStack?(this.block.constructor===B_Variable&&(this.menuBnList.addOption(Language.getStr("Rename"),function(){this.block.renameVar();this.close()}.bind(this)),this.menuBnList.addOption(Language.getStr("Delete"),function(){this.block.deleteVar();this.close()}.bind(this))),this.block.constructor===B_List&&(this.menuBnList.addOption(Language.getStr("Rename"),function(){this.block.renameLi();this.close()}.bind(this)),this.menuBnList.addOption(Language.getStr("Delete"),
function(){this.block.deleteLi();this.close()}.bind(this)))):(null==this.block.comment&&this.menuBnList.addOption(Language.getStr("Add_Comment"),function(){this.block.addComment();this.close()}.bind(this)),this.menuBnList.addOption(Language.getStr("Duplicate"),function(){this.duplicate()}.bind(this)),this.menuBnList.addOption(Language.getStr("Delete"),function(){UndoManager.deleteStack(this.block.unsnap());this.close()}.bind(this)))};
BlockContextMenu.prototype.duplicate=function(){var a=BlockContextMenu,b=this.block.getAbsX()+a.blockShift;a=this.block.getAbsY()+a.blockShift;b=this.block.duplicate(b,a);new BlockStack(b,this.block.stack.tab);this.close()};BlockContextMenu.prototype.close=function(){this.block=null;this.bubbleOverlay.hide();this.menuBnList.hide()};
function VectorIcon(a,b,c,d,e,f,g,h){this.x=a;this.y=b;this.color=d;this.height=e;this.pathId=c;this.parent=f;this.mirror=g;this.rotation=h;this.pathE=null;this.draw()}VectorIcon.computeWidth=function(a,b){return b/a.height*a.width};
VectorIcon.prototype.draw=function(){this.scaleY=this.scaleX=this.height/this.pathId.height;this.width=this.scaleY*this.pathId.width;Language.isRTL&&!this.mirror&&(this.scaleX=-this.scaleX,this.x+=this.width);this.group=GuiElements.create.group(this.x,this.y,this.parent);this.setTransform();this.pathE=GuiElements.create.path(this.group);this.pathE.setAttributeNS(null,"d",this.pathId.path);this.pathE.setAttributeNS(null,"fill",this.color);null!=this.pathId.transform&&this.pathE.setAttributeNS(null,
"transform",this.pathId.transform);this.group.appendChild(this.pathE)};VectorIcon.prototype.setTransform=function(){null!=this.rotation?this.group.setAttributeNS(null,"transform","rotate("+this.rotation+", "+(this.x+this.width/2)+", "+(this.y+this.height/2)+") translate("+this.x+","+this.y+") scale("+this.scaleX+", "+this.scaleY+")"):this.group.setAttributeNS(null,"transform","translate("+this.x+","+this.y+") scale("+this.scaleX+", "+this.scaleY+")")};
VectorIcon.prototype.update=function(a,b,c){this.x=a;this.y=b;null!=c&&(this.height=c,this.scaleY=this.scaleX=this.height/this.pathId.height,this.width=this.scaleY*this.pathId.width);this.setTransform()};VectorIcon.prototype.setRotation=function(a){this.rotation=a;this.setTransform()};VectorIcon.prototype.setColor=function(a){this.color=a;this.pathE.setAttributeNS(null,"fill",this.color)};VectorIcon.prototype.move=function(a,b){Language.isRTL&&!this.mirror&&(a+=this.width);this.x=a;this.y=b;this.setTransform()};
VectorIcon.prototype.remove=function(){this.pathE.remove()};VectorIcon.prototype.addSecondPath=function(a,b){this.pathId2=a;this.color2=b;this.pathE2=GuiElements.create.path(this.group);this.pathE2.setAttributeNS(null,"d",this.pathId2.path);this.pathE2.setAttributeNS(null,"fill",this.color2);null!=this.pathId2.transform&&this.pathE2.setAttributeNS(null,"transform",this.pathId2.transform);this.group.appendChild(this.pathE2)};
VectorIcon.prototype.addBackgroundRect=function(){this.bgRect=GuiElements.draw.rect(-10,50,this.width/this.scaleY- -20,this.height/this.scaleX-100,Colors.white,20,20);this.pathE.remove();this.group.appendChild(this.bgRect);this.group.appendChild(this.pathE)};function HelpingHand(a,b){this.x=a.x+a.width/2;this.y=a.y+a.height+10;this.parentGroup=a.group;this.parentLayer=GuiElements.layers.titlebar;this.block=b;this.offset=0;this.show();setTimeout(function(){this.close()}.bind(this),2E3)}
HelpingHand.prototype.show=function(){VectorIcon.computeWidth(VectorPaths.bsHandIndexFill,90);this.group=GuiElements.create.group(this.x,this.y);this.highlightG=GuiElements.create.group(0,0,GuiElements.layers.overlay);if(null!=this.block){const a=TabManager.activeTab.zoomFactor;GuiElements.update.zoom(this.highlightG,a);this.highlightG.appendChild(this.block.group);let b=this.block.stack.relToAbsX(this.block.x),c=this.block.stack.relToAbsY(this.block.y);GuiElements.move.group(this.block.group,b/a,
c/a)}else null!=this.parentGroup&&this.highlightG.appendChild(this.parentGroup);GuiElements.layers.overlay.appendChild(this.group);GuiElements.blockInteraction()};
HelpingHand.prototype.animate=function(){let a=setInterval(function(){this.offset+=1;GuiElements.move.group(this.group,this.x,this.y-this.offset)}.bind(this),25);setTimeout(function(){clearInterval(a)},500);let b=5,c=Math.sqrt(b*b/2),d=GuiElements.draw.line(25-b,10,25,10,Colors.white,5),e=GuiElements.draw.line(31-c,5-c,31,5,Colors.white,5),f=GuiElements.draw.line(38,-b,38,0,Colors.white,5),g=GuiElements.draw.line(45+c,5-c,45,5,Colors.white,5),h=GuiElements.draw.line(51+b,10,51,10,Colors.white,5);
setTimeout(function(){this.group.appendChild(d);this.group.appendChild(e);this.group.appendChild(f);this.group.appendChild(g);this.group.appendChild(h)}.bind(this),1E3);setTimeout(function(){let k=setInterval(function(){b+=1;c=Math.sqrt(b*b/2);d.setAttributeNS(null,"x1",25-b);e.setAttributeNS(null,"x1",31-c);e.setAttributeNS(null,"y1",5-c);f.setAttributeNS(null,"y1",-b);g.setAttributeNS(null,"x1",45+c);g.setAttributeNS(null,"y1",5-c);h.setAttributeNS(null,"x1",51+b)},10);setTimeout(function(){clearInterval(k)},
100)},1E3);setTimeout(function(){let k=setInterval(function(){--b;c=Math.sqrt(b*b/2);d.setAttributeNS(null,"x2",10+b);e.setAttributeNS(null,"x2",20.4+c);e.setAttributeNS(null,"y2",-5.6+c);f.setAttributeNS(null,"y2",-15+b);g.setAttributeNS(null,"x2",55.6-c);g.setAttributeNS(null,"y2",-5.6+c);h.setAttributeNS(null,"x2",66-b)},10);setTimeout(function(){clearInterval(k)},100)},1100);setTimeout(function(){d.remove();e.remove();f.remove();g.remove();h.remove()}.bind(this),1200)};
HelpingHand.prototype.close=function(){null!=this.block?(this.block.group.remove(),this.block.stack.group.appendChild(this.block.group),GuiElements.move.group(this.block.group,this.block.x,this.block.y)):null!=this.parentGroup&&this.parentLayer.appendChild(this.parentGroup);this.group.remove();GuiElements.unblockInteraction()};function Highlighter(){Highlighter.path=Highlighter.createPath();Highlighter.shadowGroup=GuiElements.create.group(0,0);Highlighter.visible=!1}
Highlighter.createPath=function(){const a=BlockGraphics.highlight,b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttributeNS(null,"stroke",a.strokeC);b.setAttributeNS(null,"stroke-width",a.strokeW);b.setAttributeNS(null,"fill","none");return b};
Highlighter.highlight=function(a,b,c,d,e,f,g,h){a=CodeManager.dragAbsToRelX(a);b=CodeManager.dragAbsToRelX(b);c=BlockGraphics.buildPath.highlight(a,b,c,d,e,f,h);Highlighter.path.setAttributeNS(null,"d",c);Highlighter.visible||(GuiElements.layers.highlight.appendChild(Highlighter.path),Highlighter.visible=!0);c=BlockGraphics.highlight;null!=g&&g?Highlighter.path.setAttributeNS(null,"stroke",c.strokeDarkC):Highlighter.path.setAttributeNS(null,"stroke",c.strokeC)};
Highlighter.showShadow=function(a,b){let c,d=!1;a instanceof BlockStack?(c=a.tab.absToRelY(a.getAbsY()),a=a.tab.absToRelX(a.getAbsX()),d=!0):a instanceof BlockSlot?(c=a.parent.stack.tab.absToRelY(a.getAbsY()),a=a.parent.stack.tab.absToRelX(a.getAbsX())-BlockGraphics.command.fbBumpDepth):(c=a.stack.tab.absToRelY(a.getAbsY()),a=a.stack.tab.absToRelX(a.relToAbsX(a.width)));const e=Colors.iron;b=b.firstBlock;let f=0;for(;null!=b;){var g=GuiElements.create.group(0,0,this.shadowGroup);let h=GuiElements.create.path(g);
GuiElements.update.color(h,e);GuiElements.move.group(g,b.x+BlockGraphics.command.fbBumpDepth,b.y);g=b.path.getAttribute("d");h.setAttributeNS(null,"d",g);f+=b.width+BlockGraphics.command.fbBumpDepth;b=b.nextBlock}d&&(a-=f+BlockGraphics.command.fbBumpDepth);GuiElements.move.group(this.shadowGroup,a,c);Highlighter.visible||(TabManager.activeTab.mainG.appendChild(Highlighter.shadowGroup),Highlighter.visible=!0)};
Highlighter.hide=function(){if(Highlighter.visible){for(Highlighter.path.remove();this.shadowGroup.firstChild;)this.shadowGroup.removeChild(this.shadowGroup.firstChild);Highlighter.shadowGroup.remove();Highlighter.visible=!1}};function DisplayBoxManager(){const a=DisplayBoxManager;a.boxes=[];for(let b=0;3>b;b++)a.boxes[b]=new DisplayBox(b);a.build()}DisplayBoxManager.build=function(){DisplayBoxManager.boxes.forEach(function(a){a.build()})};
DisplayBoxManager.displayText=function(a,b){const c=DisplayBoxManager;"position1"===b?c.boxes[0].displayText(a):"position2"===b?c.boxes[1].displayText(a):"position3"===b?c.boxes[2].displayText(a):DebugOptions.assert(!1)};DisplayBoxManager.hide=function(){DisplayBoxManager.boxes.forEach(function(a){a.hide()})};DisplayBoxManager.updateZoom=function(){DisplayBox.updateZoom();DisplayBoxManager.boxes.forEach(function(a){a.updateZoom()})};
function DisplayBox(a){this.position=a;this.visible=!1;this.layer=GuiElements.layers.display}DisplayBox.setGraphics=function(){const a=DisplayBox;a.bgColor=Colors.white;a.fontColor=Colors.black;a.font=Font.uiFont(35);a.screenMargin=60;a.rectH=50;a.margin=10;a.rectX=a.screenMargin;a.rectW=GuiElements.width-2*a.screenMargin};
DisplayBox.prototype.build=function(){const a=DisplayBox;this.rectY=this.getRectY();this.rectE=GuiElements.draw.rect(a.rectX,this.rectY,a.rectW,a.rectH,a.bgColor);this.textE=GuiElements.draw.text(0,0,"",a.font,a.fontColor);TouchReceiver.addListenersDisplayBox(this.rectE);TouchReceiver.addListenersDisplayBox(this.textE)};DisplayBox.prototype.getRectY=function(){const a=DisplayBox;return GuiElements.height-(a.rectH+a.margin)*(2-this.position)-a.rectH-a.screenMargin};DisplayBox.updateZoom=function(){DisplayBox.setGraphics()};
DisplayBox.prototype.updateZoom=function(){const a=DisplayBox;this.rectY=this.getRectY();const b=GuiElements.measure.textWidth(this.textE);GuiElements.move.text(this.textE,a.rectX+a.rectW/2-b/2,this.rectY+a.rectH/2+a.font.charHeight/2);GuiElements.update.rect(this.rectE,a.rectX,this.rectY,a.rectW,a.rectH)};
DisplayBox.prototype.displayText=function(a){const b=DisplayBox;GuiElements.update.textLimitWidth(this.textE,a,b.rectW);a=GuiElements.measure.textWidth(this.textE);GuiElements.move.text(this.textE,b.rectX+b.rectW/2-a/2,this.rectY+b.rectH/2+b.font.charHeight/2);this.show()};DisplayBox.prototype.show=function(){this.visible||(this.layer.appendChild(this.rectE),this.layer.appendChild(this.textE),this.visible=!0)};
DisplayBox.prototype.hide=function(){this.visible&&(this.textE.remove(),this.rectE.remove(),this.visible=!1)};
function CodeManager(){const a=CodeManager.move;a.moving=!1;a.stack=null;a.offsetX=0;a.offsetY=0;a.touchX=0;a.touchY=0;a.topX=0;a.topY=0;a.bottomX=0;a.bottomY=0;a.startedFromPalette=!1;a.returnType=null;CodeManager.fit={};CodeManager.variableList=[];CodeManager.listList=[];CodeManager.broadcastList=[];CodeManager.isRunning=!1;CodeManager.updateTimer=null;CodeManager.updateInterval=10;CodeManager.answer=new StringData("");CodeManager.message=new StringData("");CodeManager.sound={};CodeManager.sound.tempo=
60;CodeManager.sound.volume=50;CodeManager.timerForSensingBlock=(new Date).getTime();CodeManager.modifiedTime=(new Date).getTime();CodeManager.createdTime=(new Date).getTime()}CodeManager.move={};
CodeManager.move.start=function(a,b,c){const d=CodeManager.move;d.moving||(Overlay.closeOverlays(),d.moving=!0,a=a.unsnap(),a.fly(),d.bottomX=a.relToAbsX(a.dim.rw),d.bottomY=a.relToAbsY(a.dim.rh),d.returnType=a.returnType,d.startedFromPalette=BlockPalette.isStackOverPalette(b,c),d.bottomOpen=a.getLastBlock().bottomOpen,d.topOpen=a.firstBlock.topOpen,d.returnsValue=a.firstBlock.returnsValue,d.touchX=b,d.touchY=c,d.offsetX=a.getAbsX()-b,d.offsetY=a.getAbsY()-c,d.stack=a)};
CodeManager.move.update=function(a,b){const c=CodeManager.move;c.moving&&(c.touchX=a,c.touchY=b,c.topX=c.offsetX+a,c.topY=c.offsetY+b,c.bottomX=c.stack.relToAbsX(c.stack.dim.rw),c.bottomY=c.stack.relToAbsY(c.stack.dim.rh),c.stack.move(CodeManager.dragAbsToRelX(c.topX),CodeManager.dragAbsToRelY(c.topY)),a=BlockPalette.isStackOverPalette(c.touchX,c.touchY),FinchBlox&&(a|=TitleBar.isStackOverTitleBar(c.touchX,c.touchY)),a?(Highlighter.hide(),c.startedFromPalette||BlockPalette.showTrash()):(BlockPalette.hideTrash(),
CodeManager.findBestFit(),CodeManager.fit.found?FinchBlox?Highlighter.showShadow(CodeManager.fit.bestFit,c.stack):CodeManager.fit.bestFit.highlight():Highlighter.hide()))};
CodeManager.move.end=function(){const a=CodeManager.move,b=CodeManager.fit;if(a.moving){a.topX=a.offsetX+a.touchX;a.topY=a.offsetY+a.touchY;a.bottomX=a.stack.relToAbsX(a.stack.dim.rw);a.bottomY=a.stack.relToAbsY(a.stack.dim.rh);var c=BlockPalette.isStackOverPalette(a.touchX,a.touchY);FinchBlox&&(c|=TitleBar.isStackOverTitleBar(a.touchX,a.touchY));c?a.startedFromPalette?a.stack.remove():(UndoManager.deleteStack(a.stack),SaveManager.markEdited()):(CodeManager.findBestFit(),b.found?(b.bestFit.snap(a.stack.firstBlock),
Sound.playSnap()):(a.stack.land(),a.stack.updateDim()),SaveManager.markEdited());Highlighter.hide();a.moving=!1;BlockPalette.hideTrash()}};CodeManager.move.interrupt=function(){const a=CodeManager.move;a.moving&&(a.topX=a.offsetX+a.touchX,a.topY=a.offsetY+a.touchY,a.stack.land(),a.stack.updateDim(),Highlighter.hide(),a.moving=!1)};CodeManager.move.pInRange=function(a,b,c,d,e,f){return a>=c&&a<=c+e&&b>=d&&b<=d+f};
CodeManager.move.rInRange=function(a,b,c,d,e,f,g,h){return a+c>=e&&b+d>=f&&a<=e+g&&b<=f+h};CodeManager.findBestFit=function(){const a=CodeManager.fit;a.found=!1;a.bestFit=null;a.dist=0;TabManager.activeTab.findBestFit()};CodeManager.updateRun=function(){const a=CodeManager;TabManager.updateRun().isRunning()||a.stopUpdateTimer()};
CodeManager.stop=function(){Device.stopAll();TabManager.stop();CodeManager.stopUpdateTimer();DisplayBoxManager.hide();Sound.stopAllSounds();BlockPalette.passRecursively("passRecursively","stop");TabManager.activeTab.passRecursively("startRunIfAutoExec");Hatchling&&mbRuntime.sendStopAll()};CodeManager.stopUpdateTimer=function(){CodeManager.isRunning&&(CodeManager.updateTimer=window.clearInterval(CodeManager.updateTimer),CodeManager.isRunning=!1)};
CodeManager.startUpdateTimer=function(){CodeManager.isRunning||(CodeManager.updateTimer=self.setInterval(DebugOptions.safeFunc(CodeManager.updateRun),CodeManager.updateInterval),CodeManager.isRunning=!0)};CodeManager.checkBroadcastDelay=function(){return HtmlServer.unansweredCount<HtmlServer.unansweredCap};CodeManager.addVariable=function(a){CodeManager.variableList.push(a)};CodeManager.removeVariable=function(a){a=CodeManager.variableList.indexOf(a);CodeManager.variableList.splice(a,1)};
CodeManager.newVariable=function(a,b){DialogManager.showPromptDialog(Language.getStr("Create_Variable"),Language.getStr("Enter_new_name"),"",!0,function(c,d){!c&&CodeManager.checkVarName(d)?(d=d.trim(),c=new Variable(d),SaveManager.markEdited(),BlockPalette.getCategory("variables").refreshGroup(),null!=a&&a(c)):null!=b&&b()})};CodeManager.checkVarName=function(a){a=a.trim();if(0<a.length){const b=CodeManager.variableList;for(let c=0;c<b.length;c++)if(b[c].getName()===a)return!1;return!0}return!1};
CodeManager.findVar=function(a){const b=CodeManager.variableList;for(let c=0;c<b.length;c++)if(b[c].getName()===a)return b[c];return null};CodeManager.addList=function(a){CodeManager.listList.push(a)};CodeManager.removeList=function(a){a=CodeManager.listList.indexOf(a);CodeManager.listList.splice(a,1)};
CodeManager.newList=function(a,b){DialogManager.showPromptDialog(Language.getStr("Create_List"),Language.getStr("Enter_new_name"),"",!0,function(c,d){!c&&CodeManager.checkListName(d)?(d=d.trim(),c=new List(d),SaveManager.markEdited(),BlockPalette.getCategory("variables").refreshGroup(),null!=a&&a(c)):null!=b&&b()})};CodeManager.checkListName=function(a){a=a.trim();if(0<a.length){const b=CodeManager.listList;for(let c=0;c<b.length;c++)if(b[c].getName()===a)return!1;return!0}return!1};
CodeManager.findList=function(a){const b=CodeManager.listList;for(let c=0;c<b.length;c++)if(b[c].getName()===a)return b[c];return null};CodeManager.renameVariable=function(a){TabManager.renameVariable(a);BlockPalette.getCategory("variables").refreshGroup();SaveManager.markEdited()};CodeManager.deleteVariable=function(a){TabManager.deleteVariable(a);BlockPalette.getCategory("variables").refreshGroup();SaveManager.markEdited()};
CodeManager.renameList=function(a){TabManager.renameList(a);BlockPalette.getCategory("variables").refreshGroup();SaveManager.markEdited()};CodeManager.deleteList=function(a){TabManager.deleteList(a);BlockPalette.getCategory("variables").refreshGroup();SaveManager.markEdited()};CodeManager.checkVariableUsed=function(a){return TabManager.checkVariableUsed(a)};CodeManager.checkListUsed=function(a){return TabManager.checkListUsed(a)};
CodeManager.renameRecording=function(a,b){CodeManager.passRecursivelyDown("renameRecording",!0,a,b);SaveManager.markEdited()};CodeManager.deleteRecording=function(a){CodeManager.passRecursivelyDown("deleteRecording",!0,a);SaveManager.markEdited()};CodeManager.checkBroadcastMessage=function(a){const b=CodeManager.broadcastList;for(let c=0;c<b.length;c++)if(b[c]===a)return!1;return!0};CodeManager.addBroadcastMessage=function(a){CodeManager.checkBroadcastMessage(a)&&CodeManager.broadcastList.push(a)};
CodeManager.updateAvailableMessages=function(){CodeManager.broadcastList=[];TabManager.updateAvailableMessages()};CodeManager.eventBroadcast=function(a){TabManager.eventBroadcast(a)};CodeManager.checkBroadcastRunning=function(a){return TabManager.checkBroadcastRunning(a)};CodeManager.eventFlagClicked=function(){TabManager.eventFlagClicked();Hatchling&&mbRuntime.sendStartAll()};CodeManager.hideDeviceDropDowns=function(a){CodeManager.passRecursivelyDown("hideDeviceDropDowns",!0,a)};
CodeManager.showDeviceDropDowns=function(a){CodeManager.passRecursivelyDown("showDeviceDropDowns",!0,a)};CodeManager.countDevicesInUse=function(a){return TabManager.countDevicesInUse(a)};CodeManager.updateAvailableSensors=function(){TabManager.passRecursivelyDown("updateAvailableSensors");BlockPalette.passRecursivelyDown("updateAvailableSensors")};CodeManager.updateAvailablePorts=function(a){CodeManager.passRecursivelyDown("updateAvailablePorts",!0,a)};
CodeManager.updateConnectionStatus=function(){CodeManager.passRecursivelyDown("updateConnectionStatus",!0)};CodeManager.beatsToMs=function(a){a=a/CodeManager.sound.tempo*6E4;return isNaN(a)||!isFinite(a)?0:a};CodeManager.setSoundTempo=function(a){isFinite(a)&&!isNaN(a)&&(CodeManager.sound.tempo=500<=a?500:20>=a?20:a)};
CodeManager.passRecursivelyDown=function(a,b){let c=[a].concat(Array.prototype.splice.call(arguments,2));TabManager.passRecursivelyDown.apply(TabManager,c);b&&BlockPalette.passRecursivelyDown.apply(BlockPalette,c)};
CodeManager.createXml=function(){const a=CodeManager,b=XmlWriter.newDoc("project"),c=b.getElementsByTagName("project")[0];var d="project";null!=SaveManager.fileName&&(d=SaveManager.fileName);XmlWriter.setAttribute(c,"name",d);XmlWriter.setAttribute(c,"appVersion",GuiElements.appVersion);XmlWriter.setAttribute(c,"created",CodeManager.createdTime);XmlWriter.setAttribute(c,"modified",CodeManager.modifiedTime);d=XmlWriter.createElement(b,"variables");for(var e=0;e<a.variableList.length;e++)d.appendChild(a.variableList[e].createXml(b));
c.appendChild(d);d=XmlWriter.createElement(b,"lists");for(e=0;e<a.listList.length;e++)d.appendChild(a.listList[e].createXml(b));c.appendChild(d);c.appendChild(TabManager.createXml(b));return b};
CodeManager.importXml=function(a){CodeManager.deleteAll();Sound.changeFile();CodeManager.modifiedTime=XmlWriter.getAttribute(a,"modified",(new Date).getTime(),!0);CodeManager.createdTime=XmlWriter.getAttribute(a,"created",(new Date).getTime(),!0);var b=XmlWriter.findSubElement(a,"variables");if(null!=b){b=XmlWriter.findSubElements(b,"variable");for(var c=0;c<b.length;c++)Variable.importXml(b[c])}b=XmlWriter.findSubElement(a,"lists");if(null!=b)for(b=XmlWriter.findSubElements(b,"list"),c=0;c<b.length;c++)List.importXml(b[c]);
FinchBlox||BlockPalette.getCategory("variables").refreshGroup();a=XmlWriter.findSubElement(a,"tabs");TabManager.importXml(a);BlockPalette.refresh();DeviceManager.updateSelectableDevices();TitleBar.setText(SaveManager.fileName);TouchReceiver.enableInteraction()};CodeManager.updateModified=function(){CodeManager.modifiedTime=(new Date).getTime()};CodeManager.deleteAll=function(){CodeManager.stop();TabManager.deleteAll();UndoManager.clearUndos();CodeManager()};
CodeManager.markLoading=function(a){TitleBar.setText(a);TouchReceiver.disableInteraction(1E3)};CodeManager.cancelLoading=function(){TitleBar.setText(SaveManager.fileName);TouchReceiver.enableInteraction()};CodeManager.markOpen=function(){TouchReceiver.enableInteraction();BlockPalette.markOpen()};CodeManager.dragAbsToRelX=function(a){return a/TabManager.getActiveZoom()};CodeManager.dragAbsToRelY=function(a){return a/TabManager.getActiveZoom()};CodeManager.dragRelToAbsX=function(a){return a*TabManager.getActiveZoom()};
CodeManager.dragRelToAbsY=function(a){return a*TabManager.getActiveZoom()};
function BlockMoveManager(a,b,c){const d={};Overlay.closeOverlays();a=a.unsnap();a.fly();d.bottomX=a.relToAbsX(a.dim.rw);d.bottomY=a.relToAbsY(a.dim.rh);d.returnType=a.returnType;d.startedFromPalette=BlockPalette.isStackOverPalette(b,c);d.bottomOpen=a.getLastBlock().bottomOpen;d.topOpen=a.firstBlock.topOpen;d.returnsValue=a.firstBlock.returnsValue;d.touchX=b;d.touchY=c;d.offsetX=a.getAbsX()-b;d.offsetY=a.getAbsY()-c;d.stack=a;d.topX=0;d.topY=0;this.move=d;this.fit={}}
BlockMoveManager.prototype.update=function(a,b){const c=this.move;c.touchX=a;c.touchY=b;c.topX=c.offsetX+a;c.topY=c.offsetY+b;c.bottomX=c.stack.relToAbsX(c.stack.dim.rw);c.bottomY=c.stack.relToAbsY(c.stack.dim.rh);c.stack.move(CodeManager.dragAbsToRelX(c.topX),CodeManager.dragAbsToRelY(c.topY));a=BlockPalette.isStackOverPalette(c.touchX,c.touchY);FinchBlox&&(a|=TitleBar.isStackOverTitleBar(c.touchX,c.touchY));a?(Highlighter.hide(),c.startedFromPalette||BlockPalette.showTrash()):(BlockPalette.hideTrash(),
this.findBestFit(),this.fit.found?FinchBlox?Highlighter.showShadow(this.fit.bestFit,c.stack):this.fit.bestFit.highlight():Highlighter.hide())};
BlockMoveManager.prototype.end=function(){const a=this.move,b=this.fit;a.topX=a.offsetX+a.touchX;a.topY=a.offsetY+a.touchY;a.bottomX=a.stack.relToAbsX(a.stack.dim.rw);a.bottomY=a.stack.relToAbsY(a.stack.dim.rh);var c=BlockPalette.isStackOverPalette(a.touchX,a.touchY);FinchBlox&&(c|=TitleBar.isStackOverTitleBar(a.touchX,a.touchY));c?a.startedFromPalette?a.stack.remove():(UndoManager.deleteStack(a.stack),SaveManager.markEdited()):(this.findBestFit(),b.found?(b.bestFit.snap(a.stack.firstBlock),Sound.playSnap()):
(a.stack.land(),a.stack.updateDim()),SaveManager.markEdited());Highlighter.hide();BlockPalette.hideTrash()};BlockMoveManager.prototype.interrupt=function(){const a=this.move;a.topX=a.offsetX+a.touchX;a.topY=a.offsetY+a.touchY;a.stack.land();a.stack.updateDim();Highlighter.hide()};BlockMoveManager.prototype.findBestFit=function(){const a=this.fit;a.found=!1;a.bestFit=null;a.dist=0;TabManager.activeTab.findBestFit(this)};
function TabManager(){const a=TabManager;a.tabList=[];a.activeTab=null;a.createInitialTab();TabManager.createTabSpaceBg();a.isRunning=!1;a.scrolling=!1;a.zooming=!1}
TabManager.setGraphics=function(){const a=TabManager;a.bg=Colors.black;a.minZoom=.35;a.maxZoom=3;a.tabAreaX=BlockPalette.width;if(GuiElements.smallMode||FinchBlox)a.tabAreaX=0;a.tabAreaY=TitleBar.height;a.tabAreaWidth=GuiElements.width-a.tabAreaXh;a.tabSpaceX=a.tabAreaX;a.tabSpaceY=TitleBar.height;FinchBlox&&(a.tabSpaceY=TitleBar.solidHeight);a.tabSpaceWidth=GuiElements.width-a.tabSpaceX;a.tabSpaceHeight=GuiElements.height-a.tabSpaceY;a.spaceScrollMargin=50;a.undoDeleteMarginBase=40;a.undoDeleteMarginRand=
40};TabManager.createTabSpaceBg=function(){const a=TabManager;var b=Colors.canvasGray;FinchBlox&&(b=Colors.white);a.bgRect=GuiElements.draw.rect(a.tabSpaceX,a.tabSpaceY,a.tabSpaceWidth,a.tabSpaceHeight,b);TouchReceiver.addListenersTabSpace(a.bgRect);GuiElements.layers.aTabBg.appendChild(a.bgRect)};TabManager.addTab=function(a){TabManager.tabList.push(a)};TabManager.removeTab=function(a){a=TabManager.tabList.indexOf(a);TabManager.stackList.splice(a,1)};
TabManager.createInitialTab=function(){const a=TabManager;new Tab;a.activateTab(a.tabList[0])};TabManager.activateTab=function(a){a.activate();TabManager.activeTab=a;a.commentList.forEach(function(b){b.update()})};TabManager.updateRun=function(){if(!this.isRunning)return new ExecutionStatusDone;let a=!1;for(let b=0;b<TabManager.tabList.length;b++)a=TabManager.tabList[b].updateRun().isRunning()||a;return(this.isRunning=a)?new ExecutionStatusRunning:new ExecutionStatusDone};
TabManager.stop=function(){TabManager.passRecursively("stop");this.isRunning=!1};TabManager.stopAllButStack=function(a){TabManager.passRecursively("stopAllButStack",a)};TabManager.startRun=function(){TabManager.isRunning=!0;CodeManager.startUpdateTimer()};TabManager.startScroll=function(a,b){const c=TabManager;c.scrolling||(c.scrolling=!0,c.activeTab.startScroll(a,b))};TabManager.updateScroll=function(a,b){const c=TabManager;c.scrolling&&c.activeTab.updateScroll(a,b)};
TabManager.endScroll=function(){const a=TabManager;a.scrolling&&(a.scrolling=!1,a.activeTab.endScroll())};TabManager.startZooming=function(a,b,c,d){const e=TabManager;e.zooming||(e.zooming=!0,e.activeTab.startZooming(a,b,c,d))};TabManager.updateZooming=function(a,b,c,d){const e=TabManager;e.zooming&&e.activeTab.updateZooming(a,b,c,d)};TabManager.endZooming=function(){const a=TabManager;a.zooming&&(a.zooming=!1,a.activeTab.endZooming())};
TabManager.wheelZoom=function(a,b,c){const d=TabManager;d.zooming||(d.zooming=!0,d.activeTab.wheelZoom(a,b,c),d.zooming=!1)};TabManager.undoDelete=function(a){return TabManager.activeTab.undoDelete(a)};TabManager.createXml=function(a){const b=TabManager,c=XmlWriter.createElement(a,"tabs");for(let d=0;d<b.tabList.length;d++)c.appendChild(b.tabList[d].createXml(a));return c};
TabManager.importXml=function(a){const b=TabManager;if(null!=a){a=XmlWriter.findSubElements(a,"tab");for(let c=0;c<a.length;c++)Tab.importXml(a[c])}0===b.tabList.length?b.createInitialTab():b.activateTab(b.tabList[0])};TabManager.deleteAll=function(){const a=TabManager;for(let b=0;b<a.tabList.length;b++)a.tabList[b].delete();a.tabList=[];a.activeTab=null;a.isRunning=!1;a.scrolling=!1};TabManager.eventFlagClicked=function(){TabManager.passRecursively("eventFlagClicked")};
TabManager.eventBroadcast=function(a){TabManager.passRecursively("eventBroadcast",a)};TabManager.updateAvailableMessages=function(){TabManager.passRecursively("updateAvailableMessages")};TabManager.renameVariable=function(a){TabManager.passRecursively("renameVariable",a)};TabManager.deleteVariable=function(a){TabManager.passRecursively("deleteVariable",a)};TabManager.renameList=function(a){TabManager.passRecursively("renameList",a)};
TabManager.deleteList=function(a){TabManager.passRecursively("deleteList",a)};TabManager.checkBroadcastRunning=function(a){if(this.isRunning)for(let b=0;b<TabManager.tabList.length;b++)if(TabManager.tabList[b].checkBroadcastRunning(a))return!0;return!1};TabManager.checkVariableUsed=function(a){for(let b=0;b<TabManager.tabList.length;b++)if(TabManager.tabList[b].checkVariableUsed(a))return!0;return!1};
TabManager.checkListUsed=function(a){for(let b=0;b<TabManager.tabList.length;b++)if(TabManager.tabList[b].checkListUsed(a))return!0;return!1};TabManager.countDevicesInUse=function(a){let b=0;for(let c=0;c<TabManager.tabList.length;c++)b=Math.max(b,TabManager.tabList[c].countDevicesInUse(a));return b};TabManager.passRecursivelyDown=function(a){Array.prototype.unshift.call(arguments,"passRecursivelyDown");TabManager.passRecursively.apply(TabManager,arguments)};
TabManager.passRecursively=function(a){const b=Array.prototype.slice.call(arguments,1);for(let c=0;c<TabManager.tabList.length;c++){const d=TabManager.tabList[c];d[a].apply(d,b)}};TabManager.updateZoom=function(){const a=TabManager;a.setGraphics();GuiElements.update.rect(a.bgRect,a.tabSpaceX,a.tabSpaceY,a.tabSpaceWidth,a.tabSpaceHeight);TabManager.passRecursively("updateZoom")};TabManager.getActiveZoom=function(){return null==TabManager.activeTab?1:TabManager.activeTab.getZoom()};
function Tab(){this.mainG=GuiElements.create.group(0,0);this.scrollY=this.scrollX=0;this.zoomFactor=1;this.visible=!1;TabManager.addTab(this);this.stackList=[];this.commentList=[];this.zooming=this.scrolling=this.isRunning=!1;this.scrollYOffset=this.scrollXOffset=0;this.startZoom=this.zoomStartDist=null;this.updateTransform();this.overFlowArr=new OverflowArrows;this.dim={};this.dim.x1=0;this.dim.y1=0;this.dim.x2=0;this.dim.y2=0}
Tab.prototype.activate=function(){GuiElements.layers.activeTab.appendChild(this.mainG);this.overFlowArr.show();if(FinchBlox){const b=this.stackList;var a=!1;for(let c=0;c<b.length;c++)b[c].firstBlock.isStartBlock&&(a=!0);a||this.addStartBlock()}};Tab.prototype.addStack=function(a){this.stackList.push(a)};Tab.prototype.removeStack=function(a){a=this.stackList.indexOf(a);this.stackList.splice(a,1)};Tab.prototype.clear=function(){this.stackList.slice().forEach(function(a){a.remove()})};
Tab.prototype.recenter=function(){const a={};for(let c=0;c<this.stackList.length;c++)if(this.stackList[c].firstBlock.hasHat){var b=this.stackList[c];if(null==a.x1||b.x<a.x1)a.x1=b.x;if(null==a.y1||b.y<a.y1)a.y1=b.y;const d=b.x+b.dim.rw;if(null==a.x2||d>a.x2)a.x2=d;b=b.y+b.dim.rh;if(null==a.y2||b>a.y2)a.y2=b}null!=a.x1?this.fitBox(a):this.fitBox(this.dim)};
Tab.prototype.fitBox=function(a){const b=this.overFlowArr;let c=this.relToAbsX(a.x1),d=this.relToAbsY(a.y1);var e=this.relToAbsX(a.x2),f=this.relToAbsY(a.y2);e=e-c-(b.right-b.left);f=f-d-(b.bottom-b.top);(0<e||0<f)&&this.zoomFactor>TabManager.minZoom?(this.zoomFactor=Math.max(TabManager.minZoom,.9*this.zoomFactor),GuiElements.move.group(this.mainG,this.scrollX,this.scrollY,this.zoomFactor),this.updateTabDim(),this.fitBox(a)):(a=b.top-d,this.scrollX=this.scrollX+(b.left-c)-(0>e?e/2:0),this.scrollY=
this.scrollY+a-(0>f?f/2:0),GuiElements.move.group(this.mainG,this.scrollX,this.scrollY,this.zoomFactor),this.updateTabDim(),this.updateTransform(),this.updateArrowsShift())};Tab.prototype.addStartBlock=function(){new BlockStack(new B_WhenFlagTapped(50,GuiElements.height/2-BlockPalette.height),this)};Tab.prototype.relToAbsX=function(a){return a*this.zoomFactor+this.scrollX};Tab.prototype.relToAbsY=function(a){return a*this.zoomFactor+this.scrollY};
Tab.prototype.absToRelX=function(a){return(a-this.scrollX)/this.zoomFactor};Tab.prototype.absToRelY=function(a){return(a-this.scrollY)/this.zoomFactor};Tab.prototype.getAbsX=function(){return this.relToAbsX(0)};Tab.prototype.getAbsY=function(){return this.relToAbsY(0)};Tab.prototype.findBlockByID=function(a){this.passRecursively("findBlockByID",a)};Tab.prototype.findBestFit=function(a){this.passRecursively("findBestFit",a)};Tab.prototype.eventFlagClicked=function(){this.passRecursively("eventFlagClicked")};
Tab.prototype.eventBroadcast=function(a){this.passRecursively("eventBroadcast",a)};Tab.prototype.updateAvailableMessages=function(){this.passRecursively("updateAvailableMessages")};Tab.prototype.renameVariable=function(a){this.passRecursively("renameVariable",a)};Tab.prototype.deleteVariable=function(a){this.passRecursively("deleteVariable",a)};Tab.prototype.renameList=function(a){this.passRecursively("renameList",a)};Tab.prototype.deleteList=function(a){this.passRecursively("deleteList",a)};
Tab.prototype.checkBroadcastRunning=function(a){if(this.isRunning){const b=this.stackList;for(let c=0;c<b.length;c++)if(b[c].checkBroadcastRunning(a))return!0}return!1};Tab.prototype.checkVariableUsed=function(a){const b=this.stackList;for(let c=0;c<b.length;c++)if(b[c].checkVariableUsed(a))return!0;return!1};Tab.prototype.checkListUsed=function(a){const b=this.stackList;for(let c=0;c<b.length;c++)if(b[c].checkListUsed(a))return!0;return!1};
Tab.prototype.updateRun=function(){if(!this.isRunning)return new ExecutionStatusDone;const a=this.stackList;let b=!1;for(let c=0;c<a.length;c++)b=a[c].updateRun().isRunning()||b;return(this.isRunning=b)?new ExecutionStatusRunning:new ExecutionStatusDone};Tab.prototype.stop=function(){this.passRecursively("stop");this.isRunning=!1};Tab.prototype.stopAllButStack=function(a){const b=this.stackList;for(let c=0;c<b.length;c++)b[c]!==a&&b[c].stop()};Tab.prototype.startRun=function(){this.isRunning=!0;TabManager.startRun()};
Tab.prototype.startScroll=function(a,b){this.scrolling||(this.scrolling=!0,this.scrollXOffset=this.scrollX-a,this.scrollYOffset=this.scrollY-b,this.updateTabDim())};Tab.prototype.updateScroll=function(a,b){this.scrolling&&(this.scrollX=this.scrollXOffset+a,this.scrollY=this.scrollYOffset+b,GuiElements.move.group(this.mainG,this.scrollX,this.scrollY,this.zoomFactor),this.updateArrowsShift())};Tab.prototype.endScroll=function(){this.scrolling=!1};
Tab.prototype.startZooming=function(a,b,c,d){this.zooming||(this.zooming=!0,this.scrollXOffset=this.scrollX-(a+c)/2,this.scrollYOffset=this.scrollY-(b+d)/2,a=c-a,b=d-b,this.zoomStartDist=Math.sqrt(a*a+b*b),this.startZoom=this.zoomFactor,this.updateTabDim())};
Tab.prototype.updateZooming=function(a,b,c,d){if(this.zooming){var e=c-a;const f=d-b;this.zoomFactor=this.startZoom*Math.sqrt(e*e+f*f)/this.zoomStartDist;this.zoomFactor=Math.max(TabManager.minZoom,Math.min(TabManager.maxZoom,this.zoomFactor));e=this.zoomFactor/this.startZoom;this.scrollX=this.scrollXOffset*e+(a+c)/2;this.scrollY=this.scrollYOffset*e+(b+d)/2;this.updateTransform();this.updateArrowsShift()}};Tab.prototype.endZooming=function(){this.zooming=!1};
Tab.prototype.wheelZoom=function(a,b,c){this.zooming||(this.zooming=!0,this.scrollXOffset=this.scrollX-a,this.scrollYOffset=this.scrollY-b,this.startZoom=this.zoomFactor,this.updateTabDim(),this.zoomFactor=this.startZoom*(c?.9:1.1),this.zoomFactor=Math.max(TabManager.minZoom,Math.min(TabManager.maxZoom,this.zoomFactor)),c=this.zoomFactor/this.startZoom,this.scrollX=this.scrollXOffset*c+a,this.scrollY=this.scrollYOffset*c+b,this.updateTransform(),this.updateArrowsShift(),this.zooming=!1)};
Tab.prototype.updateTransform=function(){GuiElements.move.group(this.mainG,this.scrollX,this.scrollY,this.zoomFactor);GuiElements.update.zoom(GuiElements.layers.drag,this.zoomFactor);GuiElements.update.zoom(GuiElements.layers.highlight,this.zoomFactor)};Tab.prototype.updateTabDim=function(){const a=this.dim;a.width=0;a.height=0;a.x1=null;a.y1=null;a.x2=null;a.y2=null;this.passRecursively("updateTabDim");null==a.x1&&(a.x1=0,a.y1=0,a.x2=0,a.y2=0)};
Tab.prototype.createXml=function(a,b){const c=XmlWriter.createElement(a,"tab");XmlWriter.setAttribute(c,"x",this.scrollX);XmlWriter.setAttribute(c,"y",this.scrollY);XmlWriter.setAttribute(c,"zoom",this.zoomFactor);var d=XmlWriter.createElement(a,"stacks");for(let f=0;f<this.stackList.length;f++){var e=b&&this.stackList[f].firstBlock.isStartBlock?this.stackList[f].createXml(a,!0):this.stackList[f].createXml(a);null!=e&&d.appendChild(e)}c.appendChild(d);b=XmlWriter.createElement(a,"comments");for(d=
0;d<this.commentList.length;d++)e=this.commentList[d].createXml(a),b.appendChild(e);c.appendChild(b);return c};
Tab.importXml=function(a){var b=XmlWriter.getAttribute(a,"x",0,!0),c=XmlWriter.getAttribute(a,"y",0,!0);const d=XmlWriter.getAttribute(a,"zoom",1,!0),e=new Tab;e.scrollX=b;e.scrollY=c;e.zoomFactor=d;e.updateTransform();b=XmlWriter.findSubElement(a,"stacks");if(null!=b)for(b=XmlWriter.findSubElements(b,"stack"),c=0;c<b.length;c++)BlockStack.importXml(b[c],e);a=XmlWriter.findSubElement(a,"comments");if(null!=a)for(a=XmlWriter.findSubElements(a,"comment"),b=0;b<a.length;b++)Comment.importXml(a[b],e);
e.updateArrows();return e};Tab.prototype.delete=function(){this.passRecursively("remove");this.mainG.remove()};
Tab.prototype.undoDelete=function(a){if("tab"===a.nodeName)return this.undoDeleteTab(a);if("comment"===a.nodeName)return this.undoDeleteComment(a);var b=TabManager.undoDeleteMarginRand*Math.random()+TabManager.undoDeleteMarginBase;const c=TabManager.undoDeleteMarginRand*Math.random()+TabManager.undoDeleteMarginBase;var d=this.absToRelX(b+BlockPalette.width);FinchBlox&&(d=this.absToRelX(b));b=this.absToRelY(c+TitleBar.height);a=BlockStack.importXml(a,this);if(null==a)return!1;a.move(d,b);this.updateArrows();
return!0};Tab.prototype.undoDeleteTab=function(a){var b=!1;a=XmlWriter.findSubElement(a,"stacks");if(null!=a){a=XmlWriter.findSubElements(a,"stack");0!=a.length&&(b=!0);for(let c=0;c<a.length;c++){const d=this.undoDelete(a[c]);b=b&&d}}return b};Tab.prototype.undoDeleteComment=function(a){Comment.importXml(a,this);return!0};Tab.prototype.countDevicesInUse=function(a){let b=0;const c=this.stackList;for(let d=0;d<c.length;d++)b=Math.max(b,c[d].countDevicesInUse(a));return b};
Tab.prototype.passRecursivelyDown=function(a){Array.prototype.unshift.call(arguments,"passRecursivelyDown");this.passRecursively.apply(this,arguments)};Tab.prototype.passRecursively=function(a){const b=Array.prototype.slice.call(arguments,1),c=this.stackList;for(let d=0;d<c.length;d++){const e=c[d],f=c.length;e[a].apply(e,b);f!==c.length&&d--}};Tab.prototype.getZoom=function(){return this.zoomFactor};Tab.prototype.updateZoom=function(){this.overFlowArr.updateZoom();this.updateArrows()};
Tab.prototype.updateArrows=function(){this.updateTabDim();const a=this.relToAbsX(this.dim.x1),b=this.relToAbsY(this.dim.y1),c=this.relToAbsX(this.dim.x2),d=this.relToAbsY(this.dim.y2);this.overFlowArr.setArrows(a,c,b,d)};Tab.prototype.updateArrowsShift=function(){const a=this.relToAbsX(this.dim.x1),b=this.relToAbsY(this.dim.y1),c=this.relToAbsX(this.dim.x2),d=this.relToAbsY(this.dim.y2);this.overFlowArr.setArrows(a,c,b,d)};
function RecordingManager(){let a=RecordingManager;a.recordingStates={stopped:0,recording:1,paused:2};a.state=a.recordingStates.stopped;a.updateTimer=null;a.updateInterval=200;a.startTime=null;a.pausedTime=0;a.awaitingPermission=!1}RecordingManager.userRenameFile=function(a,b){SaveManager.userRenameFile(!0,a,b)};RecordingManager.userDeleteFile=function(a,b){SaveManager.userDeleteFile(!0,a,b)};
RecordingManager.startRecording=function(){let a=RecordingManager,b=new HttpRequestBuilder("sound/recording/start");HtmlServer.sendRequestWithCallback(b.toString(),function(c){"Started"===c?(a.setState(a.recordingStates.recording),RecordingDialog.startedRecording()):"Permission denied"===c?(c=Language.getStr("Grant_permission"),DialogManager.showAlertDialog(Language.getStr("Permission_denied"),c,Language.getStr("Dismiss"))):"Requesting permission"===c&&(a.awaitingPermission=!0)})};
RecordingManager.stopRecording=function(){let a=RecordingManager,b=new HttpRequestBuilder("sound/recording/stop"),c=function(){a.setState(a.recordingStates.stopped);RecordingDialog.stoppedRecording()};HtmlServer.sendRequestWithCallback(b.toString(),c,c)};RecordingManager.interruptRecording=function(){let a=RecordingManager;a.setState(a.recordingStates.stopped);RecordingDialog.stoppedRecording()};
RecordingManager.pauseRecording=function(){let a=RecordingManager,b=new HttpRequestBuilder("sound/recording/pause");HtmlServer.sendRequestWithCallback(b.toString(),function(){a.setState(a.recordingStates.paused);RecordingDialog.pausedRecording()},function(){a.setState(a.recordingStates.stopped);RecordingDialog.stoppedRecording()})};
RecordingManager.discardRecording=function(){let a=RecordingManager,b=function(){a.setState(a.recordingStates.stopped);RecordingDialog.stoppedRecording()},c=Language.getStr("Delete_question");DialogManager.showChoiceDialog(Language.getStr("Delete"),c,Language.getStr("Cancel"),Language.getStr("Delete"),!0,function(d){"2"===d&&(d=new HttpRequestBuilder("sound/recording/discard"),HtmlServer.sendRequestWithCallback(d.toString(),b,b))},b)};
RecordingManager.resumeRecording=function(){let a=RecordingManager,b=new HttpRequestBuilder("sound/recording/unpause");HtmlServer.sendRequestWithCallback(b.toString(),function(){a.setState(a.recordingStates.recording);RecordingDialog.startedRecording()},function(){a.setState(a.recordingStates.stopped);RecordingDialog.stoppedRecording()})};RecordingManager.listRecordings=function(a){Sound.loadSounds(!0,a)};
RecordingManager.setState=function(a){let b=RecordingManager,c=b.state;b.state=a;let d=b.recordingStates;a===d.recording?null==b.updateTimer&&(c===d.stopped&&(b.pausedTime=0),b.startTime=(new Date).getTime(),b.updateTimer=self.setInterval(b.updateCounter,b.updateInterval)):a===d.paused?null!=b.updateTimer&&(window.clearInterval(b.updateTimer),b.updateTimer=null,b.pausedTime=b.getElapsedTime()):null!=b.updateTimer&&(window.clearInterval(b.updateTimer),b.updateTimer=null)};
RecordingManager.updateCounter=function(){RecordingDialog.updateCounter(RecordingManager.getElapsedTime())};RecordingManager.getElapsedTime=function(){let a=RecordingManager;return(new Date).getTime()-a.startTime+a.pausedTime};RecordingManager.permissionGranted=function(){let a=RecordingManager;a.awaitingPermission&&(a.awaitingPermission=!1,null!=RecordingDialog.currentDialog&&a.startRecording())};
function RowDialog(a,b,c,d,e,f){null==f&&(f=0);this.autoHeight=a;this.title=b;this.rowCount=c;this.extraTopSpace=d;this.extraBottomSpace=e;this.extendTitleBar=f;this.centeredButtons=[];this.hintText="";this.visible=!1}
RowDialog.setConstants=function(){RowDialog.currentDialog=null;FinchBlox?(RowDialog.titleBarColor=Colors.finchGreen,RowDialog.bgColor=Colors.white,RowDialog.bnMargin=0,RowDialog.cornerR=5,RowDialog.bnHeight=SmoothMenuBnList.bnHeight,RowDialog.titleBarH=2*RowDialog.bnHeight,RowDialog.outlineColor=Colors.flagGreen):(RowDialog.titleBarColor=Colors.lightGray,RowDialog.bgColor=Colors.lightLightGray,RowDialog.bnMargin=5,RowDialog.cornerR=0,RowDialog.bnHeight=SmoothMenuBnList.bnHeight,RowDialog.titleBarH=
RowDialog.bnHeight+RowDialog.bnMargin);RowDialog.titleBarFontC=Colors.white;RowDialog.centeredBnWidth=100;FinchBlox?(RowDialog.widthRatio=.7,RowDialog.heightRatio=.2):(RowDialog.widthRatio=.7,RowDialog.heightRatio=.75);FinchBlox?(RowDialog.minWidth=400,RowDialog.minHeight=200):(RowDialog.minWidth=400,RowDialog.minHeight=400);RowDialog.hintMargin=5;RowDialog.titleBarFont=Font.uiFont(16).bold();RowDialog.hintTextFont=Font.uiFont(16);RowDialog.centeredfontWeight="bold";RowDialog.smallBnWidth=45;RowDialog.iconH=
15};RowDialog.prototype.addCenteredButton=function(a,b){let c={};c.text=a;c.callbackFn=b;this.centeredButtons.push(c)};
RowDialog.prototype.show=function(){this.visible||(this.visible=!0,null!=RowDialog.currentDialog&&RowDialog.currentDialog!==this&&RowDialog.currentDialog.closeDialog(),RowDialog.currentDialog=this,this.calcHeights(),this.calcWidths(),this.x=GuiElements.width/2-this.width/2,this.y=GuiElements.height/2-this.height/2,this.group=GuiElements.create.group(this.x,this.y),this.bgRect=this.drawBackground(),this.titleRect=this.createTitleRect(),FinchBlox?this.icon=Hatchling?this.createTitleIcon(VectorPaths.faEgg):
this.createTitleIcon(VectorPaths.mvFinch):this.titleText=this.createTitleLabel(this.title),this.rowGroup=this.createContent(),this.createCenteredBns(),this.scrollBox=this.createScrollBox(),null!=this.scrollBox&&this.scrollBox.show(),GuiElements.layers.overlay.appendChild(this.group),GuiElements.blockInteraction())};
RowDialog.prototype.calcHeights=function(){const a=RowDialog;let b=(a.bnHeight+a.bnMargin)*this.centeredButtons.length+a.bnMargin,c=b+a.bnMargin;c+=this.extraTopSpace+this.extraBottomSpace;c+=a.titleBarH;let d=Math.max(Math.min(GuiElements.height,GuiElements.width)*RowDialog.heightRatio,a.minHeight),e=this.rowCount*(a.bnMargin+a.bnHeight)-a.bnMargin,f=c+e;this.autoHeight||(f=0);this.height=Math.min(Math.max(d,f),GuiElements.height);this.centeredButtonY=this.height-b+a.bnMargin;this.innerHeight=e;
this.scrollBoxHeight=Math.min(this.height-c,e);this.scrollBoxY=a.bnMargin+a.titleBarH+this.extraTopSpace;this.extraTopY=a.titleBarH;this.extraBottomY=this.height-b-this.extraBottomSpace+a.bnMargin};
RowDialog.prototype.calcWidths=function(){const a=RowDialog;this.width=Math.min(GuiElements.width,Math.max(Math.min(GuiElements.height,GuiElements.width)*a.widthRatio,a.minWidth));this.scrollBoxWidth=this.width-2*a.bnMargin;this.scrollBoxX=a.bnMargin;this.centeredButtonX=this.width/2-a.centeredBnWidth/2;this.contentWidth=this.width-2*a.bnMargin};
RowDialog.prototype.drawBackground=function(){var a=RowDialog;a=GuiElements.draw.rect(0,0,this.width,this.height,a.bgColor,a.cornerR,a.cornerR);this.group.appendChild(a);return a};
RowDialog.prototype.createTitleRect=function(){const a=RowDialog;if(FinchBlox){var b=GuiElements.draw.tab(0,0,this.width,a.titleBarH+this.extendTitleBar,a.titleBarColor,a.cornerR);GuiElements.update.stroke(b,a.outlineColor,1)}else b=GuiElements.draw.rect(0,0,this.width,a.titleBarH+this.extendTitleBar,a.titleBarColor);this.group.appendChild(b);return b};
RowDialog.prototype.createTitleLabel=function(a){var b=RowDialog;a=GuiElements.draw.text(0,0,a,b.titleBarFont,b.titleBarFontC);var c=this.width/2-GuiElements.measure.textWidth(a)/2;GuiElements.move.text(a,c,b.titleBarH/2+b.titleBarFont.charHeight/2);this.group.appendChild(a);return a};
RowDialog.prototype.createTitleIcon=function(a){var b=RowDialog;const c=.9*b.titleBarH,d=VectorIcon.computeWidth(a,c);a=new VectorIcon((this.width-d)/2,(b.titleBarH-c)/2,a,Colors.white,c,this.group,null,90);GuiElements.update.stroke(a.pathE,b.outlineColor,4);return a};
RowDialog.prototype.createContent=function(){const a=RowDialog;let b=0;const c=GuiElements.create.group(0,0);if(0<this.rowCount)if(this.title===Language.getStr("Connect_Multiple"))this.createMultipleDialogRow(b,this.contentWidth,c);else for(let d=0;d<this.rowCount;d++)this.createRow(d,b,this.contentWidth,c),b+=a.bnHeight+a.bnMargin;else""!==this.hintText&&this.createHintText();return c};RowDialog.prototype.createMultipleDialogRow=function(a,b,c){DebugOptions.markAbstract()};
RowDialog.prototype.createRow=function(a,b,c,d){DebugOptions.markAbstract()};RowDialog.prototype.createCenteredBns=function(){const a=RowDialog;let b=this.centeredButtonY;this.centeredButtonEs=[];for(let c=0;c<this.centeredButtons.length;c++){let d=this.createCenteredBn(b,this.centeredButtons[c]);this.centeredButtonEs.push(d);b+=a.bnHeight+a.bnMargin}};
RowDialog.prototype.createCenteredBn=function(a,b){const c=RowDialog;a=new Button(this.centeredButtonX,a,c.centeredBnWidth,c.bnHeight,this.group);a.addText(b.text,null,null,c.centeredfontWeight);a.setCallbackFunction(b.callbackFn,!0);return a};RowDialog.prototype.createScrollBox=function(){return 0===this.rowCount?null:new SmoothScrollBox(this.rowGroup,GuiElements.layers.frontScroll,this.x+this.scrollBoxX,this.y+this.scrollBoxY,this.scrollBoxWidth,this.scrollBoxHeight,this.scrollBoxWidth,this.innerHeight)};
RowDialog.prototype.createHintText=function(a,b){null==a&&(a=0);null==b&&(b=0);const c=RowDialog;this.hintTextE=GuiElements.draw.text(0,0,"",c.hintTextFont,c.titleBarFontC);GuiElements.update.textLimitWidth(this.hintTextE,this.hintText,this.width);let d=GuiElements.measure.textWidth(this.hintTextE);GuiElements.move.text(this.hintTextE,this.width/2-d/2+a,this.scrollBoxY+c.hintTextFont.charHeight+c.hintMargin+b);this.group.appendChild(this.hintTextE)};
RowDialog.prototype.closeDialog=function(){this.visible&&(this.hide(),GuiElements.unblockInteraction())};RowDialog.prototype.getScroll=function(){return null==this.scrollBox?0:this.scrollBox.getScrollY()};RowDialog.prototype.setScroll=function(a){null!=this.scrollBox&&this.scrollBox.setScrollY(a)};RowDialog.prototype.updateZoom=function(){if(this.visible){let a=this.getScroll();this.closeDialog();this.show();this.setScroll(a)}};RowDialog.updateZoom=function(){null!=RowDialog.currentDialog&&RowDialog.currentDialog.updateZoom()};
RowDialog.prototype.hide=function(){this.visible&&(this.visible=!1,this.group.remove(),null!=this.scrollBox&&this.scrollBox.hide(),this.scrollBox=null,RowDialog.currentDialog===this&&(RowDialog.currentDialog=null))};RowDialog.prototype.reloadRows=function(a){this.rowCount=a;this.visible&&(a=this.getScroll(),this.hide(),this.show(),this.setScroll(a))};RowDialog.prototype.isScrolling=function(){return null!=this.scrollBox?this.scrollBox.isMoving():!1};
RowDialog.prototype.addHintText=function(a){this.hintText=a};RowDialog.prototype.getExtraTopY=function(){return this.extraTopY};RowDialog.prototype.getExtraBottomY=function(){return this.extraBottomY};RowDialog.prototype.getContentWidth=function(){return this.contentWidth};RowDialog.prototype.getCenteredButton=function(a){return this.centeredButtonEs[a]};RowDialog.prototype.contentRelToAbsX=function(a){return this.visible?this.scrollBox.relToAbsX(a):a};
RowDialog.prototype.contentRelToAbsY=function(a){return this.visible?this.scrollBox.relToAbsY(a):a};RowDialog.createMainBn=function(a,b,c,d,e){a=new Button(b,c,a,RowDialog.bnHeight,d);null!=e&&a.setCallbackFunction(e,!0);a.makeScrollable();return a};RowDialog.createMainBnWithText=function(a,b,c,d,e,f){b=RowDialog.createMainBn(b,c,d,e,f);b.addText(a);return b};
RowDialog.createSmallBn=function(a,b,c,d){const e=RowDialog;a=new Button(a,b,e.smallBnWidth,e.bnHeight,c);null!=d&&a.setCallbackFunction(d,!0);a.makeScrollable();return a};RowDialog.createSmallBnWithIcon=function(a,b,c,d,e){let f=RowDialog;b=RowDialog.createSmallBn(b,c,d,e);b.addIcon(a,f.iconH);return b};
function OpenDialog(a){const b=RowDialog;this.fileList=a;this.files=a.localFiles;b.call(this,!1,Language.getStr("Open"),this.files.length,0,OpenDialog.extraBottomSpace);this.addHintText(Language.getStr("No_saved_programs"))}OpenDialog.prototype=Object.create(RowDialog.prototype);OpenDialog.prototype.constructor=OpenDialog;
OpenDialog.setConstants=function(){OpenDialog.extraBottomSpace=RowDialog.bnHeight+RowDialog.bnMargin;OpenDialog.currentDialog=null;OpenDialog.cloudBnWidth=1.6*RowDialog.smallBnWidth;OpenDialog.tabRowHeight=RowDialog.titleBarH;OpenDialog.lastOpenFile=null};
OpenDialog.prototype.show=function(){void 0===OpenDialog.defaultFile||""===OpenDialog.defaultFile?(RowDialog.prototype.show.call(this),OpenDialog.currentDialog=this,this.createNewBn(),GuiElements.isIos&&this.createCloudBn()):(SaveManager.userOpenFile(OpenDialog.defaultFile),OpenDialog.defaultFile="")};
OpenDialog.prototype.createRow=function(a,b,c,d){const e=RowDialog;c=c-3*e.smallBnWidth-3*e.bnMargin;a=this.files[a];this.createFileBn(a,c,0,b,d);c+=e.bnMargin;this.createRenameBn(a,c,b,d);c+=e.bnMargin+e.smallBnWidth;this.fileList.signedIn?this.createUploadBn(a,c,b,d):this.createExportBn(a,c,b,d);c+=e.bnMargin+e.smallBnWidth;this.createMoreBn(a,c,b,d)};OpenDialog.prototype.createFileBn=function(a,b,c,d,e){RowDialog.createMainBnWithText(a,b,c,d,e,function(){this.closeDialog();SaveManager.userOpenFile(a)}.bind(this))};
OpenDialog.prototype.createDeleteBn=function(a,b,c,d){const e=this;RowDialog.createSmallBnWithIcon(VectorPaths.trash,b,c,d,function(){SaveManager.userDeleteFile(!1,a,function(){e.reloadDialog()})})};OpenDialog.prototype.createRenameBn=function(a,b,c,d){const e=this;RowDialog.createSmallBnWithIcon(VectorPaths.edit,b,c,d,function(){SaveManager.userRenameFile(!1,a,function(){e.reloadDialog()})})};
OpenDialog.prototype.createDuplicateBn=function(a,b,c,d){const e=this;RowDialog.createSmallBnWithIcon(VectorPaths.copy,b,c,d,function(){SaveManager.userDuplicateFile(a,function(){e.reloadDialog()})})};
OpenDialog.prototype.createExportBn=function(a,b,c,d){RowDialog.createSmallBnWithIcon(VectorPaths.share,b,c,d,function(){let e=this.contentRelToAbsX(b),f=this.contentRelToAbsX(b+RowDialog.smallBnWidth),g=this.contentRelToAbsY(c),h=this.contentRelToAbsY(c+RowDialog.bnHeight);e=GuiElements.relToAbsX(e);f=GuiElements.relToAbsX(f);g=GuiElements.relToAbsX(g);h=GuiElements.relToAbsX(h);SaveManager.userExportFile(a,e,f,g,h)}.bind(this))};
OpenDialog.prototype.createUploadBn=function(a,b,c,d){RowDialog.createSmallBnWithIcon(VectorPaths.cloudUpload,b,c,d,function(){const e=new HttpRequestBuilder("cloud/upload");e.addParam("filename",a);HtmlServer.sendRequestWithCallback(e.toString())})};
OpenDialog.prototype.createMoreBn=function(a,b,c,d){RowDialog.createSmallBnWithIcon(VectorPaths.dots,b,c,d,function(){const e=this.contentRelToAbsX(b),f=this.contentRelToAbsX(b+RowDialog.smallBnWidth),g=this.contentRelToAbsY(c),h=this.contentRelToAbsY(c+RowDialog.bnHeight);let k=FileContextMenu.types.localSignedOut;this.fileList.signedIn&&(k=FileContextMenu.types.localSignedIn);new FileContextMenu(this,a,k,e,f,g,h)}.bind(this))};
OpenDialog.prototype.createNewBn=function(){var a=RowDialog;let b=a.bnMargin,c=this.getExtraBottomY();a=new Button(b,c,this.getContentWidth(),a.bnHeight,this.group);a.addText(Language.getStr("New"));a.setCallbackFunction(function(){SaveManager.userNew(this.closeDialog.bind(this))}.bind(this),!0);return a};
OpenDialog.prototype.reloadDialog=function(){let a=this.getScroll(),b=this;HtmlServer.sendRequestWithCallback("data/files",function(c){OpenDialog.currentDialog===b&&(b.closeDialog(),c=new OpenDialog(new FileList(c)),c.show(),c.setScroll(a))})};
OpenDialog.prototype.createCloudBn=function(){var a=OpenDialog;const b=RowDialog;a=new Button(this.width-b.bnMargin-a.cloudBnWidth,b.bnMargin,a.cloudBnWidth,b.titleBarH-2*b.bnMargin,this.group);a.addIcon(VectorPaths.cloud);a.setCallbackFunction(function(){HtmlServer.sendRequestWithCallback("cloud/showPicker")},!0)};
OpenDialog.prototype.createTabRow=function(){var a=OpenDialog;let b=this.getExtraTopY();a=new TabRow(0,b,this.width,a.tabRowHeight,this.group,0);a.addTab(Language.getStr("On_Device"),"device");a.addTab(this.fileList.getCloudTitle(),"cloud");a.setCallbackFunction(this.tabSelected.bind(this));a.show();return a};OpenDialog.prototype.tabSelected=function(a){"cloud"===a&&(a=new OpenCloudDialog(this.fileList),this.hide(),a.show())};
OpenDialog.showDialog=function(){OpenDialog.opening=!0;HtmlServer.sendRequestWithCallback("data/files",function(a){OpenDialog.opening&&((new OpenDialog(new FileList(a))).show(),OpenDialog.opening=!1)},function(){OpenDialog.opening=!1})};OpenDialog.closeFileAndShowDialog=function(){null!=SaveManager.fileName&&(OpenDialog.lastOpenFile=SaveManager.fileName);SaveManager.userClose(OpenDialog.showDialog)};OpenDialog.prototype.closeDialog=function(){OpenDialog.currentDialog=null;RowDialog.prototype.closeDialog.call(this)};
OpenDialog.closeDialog=function(){OpenDialog.opening=!1;null!=OpenDialog.currentDialog&&OpenDialog.currentDialog.closeDialog()};OpenDialog.filesChanged=function(){null!=OpenDialog.currentDialog&&OpenDialog.currentDialog.constructor===OpenDialog&&OpenDialog.currentDialog.reloadDialog()};OpenDialog.setDefaultFile=function(a){OpenDialog.defaultFile=a};
function OpenCloudDialog(a,b,c){const d=OpenDialog,e=RowDialog;this.fileList=a;this.loading=null==b&&this.fileList.signedIn&&null==c;a=1;let f="";this.fileList.signedIn&&(f=null!=c?c:this.loading?Language.getStr("Loading")+"...":Language.getStr("No_saved_programs"),this.files=b,null==this.files&&(this.files=[]),a=this.files.length);e.call(this,!1,Language.getStr("Open"),a,d.tabRowHeight,0,d.tabRowHeight-1);this.addHintText(f);this.loading&&this.loadFiles()}OpenCloudDialog.prototype=Object.create(RowDialog.prototype);
OpenCloudDialog.prototype.constructor=OpenCloudDialog;OpenCloudDialog.prototype.show=function(){RowDialog.prototype.show.call(this);OpenDialog.currentDialog=this;this.createTabRow()};OpenCloudDialog.prototype.createRow=function(a,b,c,d){const e=RowDialog;this.fileList.signedIn?(a=this.files[a],c=c-2*e.smallBnWidth-2*e.bnMargin,this.createFileBn(a,c,0,b,d),c+=e.bnMargin,this.createRenameBn(a,c,b,d),c+=e.bnMargin+e.smallBnWidth,this.createMoreBn(a,c,b,d)):this.createSignInBn(c,0,b,d)};
OpenCloudDialog.prototype.createFileBn=function(a,b,c,d,e){RowDialog.createMainBn(b,c,d,e,function(){const f=new HttpRequestBuilder("cloud/download");f.addParam("filename",a);HtmlServer.sendRequestWithCallback(f.toString())}.bind(this)).addSideTextAndIcon(VectorPaths.cloudDownload,null,a)};OpenCloudDialog.prototype.createSignInBn=function(a,b,c,d){RowDialog.createMainBn(a,b,c,d,function(){HtmlServer.sendRequestWithCallback("cloud/signIn")}.bind(this)).addText(Language.getStr("Sign_in"))};
OpenCloudDialog.prototype.createRenameBn=function(a,b,c,d){RowDialog.createSmallBnWithIcon(VectorPaths.edit,b,c,d,function(){const e=new HttpRequestBuilder("cloud/rename");e.addParam("filename",a);HtmlServer.sendRequestWithCallback(e.toString())})};
OpenCloudDialog.prototype.createMoreBn=function(a,b,c,d){RowDialog.createSmallBnWithIcon(VectorPaths.dots,b,c,d,function(){const e=this.contentRelToAbsX(b),f=this.contentRelToAbsX(b+RowDialog.smallBnWidth),g=this.contentRelToAbsY(c),h=this.contentRelToAbsY(c+RowDialog.bnHeight);new FileContextMenu(this,a,FileContextMenu.types.cloud,e,f,g,h)}.bind(this))};
OpenCloudDialog.prototype.createTabRow=function(){var a=OpenDialog,b=this.getExtraTopY();a=new TabRow(0,b,this.width,a.tabRowHeight,this.group,1);a.addTab(Language.getStr("On_Device"),"device");b=null;this.fileList.signedIn&&(b=this.userSignOut.bind(this));a.addTab(this.fileList.getCloudTitle(),"cloud",b);a.setCallbackFunction(this.tabSelected.bind(this));a.show();return a};OpenCloudDialog.prototype.tabSelected=function(a){"device"===a&&(a=new OpenDialog(this.fileList),this.hide(),a.show(),a.reloadDialog())};
OpenCloudDialog.prototype.closeDialog=function(){OpenDialog.currentDialog=null;RowDialog.prototype.closeDialog.call(this)};OpenCloudDialog.prototype.reloadToOpen=function(){const a=this;HtmlServer.sendRequestWithCallback("data/files",function(b){OpenDialog.currentDialog===a&&(a.closeDialog(),(new OpenDialog(new FileList(b))).show())})};
OpenCloudDialog.prototype.reloadDialog=function(a){null==a&&(a=null);let b=this.getScroll(),c=this;HtmlServer.sendRequestWithCallback("data/files",function(d){OpenDialog.currentDialog===c&&(c.closeDialog(),d=new OpenCloudDialog(new FileList(d),a),d.show(),d.setScroll(b))})};
OpenCloudDialog.prototype.userSignOut=function(){DebugOptions.assert(null!=this.fileList.account);let a=Language.getStr("Disconnect_account_question");const b=this;DialogManager.showChoiceDialog(Language.getStr("Disconnect_account"),a,Language.getStr("Dont_disconnect"),Language.getStr("Disconnect"),!0,function(c){"2"===c&&b.signOut()})};OpenCloudDialog.prototype.signOut=function(){const a=this;HtmlServer.sendRequestWithCallback("cloud/signOut",function(){a.reloadDialog()})};
OpenCloudDialog.prototype.loadFiles=function(){const a=this;HtmlServer.sendRequestWithCallback("cloud/list",function(b){OpenDialog.currentDialog===a&&(b=JSON.parse(b),b=FileList.getSortedList(b.files),null!=b&&(a.closeDialog(),(new OpenCloudDialog(a.fileList,b)).show()))},function(b,c){OpenDialog.currentDialog===a&&(a.closeDialog(),(new OpenCloudDialog(a.fileList,null,c)).show())})};
OpenCloudDialog.filesChanged=function(a){null!=OpenDialog.currentDialog&&OpenDialog.currentDialog.constructor===OpenCloudDialog&&(null!=a&&(a=JSON.parse(a).files),OpenDialog.currentDialog.reloadDialog(a))};function FileList(a){a=JSON.parse(a);this.localFiles=FileList.getSortedList(a.files);this.signedIn=!0===a.signedIn;GuiElements.isAndroid||(this.signedIn=!1);this.account=a.account;null!=this.account&&this.signedIn||(this.account=null)}
FileList.prototype.getCloudTitle=function(){return null!=this.account?this.account:Language.getStr("Cloud")};FileList.getSortedList=function(a){null==a&&(a=[]);return a.sort(function(b,c){return b.localeCompare(c,"en",{sensitivity:"base",numeric:"true"})})};
function ConnectMultipleDialog(a){let b=ConnectMultipleDialog,c=Language.getStr("Connect_Multiple");this.deviceClass=a;let d=0;Device.getTypeList().forEach(function(e){d+=e.getManager().getDeviceCount()});RowDialog.call(this,!1,c,d,b.tabRowHeight,b.extraBottomSpace,b.tabRowHeight-1);this.addCenteredButton(Language.getStr("Done"),this.closeDialog.bind(this));this.addHintText(Language.getStr("Tap"))}ConnectMultipleDialog.prototype=Object.create(RowDialog.prototype);
ConnectMultipleDialog.prototype.constructor=ConnectMultipleDialog;ConnectMultipleDialog.setConstants=function(){let a=ConnectMultipleDialog;a.currentDialog=null;void 0===a.deviceLimit&&(a.deviceLimit=GuiElements.isKindle?2:3);a.extraBottomSpace=RowDialog.bnHeight+RowDialog.bnMargin;a.tabRowHeight=0;a.numberWidth=35;a.plusFont=Font.uiFont(26);a.numberFont=Font.uiFont(16);a.numberColor=Colors.white};
ConnectMultipleDialog.prototype.createMultipleDialogRow=function(a,b,c){let d=ConnectMultipleDialog,e=0,f=2*DeviceStatusLight.radius,g=f+d.numberWidth,h=b-(RowDialog.smallBnWidth+RowDialog.bnMargin)-g,k=g+RowDialog.bnMargin+h;Device.getTypeList().forEach(function(l){let m=l.getManager().getDeviceCount();for(let n=0;n<m;n++){let p=l.getManager().getDevice(n);d.currentDialog.createStatusLight(p,0,a,c);d.currentDialog.createNumberText(e,f,a,c);d.currentDialog.createMainBn(p,e,h,g,a,c);d.currentDialog.createRemoveBn(p,
e,k,a,c);a+=RowDialog.bnHeight+RowDialog.bnMargin;e+=1}})};ConnectMultipleDialog.prototype.createStatusLight=function(a,b,c,d){return new DeviceStatusLight(b,c+RowDialog.bnHeight/2,d,a)};ConnectMultipleDialog.prototype.createNumberText=function(a,b,c,d){let e=ConnectMultipleDialog;a=GuiElements.draw.text(0,0,a+1+"",e.numberFont,e.numberColor);let f=GuiElements.measure.textWidth(a);GuiElements.move.text(a,b+(e.numberWidth-f)/2,c+(RowDialog.bnHeight+e.numberFont.charHeight)/2);d.appendChild(a);return a};
ConnectMultipleDialog.prototype.createMainBn=function(a,b,c,d,e,f){return RowDialog.createMainBnWithText(a.listLabel,c,d,e,f,null)};ConnectMultipleDialog.prototype.createRemoveBn=function(a,b,c,d,e){b=RowDialog.createSmallBn(c,d,e);b.addText("X");b.setCallbackFunction(function(){DeviceManager.getDeviceClass(a).getManager().removeDevice(a.name)}.bind(this),!0);return b};
ConnectMultipleDialog.prototype.createInfoBn=function(a,b,c,d,e){function f(k){k===h.old?g.addColorIcon(VectorPaths.warning,RowDialog.iconH,DeviceStatusLight.yellowColor):k===h.incompatible?g.addColorIcon(VectorPaths.warning,RowDialog.iconH,DeviceStatusLight.redColor):g.addIcon(VectorPaths.info,RowDialog.iconH)}let g=RowDialog.createSmallBn(c,d,e,a.showFirmwareInfo.bind(a));const h=Device.firmwareStatuses;f(a.getFirmwareStatus());a.setFirmwareStatusListener(f);return g};
ConnectMultipleDialog.prototype.show=function(){RowDialog.prototype.show.call(this);let a=0;Device.getTypeList().forEach(function(b){a+=b.getManager().getDeviceCount()});a<ConnectMultipleDialog.deviceLimit&&this.createConnectBn();DeviceHummingbirdBit.getManager().startDiscover(function(){return this.visible}.bind(this))};
ConnectMultipleDialog.prototype.createConnectBn=function(){let a=ConnectMultipleDialog;var b=this.getContentWidth()-RowDialog.smallBnWidth-2*DeviceStatusLight.radius-a.numberWidth;let c=(this.width-b)/2,d=this.getExtraBottomY();b=new Button(c,d,b,RowDialog.bnHeight,this.group);b.addText("+",a.plusFont);let e=d+this.y,f=e+RowDialog.bnHeight,g=this.x+this.width/2,h=0;b.setCallbackFunction(function(){(new RobotConnectionList(g,e,f,null)).show()}.bind(this),!0);Device.getTypeList().forEach(function(k){h+=
k.getManager().getDeviceCount()});h>=DeviceManager.maxDevices&&b.disable();return b};ConnectMultipleDialog.prototype.reloadDialog=function(a){null==this.deviceClass&&(this.deviceClass=a);a!==this.deviceClass&&this.deviceClass.getManager().stopDiscover();let b=this.getScroll();this.hide();let c=new ConnectMultipleDialog(a);ConnectMultipleDialog.currentDialog=c;null===ConnectMultipleDialog.currentDialog.deviceClass&&(ConnectMultipleDialog.currentDialog.deviceClass=a);c.show();c.setScroll(b)};
ConnectMultipleDialog.prototype.closeDialog=function(){let a=ConnectMultipleDialog;RowDialog.prototype.closeDialog.call(this);a.currentDialog=null;DeviceHummingbirdBit.getManager().stopDiscover()};ConnectMultipleDialog.reloadDialog=function(a){let b=ConnectMultipleDialog.currentDialog;null!=b&&b.reloadDialog(a)};ConnectMultipleDialog.showDialog=function(){let a=ConnectMultipleDialog;null===a.currentDialog&&(a.currentDialog=new ConnectMultipleDialog(null));a.currentDialog.show()};
function RecordingDialog(a){this.recordings=a.map(function(b){return b.id});RowDialog.call(this,!0,Language.getStr("Recordings"),this.recordings.length,0,RecordingDialog.extraBottomSpace);this.addCenteredButton(Language.getStr("Done"),this.closeDialog.bind(this));this.addHintText(Language.getStr("Tap_record_to_start"));this.state=RecordingManager.state}RecordingDialog.prototype=Object.create(RowDialog.prototype);RecordingDialog.prototype.constructor=RecordingDialog;
RecordingDialog.setConstants=function(){let a=RecordingDialog;a.currentDialog=null;a.extraBottomSpace=RowDialog.bnHeight+RowDialog.bnMargin;a.coverRectOpacity=.8;a.coverRectColor=Colors.black;a.counterColor=Colors.white;a.counterFont=Font.uiFont(60);a.remainingFont=Font.uiFont(16);a.remainingMargin=10;a.counterBottomMargin=50;a.recordColor=Colors.red;a.recordFont=Font.uiFont(25);a.recordIconH=a.recordFont.charHeight;a.iconSidemargin=10;a.recordingLimit=3E5;a.remainingThreshold=3E5};
RecordingDialog.prototype.createRow=function(a,b,c,d){let e=RowDialog;c=c-2*e.smallBnWidth-2*e.bnMargin;a=this.recordings[a];this.createMainBn(a,c,0,b,d);c+=e.bnMargin;this.createRenameBn(a,c,b,d);this.createDeleteBn(a,c+e.smallBnWidth+e.bnMargin,b,d)};
RecordingDialog.prototype.createMainBn=function(a,b,c,d,e){let f=RowDialog.createMainBn(b,c,d,e);var g=!1;let h=this;f.setCallbackFunction(function(){g?Sound.stopAllSounds():Sound.playAndStopPrev(a,!0,function(){g=!0;f.addSideTextAndIcon(VectorPaths.square,RowDialog.iconH,a)},null,function(){h.visible&&(g=!1,f.addSideTextAndIcon(VectorPaths.play,RowDialog.iconH,a))})},!0);f.addSideTextAndIcon(VectorPaths.play,RowDialog.iconH,a)};
RecordingDialog.prototype.createDeleteBn=function(a,b,c,d){let e=this;RowDialog.createSmallBnWithIcon(VectorPaths.trash,b,c,d,function(){RecordingManager.userDeleteFile(a,function(){e.reloadDialog()})})};RecordingDialog.prototype.createRenameBn=function(a,b,c,d){let e=this;RowDialog.createSmallBnWithIcon(VectorPaths.edit,b,c,d,function(){RecordingManager.userRenameFile(a,function(){e.reloadDialog()})})};
RecordingDialog.prototype.show=function(){RowDialog.prototype.show.call(this);RecordingDialog.currentDialog=this;this.recordButton=this.createRecordButton();this.discardButton=this.createDiscardButton();this.saveButton=this.createSaveButton();this.pauseButton=this.createPauseButton();this.resumeRecordingBn=this.createResumeRecordingBn();this.goToState(this.state)};RecordingDialog.prototype.hide=function(){RowDialog.prototype.hide.call(this);this.setCounterVisibility(!1)};
RecordingDialog.prototype.closeDialog=function(){RowDialog.prototype.closeDialog.call(this);RecordingDialog.currentDialog=null;Sound.stopAllSounds()};
RecordingDialog.prototype.createRecordButton=function(){var a=RowDialog;let b=RecordingDialog,c=a.bnMargin,d=this.getExtraBottomY();a=new Button(c,d,this.getContentWidth(),a.bnHeight,this.group);a.addCenteredTextAndIcon(VectorPaths.circle,b.recordIconH,b.iconSidemargin,Language.getStr("Record"),b.recordFont,b.recordColor);a.setCallbackFunction(function(){RecordingManager.startRecording()},!0);return a};
RecordingDialog.prototype.createOneThirdBn=function(a,b){var c=RowDialog;let d=(this.getContentWidth()-2*c.bnMargin)/3;a=(c.bnMargin+d)*a+c.bnMargin;let e=this.getExtraBottomY();c=new Button(a,e,d,c.bnHeight,this.group);c.setCallbackFunction(b,!0);return c};
RecordingDialog.prototype.createDiscardButton=function(){let a=RowDialog,b=RecordingDialog,c=this.createOneThirdBn(0,function(){RecordingManager.discardRecording()}.bind(this));c.addCenteredTextAndIcon(VectorPaths.trash,a.iconH,b.iconSidemargin,Language.getStr("Discard"));return c};
RecordingDialog.prototype.createSaveButton=function(){let a=RowDialog,b=RecordingDialog,c=this.createOneThirdBn(1,function(){this.goToState(RecordingManager.recordingStates.stopped);RecordingManager.stopRecording()}.bind(this));c.addCenteredTextAndIcon(VectorPaths.square,a.iconH,b.iconSidemargin,Language.getStr("Stop"));return c};
RecordingDialog.prototype.createPauseButton=function(){let a=RowDialog,b=RecordingDialog,c=this.createOneThirdBn(2,function(){this.goToState(RecordingManager.recordingStates.paused);RecordingManager.pauseRecording()}.bind(this));c.addCenteredTextAndIcon(VectorPaths.pause,a.iconH,b.iconSidemargin,Language.getStr("Pause"));return c};
RecordingDialog.prototype.createResumeRecordingBn=function(){let a=RowDialog,b=RecordingDialog,c=this.createOneThirdBn(2,function(){this.goToState(RecordingManager.recordingStates.recording);RecordingManager.resumeRecording()}.bind(this));c.addCenteredTextAndIcon(VectorPaths.circle,a.iconH,b.iconSidemargin,Language.getStr("Record"));return c};
RecordingDialog.prototype.drawCoverRect=function(){var a=RowDialog.bnMargin/2,b=this.x+a;a=this.y+this.getExtraTopY()+a;let c=this.getExtraBottomY()-this.getExtraTopY()-RowDialog.bnMargin;b=GuiElements.draw.rect(b,a,this.width-RowDialog.bnMargin,c,RecordingDialog.coverRectColor);GuiElements.update.opacity(b,RecordingDialog.coverRectOpacity);GuiElements.layers.overlayOverlay.appendChild(b);return b};
RecordingDialog.prototype.drawTimeCounter=function(){let a=RecordingDialog;var b=GuiElements.draw.text(0,0,"0:00",a.counterFont,a.counterColor);GuiElements.layers.overlayOverlay.appendChild(b);var c=GuiElements.measure.textWidth(b),d=GuiElements.measure.textHeight(b);c=this.x+this.width/2-c/2;let e=this.getExtraBottomY()-RecordingDialog.counterBottomMargin;d=this.getExtraBottomY()-this.getExtraTopY()-d;d<2*RecordingDialog.counterBottomMargin&&(e=this.getExtraBottomY()-d/2);this.counterY=e+=this.y;
GuiElements.move.text(b,c,e);this.counter=b;b=e+a.remainingFont.charHeight+a.remainingMargin;d=GuiElements.measure.stringWidth("0:00 Remaining",a.remainingFont);d=this.x+(this.width-d)/2;this.remainingY=b;this.remaingingText=GuiElements.draw.text(d,b,"",a.remainingFont,a.counterColor);GuiElements.layers.overlayOverlay.appendChild(this.remaingingText)};RecordingDialog.showDialog=function(){RecordingManager.listRecordings(function(a){(new RecordingDialog(a)).show()})};
RecordingDialog.prototype.goToState=function(a){this.state=a;let b=RecordingManager.recordingStates;a===b.stopped?(this.recordButton.show(),this.discardButton.hide(),this.saveButton.hide(),this.pauseButton.hide(),this.resumeRecordingBn.hide(),this.setCounterVisibility(!1),this.getCenteredButton(0).enable()):a===b.recording?(this.recordButton.hide(),this.discardButton.show(),this.saveButton.show(),this.pauseButton.show(),this.resumeRecordingBn.hide(),this.setCounterVisibility(!0),this.getCenteredButton(0).disable()):
a===b.paused&&(this.recordButton.hide(),this.discardButton.show(),this.saveButton.show(),this.pauseButton.hide(),this.resumeRecordingBn.show(),this.setCounterVisibility(!0),this.getCenteredButton(0).disable())};RecordingDialog.startedRecording=function(){null!=RecordingDialog.currentDialog&&RecordingDialog.currentDialog.goToState(RecordingManager.recordingStates.recording)};
RecordingDialog.stoppedRecording=function(){null!=RecordingDialog.currentDialog&&(RecordingDialog.currentDialog.goToState(RecordingManager.recordingStates.stopped),RecordingDialog.currentDialog.reloadDialog())};RecordingDialog.pausedRecording=function(){null!=RecordingDialog.currentDialog&&RecordingDialog.currentDialog.goToState(RecordingManager.recordingStates.paused)};
RecordingDialog.prototype.reloadDialog=function(){let a=this.getScroll(),b=this;RecordingManager.listRecordings(function(c){b.closeDialog();c=new RecordingDialog(c);c.show();c.setScroll(a)})};
RecordingDialog.prototype.setCounterVisibility=function(a){a?(null==this.coverRect&&(this.coverRect=this.drawCoverRect()),null==this.counter&&this.drawTimeCounter()):(null!=this.coverRect&&(this.coverRect.remove(),this.coverRect=null),null!=this.counter&&(this.counter.remove(),this.counter=null,this.remaingingText.remove(),this.remaingingText=null))};
RecordingDialog.prototype.timeToString=function(a){if(null!=this.counter){var b=Math.floor(a/1E3),c=Math.floor(b/60);a=Math.floor(c/60);b=b%60+"";2>b.length&&(b="0"+b);c=c%60+"";var d=c+":"+b;0<a&&(2>c.length&&(c="0"+c),d=a+":"+c+":"+b);return d}};
RecordingDialog.prototype.updateCounter=function(a){var b=RecordingDialog;if(null!=this.counter){var c=this.timeToString(a);GuiElements.update.text(this.counter,c);c=GuiElements.measure.textWidth(this.counter);GuiElements.move.text(this.counter,this.x+this.width/2-c/2,this.counterY);a=Math.max(0,b.recordingLimit-a+999);a<b.remainingThreshold&&(b=this.timeToString(a)+" "+Language.getStr("remaining"),GuiElements.update.text(this.remaingingText,b),b=GuiElements.measure.textWidth(this.remaingingText),
GuiElements.move.text(this.remaingingText,this.x+this.width/2-b/2,this.remainingY))}};RecordingDialog.updateCounter=function(a){null!=this.currentDialog&&this.currentDialog.updateCounter(a)};RecordingDialog.recordingsChanged=function(){null!=RecordingDialog.currentDialog&&RecordingDialog.currentDialog.reloadDialog()};RecordingDialog.alertNotInProject=function(){DialogManager.showAlertDialog("No project open","Please open a project before recording",Language.getStr("OK"))};
function RobotConnectionList(a,b,c,d){null==d&&(d=null);this.x=a;this.upperY=b;this.lowerY=c;this.index=d;this.deviceClass=DeviceHummingbirdBit;this.updatePending=this.visible=!1;this.updateTimer=new Timer(1E3,this.checkPendingUpdate.bind(this))}RobotConnectionList.setConstants=function(){let a=RobotConnectionList;a.bnMargin=5;a.bgColor=Colors.lightGray;a.updateInterval=DiscoverDialog.updateInterval;a.height=150;a.width=350};RobotConnectionList.prototype.show=function(){this.showWithList(this.deviceClass.getManager().getDiscoverCache())};
RobotConnectionList.prototype.showWithList=function(a){let b=RobotConnectionList;this.visible=!0;this.group=GuiElements.create.group(0,0);this.menuBnList=null;this.bubbleOverlay=new BubbleOverlay(Overlay.types.connectionList,b.bgColor,b.bnMargin,this.group,this,GuiElements.layers.overlayOverlay);this.bubbleOverlay.display(this.x,this.x,this.upperY,this.lowerY,b.width,b.height);this.deviceClass.getManager().registerDiscoverCallback(this.updateRobotList.bind(this));this.updateRobotList(a)};
RobotConnectionList.prototype.checkPendingUpdate=function(){this.updatePending&&this.updateRobotList(this.deviceClass.getManager().getDiscoverCache())};
RobotConnectionList.prototype.updateRobotList=function(a){var b=RobotConnectionList,c=null!=this.menuBnList&&this.menuBnList.isScrolling();if(TouchReceiver.touchDown||!this.visible||c)this.updatePending=!0,this.updateTimer.start();else{this.updatePending=!1;this.updateTimer.stop();c=null!==this.index;a=this.deviceClass.getManager().fromJsonArrayString(a,c,this.index).sort(function(d,e){return parseFloat(e.RSSI)-parseFloat(d.RSSI)});c=null;null!=this.menuBnList&&(c=this.menuBnList.getScroll(),this.menuBnList.hide());
this.menuBnList=new SmoothMenuBnList(this,this.group,0,0,b.width,GuiElements.layers.overlayOverlayScroll);this.menuBnList.markAsOverlayPart(this.bubbleOverlay);this.menuBnList.setMaxHeight(b.height);for(b=0;b<a.length;b++)this.addBnListOption(a[b]);this.menuBnList.show();null!=c&&this.menuBnList.setScroll(c)}};
RobotConnectionList.prototype.addBnListOption=function(a){let b=this;this.menuBnList.addOption(a.listLabel,function(){b.close();null==b.index?(b.deviceClass=DeviceManager.getDeviceClass(a),b.deviceClass.getManager().appendDevice(a)):b.deviceClass.getManager().setOrSwapDevice(b.index,a)})};RobotConnectionList.prototype.close=function(){this.bubbleOverlay.hide();this.visible=!1;this.updateTimer.stop();null!=this.menuBnList&&this.menuBnList.hide()};
RobotConnectionList.prototype.relToAbsX=function(a){return this.visible?this.bubbleOverlay.relToAbsX(a):a};RobotConnectionList.prototype.relToAbsY=function(a){return this.visible?this.bubbleOverlay.relToAbsY(a):a};
function DiscoverDialog(a){this.deviceClass=a;if(FinchBlox)RowDialog.call(this,!1,null,0,0,0);else{let b=Language.getStr("Connect_Device");RowDialog.call(this,!1,b,0,0,0);this.addCenteredButton(Language.getStr("Cancel"),this.closeDialog.bind(this));this.addHintText(a.getConnectionInstructions())}this.discoveredDevices=[];this.updatePending=!1;this.updateTimer=new Timer(1E3,this.checkPendingUpdate.bind(this))}DiscoverDialog.prototype=Object.create(RowDialog.prototype);
DiscoverDialog.prototype.constructor=DiscoverDialog;DiscoverDialog.prototype.show=function(){RowDialog.prototype.show.call(this);this.discoverDevices()};DiscoverDialog.prototype.discoverDevices=function(){this.deviceClass.getManager().startDiscover(function(){return this.visible}.bind(this));this.deviceClass.getManager().registerDiscoverCallback(this.updateDeviceList.bind(this))};DiscoverDialog.prototype.checkPendingUpdate=function(){this.updatePending&&this.updateDeviceList(this.deviceClass.getManager().getDiscoverCache())};
var updateDeviceListCounter=0;DiscoverDialog.prototype.updateDeviceList=function(a){updateDeviceListCounter+=1;this.visible&&(TouchReceiver.touchDown||this.isScrolling()?(this.updatePending=!0,this.updateTimer.start()):(this.updatePending=!1,this.updateTimer.stop(),this.discoveredDevices=this.deviceClass.getManager().fromJsonArrayString(a),this.discoveredDevicesRSSISorted=this.discoveredDevices.sort(function(b,c){return parseFloat(c.RSSI)-parseFloat(b.RSSI)}),this.reloadRows(this.discoveredDevicesRSSISorted.length)))};
DiscoverDialog.prototype.createRow=function(a,b,c,d){var e=Button.bg;FinchBlox&&(e=0==a%2?Colors.white:Colors.fbGray);b=new Button(0,b,c,RowDialog.bnHeight,d,e);FinchBlox?b.addDeviceInfo(this.discoveredDevices[a]):b.addText(this.discoveredDevices[a].listLabel);const f=this;b.setCallbackFunction(function(){f.selectDevice(f.discoveredDevices[a])},!0);b.makeScrollable()};
DiscoverDialog.prototype.selectDevice=function(a){this.deviceClass=DeviceManager.getDeviceClass(a);this.deviceClass.getManager().setOneDevice(a);this.closeDialog()};DiscoverDialog.prototype.closeDialog=function(){RowDialog.prototype.closeDialog.call(this);this.updateTimer.stop();this.deviceClass.getManager().stopDiscover()};function FileContextMenu(a,b,c,d,e,f,g){this.file=b;this.dialog=a;this.x1=d;this.y1=f;this.x2=e;this.y2=g;this.type=c;this.showMenu()}
FileContextMenu.setGraphics=function(){const a=FileContextMenu;a.types={localSignedIn:1,localSignedOut:2,cloud:3};a.bnMargin=Button.defaultMargin;a.bgColor=Colors.lightGray;a.blockShift=20;a.width=115};
FileContextMenu.prototype.showMenu=function(){const a=FileContextMenu;this.group=GuiElements.create.group(0,0);var b=GuiElements.layers.overlayOverlayScroll;this.bubbleOverlay=new BubbleOverlay(Overlay.types.inputPad,a.bgColor,a.bnMargin,this.group,this,GuiElements.layers.overlayOverlay);this.menuBnList=new SmoothMenuBnList(this.bubbleOverlay,this.group,0,0,a.width,b);this.menuBnList.markAsOverlayPart(this.bubbleOverlay);this.addOptions();b=this.menuBnList.previewHeight();this.bubbleOverlay.display(this.x1,
this.x2,this.y1,this.y2,a.width,b);this.menuBnList.show()};
FileContextMenu.prototype.addOptions=function(){const a=FileContextMenu;this.type===a.types.localSignedIn&&this.menuBnList.addOption("",function(){SaveManager.userExportFile(this.file);this.close()}.bind(this),this.createAddIconToBnFn(VectorPaths.share,Language.getStr("Share")));this.type!==a.types.localSignedIn&&this.type!==a.types.localSignedOut||this.menuBnList.addOption("",function(){const b=this.dialog;SaveManager.userDuplicateFile(this.file,function(){b.reloadDialog()});this.close()}.bind(this),
this.createAddIconToBnFn(VectorPaths.copy,Language.getStr("Duplicate")));this.menuBnList.addOption("",function(){if(this.type===a.types.cloud){const b=new HttpRequestBuilder("cloud/delete");b.addParam("filename",this.file);HtmlServer.sendRequestWithCallback(b.toString())}else{const b=this.dialog;SaveManager.userDeleteFile(!1,this.file,function(){b.reloadDialog()})}this.close()}.bind(this),this.createAddIconToBnFn(VectorPaths.trash,Language.getStr("Delete")))};
FileContextMenu.prototype.createAddIconToBnFn=function(a,b){return function(c){c.addSideTextAndIcon(a,null,b,null,null,null,null,null,null,!0,!1)}};FileContextMenu.prototype.close=function(){this.bubbleOverlay.hide();this.menuBnList.hide()};
function CalibrateCompassDialog(){let a=Language.getStr("CompassCalibrate");this.bits=DeviceHummingbirdBit.getManager().getDeviceCount();this.microbits=DeviceMicroBit.getManager().getDeviceCount();this.finches=DeviceFinch.getManager().getDeviceCount();RowDialog.call(this,!1,a,this.bits+this.microbits+this.finches,0,0);this.addCenteredButton(Language.getStr("Done"),this.closeDialog.bind(this))}CalibrateCompassDialog.prototype=Object.create(RowDialog.prototype);
CalibrateCompassDialog.prototype.constructor=CalibrateCompassDialog;
CalibrateCompassDialog.prototype.createRow=function(a,b,c,d){var e=a<this.bits?DeviceHummingbirdBit.getManager().getDevice(a):a<this.bits+this.microbits?DeviceMicroBit.getManager().getDevice(a-this.bits):DeviceFinch.getManager().getDevice(a-this.bits-this.microbits);GuiElements.alert("Loading rows for the compass calibration dialog.");null!=e&&(GuiElements.alert("Found a robot. "+e.compassCalibrated),a=RowDialog.createMainBnWithText(e.listLabel,c,0,b,d,function(){CalibrateCompassDialog.showVideo(e);
e.calibrateCompass()}),e.compassCalibrated?(GuiElements.alert("Adding checkmark"),a.addSideTextAndIcon(VectorPaths.checkmark,null,e.listLabel,null,null,Colors.green,!1,!1)):0==e.compassCalibrated&&a.addSideTextAndIcon(VectorPaths.letterX,null,e.listLabel,null,null,Colors.red,!1,!1))};CalibrateCompassDialog.prototype.closeDialog=function(){RowDialog.prototype.closeDialog.call(this);GuiElements.removeVideos()};
CalibrateCompassDialog.showVideo=function(a){var b="Videos/MicroBit_Calibration.mp4";switch(a.getDeviceTypeId()){case "hummingbirdbit":b=a.hasV2Microbit?"Videos/HummBit_V2_Calibration.mp4":"Videos/HummBit_Calibration.mp4";break;case "finch":b=a.hasV2Microbit?"Videos/Finch_V2_Calibration.mp4":"Videos/Finch_Calibration.mp4";break;case "microbit":b=a.hasV2Microbit?"Videos/MicroBit_V2_Calibration.mp4":"Videos/MicroBit_Calibration.mp4"}GuiElements.draw.video(b,a.id)};
function LevelDialog(){this.visible=!1;this.buttons=[]}LevelDialog.setConstants=function(){const a=LevelDialog;a.color=Colors.seance;a.strokeW=1.5;a.bnR=10};
LevelDialog.prototype.show=function(){this.visible||(this.visible=!0,null!=RowDialog.currentDialog&&RowDialog.currentDialog!==this&&RowDialog.currentDialog.closeDialog(),RowDialog.currentDialog=this,this.width=.6*GuiElements.width,this.height=.35*this.width,this.font=Font.uiFont(this.height/2),this.x=GuiElements.width/2-this.width/2,this.y=GuiElements.height/2-this.height/2,this.group=GuiElements.create.group(this.x,this.y),this.bgRect=this.drawBackground(),this.rowGroup=this.createContent());GuiElements.layers.overlay.appendChild(this.group);
GuiElements.blockInteraction()};LevelDialog.prototype.drawBackground=function(){var a=RowDialog;a=GuiElements.draw.rect(0,0,this.width,this.height,a.bgColor,a.cornerR,a.cornerR);this.group.appendChild(a);return a};
LevelDialog.prototype.createContent=function(){const a=LevelDialog,b=LevelManager,c=GuiElements.create.group(0,0),d=.1*this.width;var e=.5*d;const f=(this.width-2*e-d*(b.totalLevels-1))/b.totalLevels,g=(this.height-f)/2;for(let h=1;h<=b.totalLevels;h++){const k=new Button(e,g,f,f,c,Colors.white,a.bnR,a.bnR);GuiElements.update.stroke(k.bgRect,a.color,a.strokeW);k.addText(h,this.font,a.color);switch(h){case 1:k.setCallbackFunction(function(){this.setLevel(1)}.bind(this),!1);break;case 2:k.setCallbackFunction(function(){this.setLevel(2)}.bind(this),
!1);break;case 3:k.setCallbackFunction(function(){this.setLevel(3)}.bind(this),!1)}k.setCallbackFunction(function(){this.close()}.bind(this),!0);this.buttons.push(k);e+=f+d}this.highlightSelected();this.group.appendChild(c);return c};LevelDialog.prototype.setLevel=function(a){LevelManager.setLevel(a);LevelManager.loadLevelSavePoint();this.highlightSelected()};
LevelDialog.prototype.highlightSelected=function(){const a=LevelManager;for(let b=0;b<a.totalLevels;b++){const c=this.buttons[b];a.currentLevel==b+1?(GuiElements.update.color(c.bgRect,LevelDialog.color),GuiElements.update.color(c.textE,Colors.white)):(GuiElements.update.color(c.bgRect,Colors.white),GuiElements.update.color(c.textE,LevelDialog.color))}};
LevelDialog.prototype.close=function(){this.visible&&(this.visible=!1,this.group.remove(),RowDialog.currentDialog===this&&(RowDialog.currentDialog=null))};LevelDialog.prototype.closeDialog=function(){this.close();GuiElements.unblockInteraction()};function OverflowArrows(){this.group=GuiElements.create.group(0,0);this.triTop=this.makeTriangle();this.triLeft=this.makeTriangle();this.triRight=this.makeTriangle();this.triBottom=this.makeTriangle();this.setArrowPos();this.visible=!1}
OverflowArrows.setConstants=function(){const a=OverflowArrows;a.triangleW=25;a.triangleH=15;a.margin=15;a.opacity=.5;FinchBlox?(a.color=Colors.fbGray,a.outlineColor=Colors.bbtDarkGray,a.outlineW=1):a.color=Colors.white};
OverflowArrows.prototype.makeTriangle=function(){const a=OverflowArrows,b=GuiElements.create.path();GuiElements.update.color(b,a.color);GuiElements.update.opacity(b,a.opacity);FinchBlox&&GuiElements.update.stroke(b,a.outlineColor,a.outlineW);GuiElements.update.makeClickThrough(b);return b};
OverflowArrows.prototype.setArrows=function(a,b,c,d){a===b?(this.showIfTrue(this.triLeft,!1),this.showIfTrue(this.triRight,!1)):(this.showIfTrue(this.triLeft,a<this.left),this.showIfTrue(this.triRight,b>this.right));c===d?(this.showIfTrue(this.triTop,!1),this.showIfTrue(this.triBottom,!1)):(this.showIfTrue(this.triTop,c<this.top),this.showIfTrue(this.triBottom,d>this.bottom))};OverflowArrows.prototype.showIfTrue=function(a,b){b?this.group.appendChild(a):a.remove()};
OverflowArrows.prototype.show=function(){this.visible||(this.visible=!0,GuiElements.layers.overflowArr.appendChild(this.group))};OverflowArrows.prototype.hide=function(){this.visible&&(this.visible=!1,this.group.remove())};OverflowArrows.prototype.updateZoom=function(){this.setArrowPos()};
OverflowArrows.prototype.setArrowPos=function(){const a=OverflowArrows;this.left=BlockPalette.width;if(!GuiElements.paletteLayersVisible||FinchBlox)this.left=0;this.top=TitleBar.height;this.right=GuiElements.width;this.bottom=GuiElements.height;FinchBlox&&(this.bottom=GuiElements.height-BlockPalette.height-CategoryBN.height);const b=(this.left+this.right)/2,c=(this.top+this.bottom)/2,d=this.bottom-a.margin,e=this.left+a.margin,f=this.right-a.margin;GuiElements.update.triangleFromPoint(this.triTop,
b,this.top+a.margin,a.triangleW,a.triangleH,!0);GuiElements.update.triangleFromPoint(this.triLeft,e,c,a.triangleW,a.triangleH,!1);GuiElements.update.triangleFromPoint(this.triRight,f,c,a.triangleW,-a.triangleH,!1);GuiElements.update.triangleFromPoint(this.triBottom,b,d,a.triangleW,-a.triangleH,!0)};
function BlockStack(a,b){b.addStack(this);this.firstBlock=a;this.firstBlock.stop();this.firstBlock.stopGlow();this.returnType=a.returnType;this.tab=b;this.y=this.x=0;this.x=this.absToRelX(a.getAbsX());this.y=this.absToRelY(a.getAbsY());this.tabGroup=b.mainG;this.group=GuiElements.create.group(this.x,this.y,this.tabGroup);this.firstBlock.changeStack(this);this.dim={};this.dim.cw=0;this.dim.ch=0;this.dim.rw=0;this.dim.rh=0;this.dim.cx1=0;this.dim.cy1=0;this.dim.rx1=0;this.dim.ry1=0;this.updateDim();
this.isRunning=!1;this.currentBlock=null;this.isDisplayStack=!1;this.runningBroadcastMessage="";this.move(this.x,this.y);this.flying=!1;this.tab.updateArrows();this.startRunIfAutoExec();Hatchling&&(null==BlockStack.count&&(BlockStack.count=0),this.mbId="bs"+BlockStack.count,BlockStack.count++)}BlockStack.prototype.startRunIfAutoExec=function(){this.firstBlock.autoExecute&&this.startRun()};
BlockStack.prototype.updateGlowForMicroBlocks=function(){let a=mbRuntime.lookupChunkID(this.firstBlock);mbRuntime.chunkRunning[a]?this.firstBlock.glow():this.firstBlock.stopGlow()};
BlockStack.prototype.updateDim=function(){this.firstBlock.updateDim();this.firstBlock.updateAlign(0,0);this.dim.cx1=0;this.dim.cy1=0;this.dim.cx2=0;this.dim.cy2=0;this.dim.rx1=0;this.dim.ry1=0;this.dim.rx2=0;this.dim.ry2=0;this.firstBlock.updateStackDim();this.dim.cw=this.dim.cx2-this.dim.cx1;this.dim.ch=this.dim.cy2-this.dim.cy1;this.dim.rw=this.dim.rx2-this.dim.rx1;this.dim.rh=this.dim.ry2-this.dim.ry1;this.arrangeComments()};
BlockStack.prototype.relToAbsX=function(a){return this.flying?CodeManager.dragRelToAbsX(a+this.x):this.tab.relToAbsX(a+this.x)};BlockStack.prototype.relToAbsY=function(a){return this.flying?CodeManager.dragRelToAbsY(a+this.y):this.tab.relToAbsY(a+this.y)};BlockStack.prototype.absToRelX=function(a){return this.flying?CodeManager.dragAbsToRelX(a)-this.x:this.tab.absToRelX(a)-this.x};
BlockStack.prototype.absToRelY=function(a){return this.flying?CodeManager.dragAbsToRelY(a)-this.y:this.tab.absToRelY(a)-this.y};BlockStack.prototype.getAbsX=function(){return this.relToAbsX(0)};BlockStack.prototype.getAbsY=function(){return this.relToAbsY(0)};BlockStack.prototype.findBlockByID=function(a){this.firstBlock.findBlockByID(a)};
BlockStack.prototype.findBestFit=function(a){let b=CodeManager.move;null!=a&&(b=a.move);if(b.comment){var c=BlockGraphics.command.snap,d=this.relToAbsX(this.dim.rx1),e=this.relToAbsY(this.dim.ry1-c.top),f=this.relToAbsX(this.dim.rw+c.left+c.right)-d;c=this.relToAbsY(this.dim.rh+c.bottom)-e;CodeManager.move.pInRange(b.topX,b.topY,d,e,f,c)&&this.firstBlock.findBestFit(a)}b.stack!==this&&(b.bottomOpen&&this.firstBlock.topOpen&&this.findBestFitTop(a),b.topOpen&&(d=this.relToAbsX(this.dim.cx1),e=this.relToAbsY(this.dim.cy1),
f=this.relToAbsX(this.dim.cw)-d,c=this.relToAbsY(this.dim.ch)-e,CodeManager.move.pInRange(b.topX,b.topY,d,e,f,c)&&this.firstBlock.findBestFit(a)),b.returnsValue&&(d=this.relToAbsX(this.dim.rx1),e=this.relToAbsY(this.dim.ry1),f=this.relToAbsX(this.dim.rw)-d,c=this.relToAbsY(this.dim.rh)-e,CodeManager.move.rInRange(b.topX,b.topY,b.bottomX-b.topX,b.bottomY-b.topY,d,e,f,c)&&this.firstBlock.findBestFit(a)))};
BlockStack.prototype.move=function(a,b){this.x=a;this.y=b;GuiElements.move.group(this.group,a,b)};BlockStack.prototype.stop=function(){this.isRunning&&(this.firstBlock.stop(),this.endRun())};
BlockStack.prototype.updateRun=function(){if(this.isRunning){if(this.returnType===Block.returnTypes.none){if(this.currentBlock.stack!==this)if(this.firstBlock.autoExecute)this.currentBlock=this.firstBlock;else return this.endRun(),new ExecutionStatusDone;var a=this.currentBlock.updateRun();if(!a.isRunning()){if(a.hasError())return this.endRun(),new ExecutionStatusDone;this.currentBlock=this.currentBlock.nextBlock}if(null!=this.currentBlock)return new ExecutionStatusRunning;if(this.firstBlock.autoExecute)return this.currentBlock=
this.firstBlock,new ExecutionStatusRunning;this.endRun();return new ExecutionStatusDone}a=this.currentBlock.updateRun();if(a.isRunning())return new ExecutionStatusRunning;a.hasError()||this.currentBlock.displayResult(a.getResult());this.endRun()}return new ExecutionStatusDone};
BlockStack.prototype.startRun=function(a,b,c){null==a&&(a=this.firstBlock);null==b&&(b="");this.runningBroadcastMessage=b;this.isRunning||(this.isRunning=!0,this.currentBlock=a,this.firstBlock.glow(),this.tab.startRun());Hatchling&&(mbRuntime.showInstructions(a),mbRuntime.showCompiledBytes(a),null!=DeviceHatchling.getManager().getDevice(0)?(mbRuntime.saveChunk(this.firstBlock),c||(mbRuntime.isRunning(this.firstBlock)?mbRuntime.stopRunningChunk(mbRuntime.lookupChunkID(this.firstBlock)):mbRuntime.evalOnBoard(this.firstBlock))):
console.log("Bytes not sent - device not connected."))};BlockStack.prototype.endRun=function(){this.isRunning=!1;this.firstBlock.stopGlow()};
BlockStack.prototype.findBestFitTop=function(a){var b=BlockGraphics.command.snap,c=CodeManager.move;let d=CodeManager.fit;null!=a&&(c=a.move,d=a.fit);a=this.firstBlock.getAbsX();const e=this.firstBlock.getAbsY();var f=this.relToAbsY(this.firstBlock.height)-e,g=this.relToAbsX(this.firstBlock.width)-a,h=c.topX;const k=c.bottomY,l=c.bottomX,m=c.topY,n=a-b.left,p=e-b.top,q=b.left+b.right;f=b.top+f+b.bottom;g=b.left+g+b.right;b=b.top+b.bottom;if(FinchBlox?CodeManager.move.pInRange(l,m,n,p,g,b):CodeManager.move.pInRange(h,
k,n,p,q,f))if(b=c.topX-a,h=c.bottomY-e,FinchBlox&&(b=c.bottomX-a,h=c.topY-e),c=b*b+h*h,!d.found||c<d.dist)d.found=!0,d.bestFit=this,d.dist=c};
BlockStack.prototype.snap=function(a){a.stack.stop();this.isRunning&&a.glow();FinchBlox?this.move(this.x-a.stack.getWidth(),this.y):this.move(this.x,this.y-a.stack.getHeight());var b=a.getLastBlock();const c=this.firstBlock;this.firstBlock=a;a.parent=null;b.nextBlock=c;c.parent=b;b=a.stack.group;a.stack.remove();a.changeStack(this);b.remove();this.updateDim();this.startRunIfAutoExec();Hatchling&&(HL_Utils.showPortsPopup(a),mbRuntime.saveChunk(this.firstBlock))};
BlockStack.prototype.highlight=function(){Highlighter.highlight(this.getAbsX(),this.getAbsY(),0,this.firstBlock.height,0,!1,this.isRunning)};BlockStack.prototype.shiftOver=function(a,b){this.move(this.x+a,this.y+b)};BlockStack.prototype.duplicate=function(a,b){a=this.firstBlock.duplicate(a,b);return new BlockStack(a,this.tab)};BlockStack.prototype.getTab=function(){return this.tab};
BlockStack.prototype.fly=function(){this.group.remove();GuiElements.layers.drag.appendChild(this.group);const a=this.getAbsX(),b=this.getAbsY();this.flying=!0;this.move(CodeManager.dragAbsToRelX(a),CodeManager.dragAbsToRelY(b));this.tab.updateArrows()};BlockStack.prototype.land=function(){this.group.remove();this.tabGroup.appendChild(this.group);const a=this.getAbsX(),b=this.getAbsY();this.flying=!1;this.move(this.tab.absToRelX(a),this.tab.absToRelY(b));this.tab.updateArrows();Hatchling&&HL_Utils.showPortsPopup(this.firstBlock)};
BlockStack.prototype.remove=function(){this.stop();this.group.remove();this.tab.removeStack(this);this.tab.updateArrows()};BlockStack.prototype.deleteComments=function(){let a=this.firstBlock;for(;null!=a;)null!=a.comment&&UndoManager.deleteComment(a.comment),a=a.nextBlock};
BlockStack.prototype.arrangeComments=function(){function a(d,e,f){if(null==d)return f;f=e(d,f);for(let g=0;g<d.slots.length;g++)f=a(d.slots[g].child,e,f);null!=d.blockSlot1&&(f=a(d.blockSlot1.child,e,f));null!=d.blockSlot2&&(f=a(d.blockSlot2.child,e,f));return f=a(d.nextBlock,e,f)}function b(d,e){let f=d.width+d.x;for(let g=0;g<c.length;g++){let h=c[g].y;h>d.y&&h<d.y+e&&(f=Math.max(f,c[g].x))}return f}let c=a(this.firstBlock,function(d,e){if(null!=d.parent&&d.parent.isSlot)return e;e.push({x:d.x+
d.width,y:d.y});return e},[]);c.sort(function(d,e){return d.y-e.y});a(this.firstBlock,function(d,e){if(null!=d.comment){let g=d.comment;var f=0;let h=d;for(;null!=h.parent&&h.parent.isSlot;)f+=h.parent.x,h=h.parent.parent;let k=b(h,g.height),l=h.absToRelX(h.stack.relToAbsX(k));g.x=l+2*Comment.margin-f;g.y=h.y-d.y;e.forEach(function(m){var n=m.parent;let p=d.stack.absToRelX(d.relToAbsX(g.x)),q=d.stack.absToRelY(d.relToAbsY(g.y)),r=g.width,u=g.height,t=n.stack.absToRelX(n.relToAbsX(m.x));n=n.stack.absToRelY(n.relToAbsY(m.y));
let v=m.width;CodeManager.move.rInRange(p,q,r,u,t,n,v,m.height)&&(l=d.absToRelX(d.stack.relToAbsX(t+v)),g.x=l+2*Comment.margin)});GuiElements.move.group(g.group,g.x,g.y);f=g.x-d.width;g.lineX=d.width;g.lineY=d.hasBlockSlot1?d.topHeight/2:d.height/2;GuiElements.update.rect(g.line,g.lineX,g.lineY,f,Comment.lineHeight);g.setPosition();e.push(g)}return e},[])};BlockStack.prototype.eventFlagClicked=function(){this.isRunning||this.firstBlock.eventFlagClicked()};BlockStack.prototype.eventBroadcast=function(a){this.firstBlock.eventBroadcast(a)};
BlockStack.prototype.checkBroadcastRunning=function(a){return this.isRunning?this.runningBroadcastMessage===a:!1};BlockStack.prototype.updateAvailableMessages=function(){this.firstBlock.updateAvailableMessages()};BlockStack.prototype.getLastBlock=function(){return this.firstBlock.getLastBlock()};
BlockStack.prototype.updateTabDim=function(){if(!this.flying){var a=this.tab.dim;if(null==a.x1||this.x<a.x1)a.x1=this.x;if(null==a.y1||this.y<a.y1)a.y1=this.y;var b=this.x+this.dim.rw;if(null==a.x2||b>a.x2)a.x2=b;b=this.y+this.dim.rh;if(null==a.y2||b>a.y2)a.y2=b}};
BlockStack.prototype.createXml=function(a,b){const c=XmlWriter.createElement(a,"stack");XmlWriter.setAttribute(c,"x",this.x);XmlWriter.setAttribute(c,"y",this.y);const d=XmlWriter.createElement(a,"blocks");if(b)if(null!=this.firstBlock.nextBlock)this.firstBlock.nextBlock.writeToXml(a,d);else return null;else this.firstBlock.writeToXml(a,d);c.appendChild(d);return c};
BlockStack.importXml=function(a,b){var c=XmlWriter.getAttribute(a,"x",0,!0),d=XmlWriter.getAttribute(a,"y",0,!0);a=XmlWriter.findSubElement(a,"blocks");a=XmlWriter.findSubElements(a,"block");let e=null,f=0;for(;null==e&&f<a.length;)e=Block.importXml(a[f]),f++;if(null==e)return null;b=new BlockStack(e,b);b.move(c,d);for(c=e;f<a.length;)d=Block.importXml(a[f]),null!=d&&(c.snap(d),c=d),f++;b.updateDim();return b};BlockStack.prototype.renameVariable=function(a){this.passRecursively("renameVariable",a)};
BlockStack.prototype.deleteVariable=function(a){this.passRecursively("deleteVariable",a)};BlockStack.prototype.renameList=function(a){this.passRecursively("renameList",a)};BlockStack.prototype.deleteList=function(a){this.passRecursively("deleteList",a)};BlockStack.prototype.checkVariableUsed=function(a){return this.firstBlock.checkVariableUsed(a)};BlockStack.prototype.checkListUsed=function(a){return this.firstBlock.checkListUsed(a)};BlockStack.prototype.hideDeviceDropDowns=function(a){this.updateDim()};
BlockStack.prototype.showDeviceDropDowns=function(a){this.updateDim()};BlockStack.prototype.countDevicesInUse=function(a){return this.firstBlock.countDevicesInUse(a)};
BlockStack.prototype.passRecursivelyDown=function(a){const b=a;let c=Array.prototype.slice.call(arguments,1);Array.prototype.unshift.call(arguments,"passRecursivelyDown");this.passRecursively.apply(this,arguments);"showDeviceDropDowns"===b&&null!=this.showDeviceDropDowns&&this.showDeviceDropDowns.apply(this,c);"hideDeviceDropDowns"===b&&null!=this.hideDeviceDropDowns&&this.hideDeviceDropDowns.apply(this,c)};
BlockStack.prototype.passRecursively=function(a){let b=Array.prototype.slice.call(arguments,1);this.firstBlock[a].apply(this.firstBlock,b)};BlockStack.prototype.getWidth=function(){return this.dim.rw};BlockStack.prototype.getHeight=function(){return this.dim.rh};function HttpRequestBuilder(a){DebugOptions.validateNonNull(a);this.request=a;this.hasFirstParam=!1}
HttpRequestBuilder.prototype.addParam=function(a,b){this.hasFirstParam?this.request+="&":(this.hasFirstParam=!0,this.request+="?");this.request+=a;this.request+="=";this.request+=b};HttpRequestBuilder.prototype.toString=function(){return this.request};function Setting(a,b,c,d,e,f){null==c&&(c=!1);null==d&&(d=!1);null==e&&(f=null);null==f&&(f=null);this.key=a;this.number=c;this.integer=d;this.min=e;this.max=f;this.value=b}Setting.prototype.getValue=function(){return this.value};
Setting.prototype.writeValue=function(a){this.value=a;this.number&&(this.value=(new NumData(a)).getValueInR(this.min,this.max));a=new HttpRequestBuilder("settings/set");a.addParam("key",this.key);a.addParam("value",HtmlServer.encodeHtml(this.value+""));HtmlServer.sendRequestWithCallback(a.toString())};
Setting.prototype.readValue=function(a){const b=new HttpRequestBuilder("settings/get");b.addParam("key",this.key);HtmlServer.sendRequestWithCallback(b.toString(),function(c){this.number?(c=(new StringData(c)).asNum(),c.isValid&&(this.value=c.getValueInR(this.min,this.max,!1,this.integer))):this.value=c;a(this.value)}.bind(this),function(){null!=a&&a(this.value)}.bind(this))};
function SettingsManager(){const a=SettingsManager;a.zoom=new Setting("zoom",1,!0,!1,GuiElements.minZoomMult,GuiElements.maxZoomMult);a.enableSnapNoise=new Setting("enableSnapNoise","true");a.sideBarVisible=new Setting("sideBarVisible","true")}SettingsManager.loadSettings=function(a){const b=SettingsManager;b.sideBarVisible.readValue(function(){b.enableSnapNoise.readValue(function(){b.zoom.readValue(a)})})};
function HtmlServer(){HtmlServer.port=22179;HtmlServer.requestTimeout=5E3;HtmlServer.nativeRequests={};HtmlServer.iosHandler=HtmlServer.getIosHandler();HtmlServer.unansweredCount=0;HtmlServer.unansweredCap=10}
HtmlServer.getIosHandler=function(){if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.serverSubstitute&&window.webkit.messageHandlers.serverSubstitute.postMessage)return GuiElements.alert("Using native"),window.webkit.messageHandlers.serverSubstitute.postMessage;GuiElements.alert("Using http");return null};HtmlServer.createFakeIosHandler=function(){return"test"};HtmlServer.decodeHtml=function(a){return decodeURIComponent(a.replace(/\+/g," "))};
HtmlServer.encodeHtml=function(a){encodeURIComponent?(a=encodeURIComponent(a),a=a.replace(/~/g,"%7E"),a=a.replace(/!/g,"%21"),a=a.replace(/\(/g,"%28"),a=a.replace(/\)/g,"%29"),a=a.replace(/'/g,"%27")):(a=escape(a),a=a.replace(/@/g,"%40"),a=a.replace(/\//g,"%2F"),a=a.replace(/\+/g,"%2B"),a=a.replace(/'/g,"%60"));a=a.replace(/"/g,"%22");a=a.replace(/`/g,"%27");return a=a.replace(/&/g,"%26")};
HtmlServer.sendRequestWithCallback=function(a,b,c,d,e,f,g){b=DebugOptions.safeFunc(b);c=DebugOptions.safeFunc(c);DebugOptions.shouldLogHttp()&&GuiElements.alert(HtmlServer.getUrlForRequest(a));if(DebugOptions.shouldSkipHtmlRequests())setTimeout(function(){HtmlServer.unansweredCount--;null!=b&&b('{"files":["project1_1","project2_1","project1_2","project2_2","bananna_1","elephant_3", "FinchBloxSavePoint_Level1"],"signedIn":true,"account":"101010tw42@gmail.com"}')},20),HtmlServer.unansweredCount++;else if(null==
d&&(d=!1),null!=HtmlServer.iosHandler||window.AndroidInterface||GuiElements.isPWA)HtmlServer.sendNativeCall(a,b,c,d,e,f,g);else{f="GET";d&&(f="POST");try{const h=new XMLHttpRequest;h.onreadystatechange=function(){4===h.readyState&&(HtmlServer.unansweredCount--,200<=h.status&&299>=h.status?null!=b&&b(h.responseText):null!=c&&(DebugOptions.shouldLogHttp()&&GuiElements.alert("HTTP ERROR: "+h.status+", RESP: "+h.responseText),c(h.status,h.responseText)))};h.open(f,HtmlServer.getUrlForRequest(a),!0);d?
(h.setRequestHeader("Content-type","text/plain; charset=utf-8"),h.send(e)):h.send();HtmlServer.unansweredCount++}catch(h){null!=c&&c(0,"Sending request failed")}}};HtmlServer.sendRequest=function(a,b,c,d){null!=b?(b.error=!1,HtmlServer.sendRequestWithCallback(a,function(e){b.finished=!0;b.result=e},function(e,f){b.finished=!0;b.error=!0;b.code=e;b.result=f},!1,null,c,d)):HtmlServer.sendRequestWithCallback(a,null,null,!1,null,c,d)};
HtmlServer.getUrlForRequest=function(a){return"http://localhost:"+HtmlServer.port+"/"+a};
HtmlServer.sendFinishedLoadingRequest=function(){HtmlServer.sendRequestWithCallback("ui/contentLoaded");let a=new HttpRequestBuilder("ui/translatedStrings");a.addParam("Name_error_already_exists",Language.getStr("Name_error_already_exists"));a.addParam("Cancel",Language.getStr("Cancel"));a.addParam("Rename",Language.getStr("Rename"));a.addParam("OK",Language.getStr("OK"));a.addParam("Enter_new_name",Language.getStr("Enter_new_name"));a.addParam("Delete",Language.getStr("Delete"));a.addParam("Delete_question",
Language.getStr("Delete_question"));a.addParam("Loading",Language.getStr("Loading"));HtmlServer.sendRequestWithCallback(a.toString())};HtmlServer.sendTabletSoundRequest=function(a,b){b=Math.round(b);var c=function(){};HtmlServer.sendRequest("sound/note?note="+a+"&duration="+b,c);return c};
HtmlServer.sendNativeCall=function(a,b,c,d,e,f,g){GuiElements.alert("Sending: "+a+" using native");null==f&&(f=!1);null==g&&(g=!1);let h=null;for(;null==h||null!=HtmlServer.nativeRequests[h];)h="requestId"+Math.random();const k={};k.request=a;k.body=d?e:"";k.id=h;k.inBackground=f?"true":"false";HtmlServer.nativeRequests[h]={callbackFn:b,callbackErr:c};GuiElements.alert("Making request: "+a+" using native");HtmlServer.unansweredCount++;null!=HtmlServer.iosHandler?(window.webkit.messageHandlers.serverSubstitute.postMessage(k),
GuiElements.alert("Made request: "+a+" using iOS native, inBackground="+k.inBackground)):window.AndroidInterface?(b=JSON.stringify(k),AndroidInterface.sendAndroidRequest(b),GuiElements.alert("Made request: "+a+" using Android native, inBackground="+k.inBackground)):GuiElements.isPWA?window.parent.parseFinchBloxRequest(k):GuiElements.alert("ERROR: Failure to send native call: '"+a+"'. No native handler found.");g||window.setTimeout(function(){HtmlServer.responseFromNativeCall(h,"0","")},HtmlServer.requestTimeout)};
HtmlServer.responseFromNativeCall=function(a,b,c){const d=HtmlServer.nativeRequests[a];HtmlServer.nativeRequests[a]=void 0;null!=d&&(HtmlServer.unansweredCount--,200<=b&&299>=b?null!=d.callbackFn&&d.callbackFn(c):null!=d.callbackErr&&(DebugOptions.shouldLogHttp()&&GuiElements.alert("HTTP ERROR: "+b+", RESP: "+c),d.callbackErr(Number(b),c)))};
function DialogManager(){let a=DialogManager;a.repeatDialogDelay=500;a.lastDialogDisplayTime=null;a.dialogVisible=!1;a.choiceCallback=null;a.promptCallback=null}DialogManager.checkDialogDelay=function(){let a=DialogManager,b=(new Date).getTime();return a.dialogVisible?!1:null==a.lastDialogDisplayTime||b-a.repeatDialogDelay>=a.lastDialogDisplayTime};DialogManager.updateDialogDelay=function(){DialogManager.lastDialogDisplayTime=(new Date).getTime()};
DialogManager.showChoiceDialog=function(a,b,c,d,e,f,g){const h=DialogManager;if(h.dialogVisible)null!=g&&g();else if(TouchReceiver.touchInterrupt(),h.dialogVisible=!0,DebugOptions.shouldUseJSDialogs())a=confirm(b),h.dialogVisible=!1,e&&(a=!a),a?f("1"):f("2");else{e=HtmlServer;const k=new HttpRequestBuilder("tablet/choice");k.addParam("title",a);k.addParam("question",b);k.addParam("button1",c);null!=d&&k.addParam("button2",d);e.sendRequestWithCallback(k.toString(),function(){h.choiceCallback=f},function(){h.dialogVisible=
!1;null!=g&&g()})}};DialogManager.choiceDialogResponded=function(a,b){const c=DialogManager;c.dialogVisible=!1;null!=c.choiceCallback&&c.choiceCallback(a?"cancelled":b?"1":"2");c.choiceCallback=null};
DialogManager.showPromptDialog=function(a,b,c,d,e,f){const g=DialogManager;if(g.dialogVisible)null!=f&&f();else if(TouchReceiver.touchInterrupt(),g.dialogVisible=!0,DebugOptions.shouldUseJSDialogs())a=prompt(b),g.dialogVisible=!1,e(null==a,a);else{f=HtmlServer;const h=new HttpRequestBuilder("tablet/dialog");h.addParam("title",a);h.addParam("question",b);d?h.addParam("prefill",c):h.addParam("placeholder",c);h.addParam("selectAll","true");h.addParam("okText",Language.getStr("OK"));h.addParam("cancelText",
Language.getStr("Cancel"));a=function(k){g.promptCallback=e};f.sendRequestWithCallback(h.toString(),a,a)}};DialogManager.promptDialogResponded=function(a,b){const c=DialogManager;c.dialogVisible=!1;c.updateDialogDelay();null!=c.promptCallback&&c.promptCallback(a,b);c.promptCallback=null};DialogManager.showAlertDialog=function(a,b,c,d,e){DebugOptions.shouldUseJSDialogs()?(alert(b),null!=d&&d()):DialogManager.showChoiceDialog(a,b,c,null,!0,d,e)};function CallbackManager(){}CallbackManager.sounds={};
CallbackManager.sounds.recordingEnded=function(){RecordingManager.interruptRecording();return!0};CallbackManager.sounds.permissionGranted=function(){RecordingManager.permissionGranted();return!0};CallbackManager.sounds.recordingsChanged=function(){Sound.loadSounds(!0);RecordingDialog.recordingsChanged();return!0};CallbackManager.data={};CallbackManager.data.open=function(a,b){a=HtmlServer.decodeHtml(a);b=HtmlServer.decodeHtml(b);SaveManager.backendOpen(a,b);return!0};
CallbackManager.data.setName=function(a){a=HtmlServer.decodeHtml(a);SaveManager.backendSetName(a);return!0};CallbackManager.data.close=function(){SaveManager.backendClose();return!0};CallbackManager.data.markLoading=function(){SaveManager.backendMarkLoading();return!0};CallbackManager.data.filesChanged=function(){FinchBlox&&LevelManager.checkSavedFiles();OpenDialog.filesChanged();return!0};CallbackManager.cloud={};
CallbackManager.cloud.filesChanged=function(a){a=HtmlServer.decodeHtml(a);OpenCloudDialog.filesChanged(a);return!0};CallbackManager.cloud.downloadComplete=function(a){HtmlServer.decodeHtml(a);OpenDialog.filesChanged();return!0};CallbackManager.cloud.signIn=function(){OpenDialog.filesChanged();OpenCloudDialog.filesChanged();return!0};CallbackManager.dialog={};CallbackManager.dialog.promptResponded=function(a,b){null!=b&&(b=HtmlServer.decodeHtml(b));DialogManager.promptDialogResponded(a,b);return!0};
CallbackManager.dialog.choiceResponded=function(a,b){DialogManager.choiceDialogResponded(a,b);return!0};CallbackManager.robot={};CallbackManager.robot.updateStatus=function(a,b){a=HtmlServer.decodeHtml(a);DeviceManager.updateConnectionStatus(a,b);return!0};CallbackManager.robot.updateBatteryStatus=function(a,b){a=HtmlServer.decodeHtml(a);DeviceManager.updateRobotBatteryStatus(a,b);return!0};
CallbackManager.robot.compassCalibrationResult=function(a,b){DeviceManager.updateCompassCalibrationStatus(a,b);b=RowDialog.currentDialog;null!=b&&b.constructor===CalibrateCompassDialog&&b.reloadRows(b.rowCount);a=document.getElementById("video"+a);return null!=a?(GuiElements.removeVideo(a),!0):!1};CallbackManager.robot.disconnectIncompatible=function(a,b,c){a=HtmlServer.decodeHtml(a);HtmlServer.decodeHtml(b);HtmlServer.decodeHtml(c);CallBackManager.robot.connectionFailure(a)};
CallbackManager.robot.connectionFailure=function(a){a=HtmlServer.decodeHtml(a);DeviceManager.removeDisconnected(a);a=Language.getStr("Connection_failed_try_again");DialogManager.showChoiceDialog(Language.getStr("Connection_Failure"),a,"",Language.getStr("Dismiss"),!0,function(b){}.bind(this))};
CallbackManager.robot.updateFirmwareStatus=function(a,b){a=HtmlServer.decodeHtml(a);b=HtmlServer.decodeHtml(b);const c=Device.firmwareStatuses;if("upToDate"===b)b=c.upToDate;else if("old"===b)b=c.old;else if("incompatible"===b)b=c.incompatible;else return!1;DeviceManager.updateFirmwareStatus(a,b);return!0};CallbackManager.robot.updateHasV2Microbit=function(a,b){a=HtmlServer.decodeHtml(a);b="true"==HtmlServer.decodeHtml(b);DeviceManager.setHasV2Microbit(a,b);CodeManager.updateAvailableSensors()};
CallbackManager.robot.discovered=function(a){a=HtmlServer.decodeHtml(a);DeviceManager.backendDiscovered(a);return!0};CallbackManager.robot.discoverTimeOut=function(){DeviceManager.possiblyRescan();return!0};CallbackManager.robot.stopDiscover=function(){DeviceManager.possiblyRescan();return!0};CallbackManager.robot.setHLState=function(a){let b=DeviceHatchling.getManager().getDevice(0);null!=b&&("string"==typeof a&&(a=a.split(",").map(Number)),b.setHatchlingState(a))};CallbackManager.tablet={};
CallbackManager.tablet.availableSensors=function(a){TabletSensors.updateAvailable(a);return!0};CallbackManager.tablet.addSensor=function(a){return TabletSensors.addSensor(a)};CallbackManager.tablet.removeSensor=function(a){return TabletSensors.removeSensor(a)};CallbackManager.tablet.getLanguage=function(a){const b=sessionStorage.getItem("language");void 0!=b&&null!=b||Language.setLanguage(a)};CallbackManager.tablet.setFile=function(a){OpenDialog.setDefaultFile(HtmlServer.decodeHtml(a))};
CallbackManager.tablet.runFile=function(a){SaveManager.userOpenFile(HtmlServer.decodeHtml(a))};CallbackManager.echo=function(a){a=HtmlServer.decodeHtml(a);HtmlServer.sendRequestWithCallback(a)};CallbackManager.httpResponse=function(a,b,c){null!=c&&(c=HtmlServer.decodeHtml(c));HtmlServer.responseFromNativeCall(a,b,c)};CallbackManager.setFilePreference=function(a){GuiElements.alert("Setting default file to "+a);OpenDialog.lastOpenFile=a};function XmlWriter(){}
XmlWriter.newDoc=function(a){a=XmlWriter.escape(a);a="<"+a+"></"+a+">";return(new DOMParser).parseFromString(a,"text/xml")};XmlWriter.createElement=function(a,b){b=XmlWriter.escape(b);return a.createElement(b)};XmlWriter.setAttribute=function(a,b,c){b=XmlWriter.escape(b);c=XmlWriter.escape(c);a.setAttribute(b,c)};XmlWriter.createTextNode=function(a,b){b=XmlWriter.escape(b);return a.createTextNode(b)};
XmlWriter.escape=function(a){a=(a+"").replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");a=a.replace(/"/g,"&quot;");a=a.replace(/'/g,"&apos;");return a=a.replace(/ /g,"&#32;")};XmlWriter.unEscape=function(a){a=(a+"").replace(/&#32;/g," ");a=a.replace(/&apos;/g,"'");a=a.replace(/&quot;/g,'"');a=a.replace(/&gt;/g,">");a=a.replace(/&lt;/g,"<");return a=a.replace(/&amp;/g,"&")};XmlWriter.downloadDoc=function(a){window.open("data:text/xml,"+HtmlServer.encodeHtml(XmlWriter.docToText(a)))};
XmlWriter.openDoc=function(a){return(new DOMParser).parseFromString(a,"text/xml")};XmlWriter.findElement=function(a,b){b=XmlWriter.escape(b);a=a.getElementsByTagName(b);return 0===a.length?null:a[0]};XmlWriter.findSubElements=function(a,b){if(null==a)return[];a=a.childNodes;const c=[];for(let d=0;d<a.length;d++)1===a[d].nodeType&&a[d].nodeName===b&&c.push(a[d]);return c};
XmlWriter.findSubElement=function(a,b){if(null==a)return null;a=a.childNodes;for(let c=0;c<a.length;c++)if(1===a[c].nodeType&&a[c].nodeName===b)return a[c];return null};XmlWriter.getAttribute=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=null);a=a.getAttribute(XmlWriter.escape(b));if(null==a)return c;a=XmlWriter.unEscape(a);return d?(d=(new StringData(a)).asNum(),d.isValid?d.getValue():c):a};
XmlWriter.getTextNode=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=null);a=XmlWriter.findSubElement(a,b);if(null==a)return c;a=a.childNodes;if(1<=a.length&&3===a[0].nodeType){a=a[0].nodeValue;if(null==a)return c;a=XmlWriter.unEscape(a);return d?(d=(new StringData(a)).asNum(),d.isValid?d.getValue():c):a}return 0===a.length?"":c};XmlWriter.docToText=function(a){return(new XMLSerializer).serializeToString(a)};
XmlWriter.findNodeByKey=function(a,b){for(let c=0;c<a.length;c++)if(XmlWriter.getAttribute(a[c],"key","")===b)return a[c];return null};function SaveManager(){SaveManager.fileName=null;SaveManager.autoSaveTimer=new Timer(SaveManager.autoSaveInterval,SaveManager.autoSave);SaveManager.autoSaveTimer.start()}
SaveManager.setConstants=function(){SaveManager.invalidCharactersFriendly="\\/:*?<>|.$";SaveManager.autoSaveInterval=6E4;SaveManager.newProgName=Language.getStr("New_program");SaveManager.emptyProgData="<project><tabs></tabs></project>"};
SaveManager.backendOpen=function(a,b){SaveManager.fileName=a;SaveManager.loadData(b);FinchBlox&&(a=parseInt(a.slice(a.length-1)),a!=LevelManager.currentLevel&&0<a&&a<=LevelManager.totalLevels&&LevelManager.setLevel(a),TitleBar.fileBn.update());OpenDialog.closeDialog();GuiElements.unblockInteraction()};
SaveManager.loadData=function(a){0<a.length?("%"===a.charAt(0)&&(a=decodeURIComponent(a)),a=XmlWriter.openDoc(a),a=XmlWriter.findElement(a,"project"),null==a?SaveManager.loadData(SaveManager.emptyProgData):DebugOptions.safeFunc(CodeManager.importXml)(a)):SaveManager.loadData(SaveManager.emptyProgData)};SaveManager.backendSetName=function(a){SaveManager.fileName=a;TitleBar.setText(a);CodeManager.markOpen()};
SaveManager.backendClose=function(){FinchBlox?LevelManager.loadLevelSavePoint():(SaveManager.loadBlank(),OpenDialog.showDialog())};SaveManager.backendMarkLoading=function(){OpenDialog.closeDialog();CodeManager.markLoading(Language.getStr("Loading"))};SaveManager.loadBlank=function(){SaveManager.fileName=null;SaveManager.loadData(SaveManager.emptyProgData)};
SaveManager.userClose=function(a){SaveManager.loadBlank();const b=new HttpRequestBuilder("data/close");HtmlServer.sendRequestWithCallback(b.toString(),a)};SaveManager.userNew=function(a){SaveManager.promptNewFile(Language.getStr("Enter_file_name"),a)};SaveManager.promptNewFile=function(a,b){SaveManager.getAvailableName(SaveManager.newProgName,function(c,d,e){SaveManager.promptNewFileWithDefault(a,c,b)})};
SaveManager.promptNewFileWithDefault=function(a,b,c){DialogManager.showPromptDialog(Language.getStr("New"),a,b,!0,function(d,e){d||SaveManager.sanitizeNew(e.trim(),c)})};
SaveManager.sanitizeNew=function(a,b){if(""===a){const c=Language.getStr("Name_error_blank");SaveManager.promptNewFile(c,b)}else GuiElements.alert("getting name"),SaveManager.getAvailableName(a,function(c,d,e){GuiElements.alert("Got available name"+c+","+d+","+e);d&&e?SaveManager.newSoft(c,b):d?e||(d='"'+a+Language.getStr("Name_error_already_exists"),SaveManager.promptNewFileWithDefault(d,c,b)):(GuiElements.alert("not sanitized"+c+","+d+","+e),d=Language.getStr("Name_error_invalid_characters"),d+=
SaveManager.invalidCharactersFriendly.split("").join(" "),SaveManager.promptNewFileWithDefault(d,c,b))})};SaveManager.newSoft=function(a,b){const c=new HttpRequestBuilder("data/new");c.addParam("filename",a);SaveManager.loadBlank();CodeManager.markLoading(Language.getStr("Saving"));HtmlServer.sendRequestWithCallback(c.toString(),b,null,!0,SaveManager.emptyProgData)};
SaveManager.autoSave=function(a){if(null==SaveManager.fileName)null!=a&&a();else{FinchBlox&&TitleBar.fileBn.update();var b=XmlWriter.docToText(CodeManager.createXml()),c=new HttpRequestBuilder("data/autoSave");HtmlServer.sendRequestWithCallback(c.toString(),a,null,!0,b)}};
SaveManager.userOpenFile=function(a){SaveManager.fileName=a;const b=new HttpRequestBuilder("data/open");b.addParam("filename",a);CodeManager.markLoading(Language.getStr("Loading"));HtmlServer.sendRequestWithCallback(b.toString(),function(){FinchBlox&&DebugOptions.enabled&&GuiElements.unblockInteraction()},function(){CodeManager.cancelLoading()})};SaveManager.userRenameFile=function(a,b,c){SaveManager.promptRename(a,b,Language.getStr("Name"),null,c)};
SaveManager.promptRename=function(a,b,c,d,e){SaveManager.promptRenameWithDefault(a,b,c,d,b,e)};SaveManager.promptRenameWithDefault=function(a,b,c,d,e,f){null==d&&(d=Language.getStr("Enter_file_name"));DialogManager.showPromptDialog(c,d,e,!0,function(g,h){g||SaveManager.sanitizeRename(a,b,c,h.trim(),f)})};
SaveManager.sanitizeRename=function(a,b,c,d,e){if(""===d){var f=Language.getStr("Name_error_blank");SaveManager.promptRename(a,b,c,f,e)}else d===b?a||SaveManager.fileName!==b?null!=e&&e():(f=new HttpRequestBuilder("data/markAsNamed"),HtmlServer.sendRequestWithCallback(f.toString(),e)):SaveManager.getAvailableName(d,function(g,h,k){h&&k?SaveManager.renameSoft(a,b,c,g,e):h?k||(h='"'+d+Language.getStr("Name_error_already_exists"),SaveManager.promptRenameWithDefault(a,b,c,h,g,e)):(h=Language.getStr("Name_error_invalid_characters"),
h+=SaveManager.invalidCharactersFriendly.split("").join(" "),SaveManager.promptRenameWithDefault(a,b,c,h,g,e))},a)};SaveManager.renameSoft=function(a,b,c,d,e){c=new HttpRequestBuilder("data/rename");c.addParam("oldFilename",b);c.addParam("newFilename",d);SaveManager.addTypeToRequest(c,a);let f=e;a?f=function(){CodeManager.renameRecording(b,d);null!=e&&e()}:OpenDialog.lastOpenFile==b&&(OpenDialog.lastOpenFile=d);HtmlServer.sendRequestWithCallback(c.toString(),f)};
SaveManager.userDeleteFile=function(a,b,c){const d=Language.getStr("Delete")+" '"+b+"'",e=Language.getStr("Delete_question");DialogManager.showChoiceDialog(d,e,Language.getStr("Cancel"),Language.getStr("Delete"),!0,function(f){"2"===f&&(OpenDialog.lastOpenFile==b&&(OpenDialog.lastOpenFile=null),SaveManager.delete(a,b,c))},null)};
SaveManager.delete=function(a,b,c){const d=new HttpRequestBuilder("data/delete");d.addParam("filename",b);SaveManager.addTypeToRequest(d,a);let e=c;a&&(e=function(){CodeManager.deleteRecording(b);null!=c&&c()});HtmlServer.sendRequestWithCallback(d.toString(),e)};
SaveManager.getAvailableName=function(a,b,c){null==c&&(c=!1);DebugOptions.validateNonNull(b);const d=new HttpRequestBuilder("data/getAvailableName");d.addParam("filename",a);SaveManager.addTypeToRequest(d,c);HtmlServer.sendRequestWithCallback(d.toString(),function(e){let f={};try{f=JSON.parse(e)}catch(g){}null!=f.availableName&&b(f.availableName,!0===f.alreadySanitized,!0===f.alreadyAvailable)})};
SaveManager.userDuplicateFile=function(a,b){SaveManager.promptDuplicate(Language.getStr("Name_duplicate_file"),a,b)};SaveManager.promptDuplicate=function(a,b,c){SaveManager.getAvailableName(b,function(d){SaveManager.promptDuplicateWithDefault(a,b,d,c)})};SaveManager.promptDuplicateWithDefault=function(a,b,c,d){DialogManager.showPromptDialog(Language.getStr("Duplicate"),a,c,!0,function(e,f){e||SaveManager.sanitizeDuplicate(f.trim(),b,d)})};
SaveManager.sanitizeDuplicate=function(a,b,c){""===a?SaveManager.promptDuplicate(Language.getStr("Name_error_blank"),b,c):SaveManager.getAvailableName(a,function(d,e,f){e&&f?SaveManager.duplicate(b,d,c):e?f||(e='"'+a+Language.getStr("Name_error_already_exists"),SaveManager.promptDuplicateWithDefault(e,b,d,c)):(e=Language.getStr("Name_error_invalid_characters"),e+=SaveManager.invalidCharactersFriendly.split("").join(" "),SaveManager.promptDuplicateWithDefault(e,b,d,c))})};
SaveManager.duplicate=function(a,b,c){const d=new HttpRequestBuilder("data/duplicate");d.addParam("filename",a);d.addParam("newFilename",b);HtmlServer.sendRequestWithCallback(d.toString(),c)};SaveManager.userExportFile=function(a,b,c,d,e){SaveManager.exportFile(a,b,c,d,e)};
SaveManager.exportFile=function(a,b,c,d,e){const f=new HttpRequestBuilder("data/export");f.addParam("filename",a);null!=b&&null!=c&&null!=d&&null!=e&&(f.addParam("tlx",b),f.addParam("tly",d),f.addParam("brx",c),f.addParam("bry",e));HtmlServer.sendRequestWithCallback(f.toString())};
SaveManager.saveAsNew=function(){const a=new HttpRequestBuilder("data/new"),b=XmlWriter.docToText(CodeManager.createXml());CodeManager.markLoading(Language.getStr("Saving"));HtmlServer.sendRequestWithCallback(a.toString(),function(){},function(){CodeManager.cancelLoading()},!0,b)};SaveManager.markEdited=function(){CodeManager.updateModified();null!=SaveManager.fileName&&SaveManager.autoSave()};
SaveManager.currentDoc=function(){if(null==SaveManager.fileName)return null;const a={};a.data=XmlWriter.docToText(CodeManager.createXml());a.filename=SaveManager.fileName;return a};SaveManager.saveAndName=function(a,b){null==SaveManager.fileName?null!=b&&b():SaveManager.autoSave(b)};SaveManager.addTypeToRequest=function(a,b){a.addParam("type",b?"recording":"file")};SaveManager.fileIsOpen=function(){return null!=SaveManager.fileName};
function UndoManager(){const a=UndoManager;a.undoButton=null;a.undoStack=[];a.undoLimit=20}UndoManager.setUndoButton=function(a){const b=UndoManager;b.undoButton=a;b.undoButton.setCallbackFunction(UndoManager.undoDelete,!0);b.updateButtonEnabled()};UndoManager.deleteComment=function(a){const b=UndoManager;var c=XmlWriter.newDoc("undoData");c=a.createXml(c);a.delete();for(b.undoStack.push(c);b.undoStack.length>b.undoLimit;)b.undoStack.shift();b.updateButtonEnabled()};
UndoManager.deleteStack=function(a){const b=UndoManager;var c=XmlWriter.newDoc("undoData");if(FinchBlox&&3!=LevelManager.currentLevel&&a.firstBlock.isStartBlock)if(TabManager.activeTab.addStartBlock(),null!=a.firstBlock.nextBlock)c=a.createXml(c,!0);else{a.remove();return}else c=a.createXml(c);a.deleteComments();a.remove();for(b.undoStack.push(c);b.undoStack.length>b.undoLimit;)b.undoStack.shift();b.updateButtonEnabled()};
UndoManager.deleteTab=function(){const a=UndoManager,b=TabManager.activeTab;var c=XmlWriter.newDoc("undoData");FinchBlox&&3!=LevelManager.currentLevel?(c=b.createXml(c,!0),b.clear(),TabManager.activeTab.addStartBlock()):(c=b.createXml(c),b.clear());for(a.undoStack.push(c);a.undoStack.length>a.undoLimit;)a.undoStack.shift();a.updateButtonEnabled()};
UndoManager.undoDelete=function(){const a=UndoManager;if(0!==a.undoStack.length){for(var b=!1;!b;){const c=a.undoStack.pop();b=b||TabManager.undoDelete(c)}a.updateButtonEnabled();SaveManager.markEdited()}};UndoManager.updateButtonEnabled=function(){const a=UndoManager;null!=a.undoButton&&(0<a.undoStack.length?a.undoButton.enable():a.undoButton.disable())};UndoManager.clearUndos=function(){const a=UndoManager;a.undoStack=[];a.updateButtonEnabled()};
function LevelManager(){const a=LevelManager;a.currentLevel=Hatchling?3:1;a.fileListRetreived=!1;a.filesSavedLocally=[];a.levelFileList=null;a.checkSavedFiles()}
LevelManager.setConstants=function(){const a=LevelManager;a.totalLevels=3;a.levelButtonFont=Font.uiFont(35);a.savePointFileNames={1:"FinchBloxSavePoint_Level1",2:"FinchBloxSavePoint_Level2",3:"FinchBloxSavePoint_Level3"};Hatchling&&(a.savePointFileNames={1:"HatchlingSavePoint_Level1",2:"HatchlingSavePoint_Level2",3:"HatchlingSavePoint_Level3"});a.fileLevelSuffixes={1:"_1",2:"_2",3:"_3"}};
LevelManager.setLevel=function(a){const b=LevelManager;a=parseInt(a);b.currentLevel!=a&&(b.currentLevel=a,GuiElements.blockInteraction(),BlockPalette.setLevel(),TitleBar.levelButton.addText(a,b.levelButtonFont,Colors.white))};
LevelManager.checkSavedFiles=function(){HtmlServer.sendRequestWithCallback("data/files",function(a){a=new FileList(a);LevelManager.filesSavedLocally=a.localFiles;LevelManager.fileListRetreived=!0;LevelManager.levelFileList={1:[],2:[],3:[]};a.localFiles.forEach(function(b){const c=b.split("_").pop();LevelManager.levelFileList[c]&&LevelManager.levelFileList[c].push(b)})},function(){GuiElements.alert("Error retrieving saved files")})};
LevelManager.loadLevelSavePoint=function(){var a=LevelManager;GuiElements.blockInteraction();const b=a.savePointFileNames[a.currentLevel];a.fileListRetreived?-1===a.filesSavedLocally.indexOf(b)?(a=new HttpRequestBuilder("data/new"),a.addParam("filename",b),GuiElements.isIos&&SaveManager.loadBlank(),HtmlServer.sendRequestWithCallback(a.toString(),function(){LevelManager.filesSavedLocally.push(b);GuiElements.isIos||SaveManager.userOpenFile(b)},null,!0,SaveManager.emptyProgData)):SaveManager.userOpenFile(b):
setTimeout(function(){LevelManager.loadLevelSavePoint()},200)};
LevelManager.saveAs=function(a,b){const c=LevelManager,d=SaveManager.fileName,e=c.savePointFileNames[c.currentLevel];a=a.trim()+c.fileLevelSuffixes[c.currentLevel];d==e||b?(GuiElements.blockInteraction(),SaveManager.sanitizeRename(!1,d,"",a,function(){c.checkSavedFiles();TitleBar.fileBn.update();GuiElements.isAndroid&&GuiElements.unblockInteraction()})):console.error("Tried to rename file with "+SaveManager.fileName+" open instead of "+e)};
LevelManager.openFile=function(a){const b=a.slice(-1);0<b&&b<=LevelManager.totalLevels?(GuiElements.blockInteraction(),LevelManager.setLevel(b),SaveManager.userOpenFile(a)):console.error("Unsupported level  "+b)};LevelManager.userDeleteFile=function(a){let b=a==SaveManager.fileName;GuiElements.blockInteraction();for(let c=0;c<LevelManager.filesSavedLocally.length;c++)LevelManager.filesSavedLocally[c]==a&&LevelManager.filesSavedLocally.splice(c,1);SaveManager.delete(!1,a);b||GuiElements.unblockInteraction()};
function Block(a,b,c,d,e,f){this.blockTypeName=this.constructor.name;this.x=c;this.y=d;this.type=a;this.bottomOpen=0===a||4===a||5===a||6===a;this.topOpen=0===a||5===a||6===a;this.returnsValue=b!==Block.returnTypes.none;this.returnType=b;this.hasBlockSlot1=5===a||6===a;this.hasBlockSlot2=6===a;this.hasHat=4===a;this.group=GuiElements.create.group(c,d);this.parent=null;this.parts=[];this.slots=[];this.running=0;this.category=e;this.isGlowing=!1;this.active=this.checkActive();this.stack=null;this.path=
this.generatePath();this.height=0;this.lineHeight=[];this.width=0;this.runMem=function(){};this.bottomOpen&&(this.nextBlock=null);this.returnsValue&&(this.resultData=null);this.hasBlockSlot1&&(this.topWidth=this.topHeight=0,this.blockSlot1=new BlockSlot(this));this.hasBlockSlot2&&(this.midHeight=0,this.midLabel=new LabelText(this,this.midLabelText),this.blockSlot2=new BlockSlot(this));!0===f&&(this.autoExecute=!0);this.blockButton=null;Hatchling&&(this.blockButtons=[]);this.comment=null;this.id=Block.count;
Block.count++}Block.setConstants=function(){Block.returnTypes=function(){};Block.returnTypes.none=0;Block.returnTypes.num=1;Block.returnTypes.string=2;Block.returnTypes.bool=3;Block.returnTypes.list=4;Block.count=0};Block.prototype.relToAbsX=function(a){return null!=this.stack?this.stack.relToAbsX(a+this.x):a+this.x};Block.prototype.relToAbsY=function(a){return null!=this.stack?this.stack.relToAbsY(a+this.y):a+this.y};
Block.prototype.absToRelX=function(a){return null!=this.stack?this.stack.absToRelX(a)-this.x:a-this.x};Block.prototype.absToRelY=function(a){return null!=this.stack?this.stack.absToRelY(a)-this.y:a-this.y};Block.prototype.getAbsX=function(){return this.relToAbsX(0)};Block.prototype.getAbsY=function(){return this.relToAbsY(0)};Block.prototype.generatePath=function(){const a=BlockGraphics.create.block(this.category,this.group,this.returnsValue,this.active);TouchReceiver.addListenersChild(a,this);return a};
Block.prototype.parseTranslation=function(a){a=a.replace(/\(/g,"xxxxx(").replace(/\)/g,")xxxxx").split("xxxxx");var b=[],c=[],d=-1;null!=this.slots[0]&&this.slots[0].constructor===DeviceDropSlot&&(b.push(this.parts[0]),d+=1,c.push(0),null!=this.parts[1]&&this.parts[1].constructor===LabelText&&b.push(this.parts[1]));for(var e=0;e<a.length;e++){var f=a[e];if(f.startsWith("(Slot ")&&f.endsWith(")")){var g=parseInt(f.match(/\d+/));g+=d;if(g<this.slots.length){const h=this.slots[g];f=f.split("=");1<f.length&&
(f=f[1].replace(/\s+/,"").replace(")",""),h.setData(new StringData(f),!0,!1));b.push(h);c.push(g)}}else f.startsWith("(Icon)")?this.parts.forEach(function(h){h.constructor===BlockIcon&&b.push(h)}):""!=f&&(g=new LabelText(this,f),b.push(g),g.setActive(this.active))}for(e=0;e<this.slots.length;e++)-1===c.indexOf(e)&&b.push(this.slots[e]);Language.isRTL&&(b[0].constructor===DeviceDropSlot&&b.push(b.shift()),b=b.reverse());this.parts=b};
Block.prototype.addPart=function(a){this.parts.push(a);a.isSlot&&this.slots.push(a);a.setActive(this.active)};Block.prototype.removeParts=function(){for(let a=0;a<this.parts.length;a++)this.parts[a].remove&&this.parts[a].remove();this.parts=[];this.slots=[];this.blockButtons=[]};Block.prototype.move=function(a,b){this.x=a;this.y=b;GuiElements.move.group(this.group,a,b)};
Block.prototype.stop=function(){this.running=0;this.runMem={};for(let a=0;a<this.slots.length;a++)this.slots[a].stop();null!=this.blockSlot1&&this.blockSlot1.stop();null!=this.blockSlot2&&this.blockSlot2.stop();this.bottomOpen&&null!=this.nextBlock&&this.nextBlock.stop();FinchBlox&&this.updateRunColor()};
Block.prototype.updateRun=function(){if(0===this.running||3===this.running){for(var a=0;a<this.slots.length;a++)this.slots[a].stop();this.running=1}var b;if(1===this.running){for(b=0;b<this.slots.length;b++){a=this.slots[b].updateRun();if(a.isRunning())return new ExecutionStatusRunning;if(a.hasError())return this.running=3,a}this.running=2;b=this.startAction()}else 2===this.running&&(b=this.updateAction());b.isRunning()||(0!==this.running&&(this.running=3),this.clearMem());FinchBlox&&this.updateRunColor();
return b};Block.prototype.updateRunColor=function(){if(!this.autoExecute&&!Hatchling)if(1===this.running||2===this.running)GuiElements.update.color(this.path,Colors.flagGreen),null!=this.topPath&&GuiElements.update.color(this.topPath,Colors.fbDarkGreen);else{let a=this.category;this.active||(a="inactive");GuiElements.update.color(this.path,Colors.categoryColors[a]);null!=this.topPath&&GuiElements.update.color(this.topPath,this.topPathColor)}};Block.prototype.startAction=function(){return new ExecutionStatusRunning};
Block.prototype.updateAction=function(){return new ExecutionStatusRunning};Block.prototype.getResultData=function(){DebugOptions.assert(this.returnsValue);return 3===this.running?(this.running=0,this.resultData):null};
Block.prototype.changeStack=function(a){this.stack=a;this.group.remove();a.group.appendChild(this.group);for(let b=0;b<this.slots.length;b++)this.slots[b].changeStack(a);null!=this.nextBlock&&this.nextBlock.changeStack(a);null!=this.blockSlot1&&this.blockSlot1.changeStack(a);null!=this.blockSlot2&&this.blockSlot2.changeStack(a);null!=this.stack&&this.stack.isDisplayStack&&this.updateActive()};
Block.prototype.updateStackDim=function(){null!=this.blockSlot1&&this.blockSlot1.updateStackDim();null!=this.blockSlot2&&this.blockSlot2.updateStackDim();this.updateStackDimRI();null!=this.nextBlock&&this.nextBlock.updateStackDim()};Block.prototype.updateStackDimRI=function(){for(let a=0;a<this.slots.length;a++)this.slots[a].updateStackDim();this.updateStackDimO()};
Block.prototype.updateStackDimO=function(){let a=this.stack.dim;var b=BlockGraphics.command.snap;if(this.bottomOpen||this.topOpen){var c=this.x-b.left,d=this.y-b.top,e=this.x+b.right;let f=this.y+this.height+b.bottom;FinchBlox&&(c=this.x-b.left,d=this.y-b.top,e=this.x+this.width+b.right,f=this.y+b.bottom);c<a.cx1&&(a.cx1=c);d<a.cy1&&(a.cy1=d);e>a.cx2&&(a.cx2=e);f>a.cy2&&(a.cy2=f)}b=this.x;c=this.y;d=this.x+this.width;e=this.y+this.height;b<a.rx1&&(a.rx1=b);c<a.ry1&&(a.ry1=c);d>a.rx2&&(a.rx2=d);e>
a.ry2&&(a.ry2=e)};
Block.prototype.updateDim=function(){var a=BlockGraphics.getType(this.type);if(this.topOpen||this.bottomOpen)a=BlockGraphics.command;let b,c=b=0+a.hMargin,d=0,e=0,f=[];f[e]=0;for(let g=0;g<this.parts.length;g++){this.parts[g].updateDim();c+=this.parts[g].width;if(this.parts[g].height>f[e])if("LabelText"===this.parts[g].constructor.name)switch(this.type){case 0:f[e]=this.parts[g].height+12;break;case 1:f[e]=this.parts[g].height+8;break;case 2:f[e]=this.parts[g].height+8;break;case 7:f[e]=this.parts[g].height+
7;break;default:f[e]=this.parts[g].height}else switch(this.type){case 1:f[e]=this.parts[g].height;break;default:f[e]=this.parts[g].height}g<this.parts.length-1&&!this.parts[g].isEndOfLine&&(c+=BlockGraphics.block.pMargin);c>b&&(FinchBlox&&0!=e||(b=c));this.parts[g].isEndOfLine&&(f[e]+2*a.vMargin<a.height&&(f[e]=a.height-2*a.vMargin),FinchBlox||(d+=f[e]+a.vMargin),e+=1,f[e]=0,c=a.hMargin)}this.lineHeight=f;b+=a.hMargin;d+=f[e];d+=2*a.vMargin;d<a.height&&(d=a.height);this.hasBlockSlot1&&(this.topHeight=
d,this.topWidth=b,this.blockSlot1.updateDim(),FinchBlox?(b+=this.blockSlot1.width,b+=BlockGraphics.loop.armW+BlockGraphics.command.fbBumpDepth,d<this.blockSlot1.height&&(d+=this.blockSlot1.height-d),d+=BlockGraphics.loop.loopH):(d+=this.blockSlot1.height,d+=BlockGraphics.loop.bottomH));this.hasBlockSlot2&&(this.midLabel.updateDim(),this.midHeight=this.midLabel.height,this.midHeight+=2*a.vMargin,this.midHeight<a.height&&(this.midHeight=a.height),d+=this.midHeight,a=this.midLabel.width+2*a.hMargin,
a>b&&(b=a),this.blockSlot2.updateDim(),d+=this.blockSlot2.height);a=BlockGraphics.getType(this.type);b<a.width&&(b=a.width);this.resize(b,d);null!=this.nextBlock&&this.nextBlock.updateDim()};
Block.prototype.updateAlign=function(a,b){let c=BlockGraphics;this.updateAlignRI(a,b);this.hasBlockSlot1&&(FinchBlox?this.blockSlot1.updateAlign(this.x+this.topWidth+c.command.fbBumpDepth,this.y):this.blockSlot1.updateAlign(this.x+c.loop.side,this.y+this.topHeight));this.hasBlockSlot2&&(this.blockSlot2.updateAlign(this.x+c.loop.side,this.y+this.topHeight+this.blockSlot1.height+this.midHeight),this.midLabel.updateAlign(c.loop.side,this.topHeight+this.blockSlot1.height+this.midHeight/2));null!=this.nextBlock&&
(FinchBlox?this.nextBlock.updateAlign(this.x+this.width+c.command.fbBumpDepth,this.y):this.nextBlock.updateAlign(this.x,this.y+this.height));return this.width};
Block.prototype.updateAlignRI=function(a,b){this.move(a,b);a=BlockGraphics.getType(this.type);if(this.bottomOpen||this.topOpen)a=BlockGraphics.command;b=0;let c=(this.lineHeight[b]+2*a.vMargin)/2;FinchBlox&&(c=BlockGraphics.command.height/2);let d;this.hasBlockSlot1&&(FinchBlox||(c=this.topHeight/2));d=0+a.hMargin;for(let e=0;e<this.parts.length;e++)d+=this.parts[e].updateAlign(d,c),FinchBlox&&0==e&&d+a.hMargin<a.width&&(1==this.parts.length||this.parts[e].isEndOfLine)&&(d=(a.width-this.parts[e].width)/
2,this.parts[e].updateAlign(d,c)),this.parts[e].isEndOfLine?(d=a.hMargin,b+=1,c+=(this.lineHeight[b]+this.lineHeight[b-1])/2,c+=a.vMargin,FinchBlox&&(d=-BlockGraphics.command.fbBumpDepth,Hatchling&&(d=a.hMargin),c=BlockGraphics.command.height-BlockPalette.blockButtonOverhang)):e<this.parts.length-1&&(d+=BlockGraphics.block.pMargin);Hatchling&&null!=this.hlButton&&this.hlButton.updateAlign(-1,2)};
Block.prototype.resize=function(a,b){let c=BlockGraphics;this.width=a;this.height=b;let d=0,e=0,f=0;this.hasBlockSlot1&&(d=FinchBlox?this.blockSlot1.width:this.blockSlot1.height);this.hasBlockSlot2&&(e=this.blockSlot2.height,f=this.midHeight);c.update.path(this.path,0,0,a,b,this.type,!1,d,e,f,this.bottomOpen);null!=this.topPath&&c.update.topPath(this.topPath,this.width,this.height)};
Block.prototype.findBestFit=function(a){var b=CodeManager.move,c=CodeManager.fit;null!=a&&(b=a.move,c=a.fit);var d=this.getAbsX();let e=this.getAbsY();var f=this.relToAbsY(this.height)-e;let g=this.relToAbsX(this.width)-d,h=!1;if(b.returnsValue)for(c=0;c<this.slots.length;c++)h=this.slots[c].findBestFit(a)||h;else if(b.topOpen&&this.bottomOpen){var k=BlockGraphics.command.snap,l=d-k.left;let m=e-k.top,n=k.left+k.right,p=k.top+f+k.bottom;const q=k.left+g+k.right;k=k.top+k.bottom;if(FinchBlox?CodeManager.move.pInRange(b.topX,
b.topY,l,m,q,k):CodeManager.move.pInRange(b.topX,b.topY,l,m,n,p))if(l=b.topX-d,f=b.topY-(e+f),FinchBlox&&(l=b.topX-(d+g),f=b.topY-e),b=l*l+f*f,!c.found||b<c.dist)c.found=!0,c.bestFit=this,c.dist=b}else b.comment&&(l=BlockGraphics.command.snap,CodeManager.move.pInRange(b.topX,b.topY,d+g-l.left,e-l.top,l.left+l.right,l.top+f+l.bottom)&&(d=b.topX-d,b=b.topY-(e+f),b=d*d+b*b,!c.found||b<c.dist))&&(c.found=!0,c.bestFit=this,c.dist=b);this.hasBlockSlot1&&this.blockSlot1.findBestFit(a);this.hasBlockSlot2&&
this.blockSlot2.findBestFit(a);null!=this.nextBlock&&this.nextBlock.findBestFit(a);return h};Block.prototype.highlight=function(a){a?Highlighter.highlight(this.relToAbsX(this.width),this.getAbsY(),this.width,this.height,0,!1,this.isGlowing,!0):this.bottomOpen?FinchBlox?Highlighter.highlight(this.relToAbsX(this.width),this.getAbsY(),this.width,this.height,0,!1,this.isGlowing):Highlighter.highlight(this.getAbsX(),this.relToAbsY(this.height),this.width,this.height,0,!1,this.isGlowing):DebugOptions.throw("Attempt to highlight block that has bottomOpen = false")};
Block.prototype.snap=function(a){var b=a.getLastBlock();if(!b.bottomOpen&&null!=this.nextBlock){var c=BlockGraphics.command;this.nextBlock.unsnap().shiftOver(c.shiftX,a.stack.getHeight()+c.shiftY)}c=this.stack;null!=a.stack&&(a.stack.stop(),c.isRunning&&a.glow());c=this.nextBlock;this.nextBlock=a;a.parent=this;b.nextBlock=c;null!=c&&(c.parent=b);b=null;null!=a.stack&&(b=a.stack.group,a.stack.remove());null!=this.stack&&a.changeStack(this.stack);null!=b&&b.remove();null!=this.stack&&(this.stack.updateDim(),
this.stack.tab.updateArrows());Hatchling&&(HL_Utils.showPortsPopup(a),null!=this.stack&&mbRuntime.saveChunk(this.stack.firstBlock))};
Block.prototype.unsnap=function(){return null!=this.parent?(this.parent.isSlot||this.parent.isBlockSlot?(this.parent.removeChild(),this.parent.parent.stack.updateDim(),Hatchling&&mbRuntime.saveChunk(this.parent.parent.stack.firstBlock)):(this.parent.nextBlock=null,this.parent.stack.updateDim(),Hatchling&&mbRuntime.saveChunk(this.parent.stack.firstBlock)),this.parent=null,new BlockStack(this,this.stack.getTab())):this.stack};
Block.prototype.getLastBlock=function(){return null==this.nextBlock?this:this.nextBlock.getLastBlock()};Block.prototype.addHeights=function(){return null!=this.nextBlock?this.height+this.nextBlock.addHeights():this.height};Block.prototype.getMaxHeight=function(){return null!=this.nextBlock?Math.max(this.height,this.nextBlock.getMaxHeight()):this.height};Block.prototype.addWidths=function(){return null!=this.nextBlock?this.width+BlockGraphics.command.fbBumpDepth+this.nextBlock.addWidths():this.width};
Block.prototype.duplicate=function(a,b){a=null!=this.variable?new this.constructor(a,b,this.variable):null!=this.list?new this.constructor(a,b,this.list):null!=this.port?new this.constructor(a,b,this.port):new this.constructor(a,b);a.copyFrom(this);return a};
Block.prototype.copyFrom=function(a){DebugOptions.assert(a.blockTypeName===this.blockTypeName);for(let b=0;b<this.slots.length;b++)this.slots[b].copyFrom(a.slots[b]);null!=this.blockSlot1&&this.blockSlot1.copyFrom(a.blockSlot1);null!=this.blockSlot2&&this.blockSlot2.copyFrom(a.blockSlot2);null!=a.nextBlock&&(this.nextBlock=a.nextBlock.duplicate(0,0),this.nextBlock.parent=this)};
Block.prototype.textSummary=function(a){let b="";for(let c=0;c<this.parts.length;c++)b=this.parts[c]===a?b+"___":b+this.parts[c].textSummary(),c<this.parts.length-1&&(b+=" ");return b};Block.prototype.eventFlagClicked=function(){};Block.prototype.eventBroadcast=function(a){};Block.prototype.checkBroadcastRunning=function(a){return!1};
Block.prototype.updateAvailableMessages=function(){for(let a=0;a<this.slots.length;a++)this.slots[a].updateAvailableMessages();null!=this.blockSlot1&&this.blockSlot1.updateAvailableMessages();null!=this.blockSlot2&&this.blockSlot2.updateAvailableMessages();this.bottomOpen&&null!=this.nextBlock&&this.nextBlock.updateAvailableMessages()};Block.prototype.clearMem=function(){this.runMem=new function(){};for(let a=0;a<this.slots.length;a++)this.slots[a].clearMem()};
Block.prototype.getResultData=function(){DebugOptions.assert(null!=this.resultData);let a=this.resultData;this.resultData=null;return a};Block.prototype.glow=function(){if(!FinchBlox||Hatchling)BlockGraphics.update.glow(this.path),this.isGlowing=!0,null!=this.blockSlot1&&this.blockSlot1.glow(),null!=this.blockSlot2&&this.blockSlot2.glow(),this.bottomOpen&&null!=this.nextBlock&&this.nextBlock.glow()};
Block.prototype.stopGlow=function(){BlockGraphics.update.stroke(this.path,this.category,this.returnsValue,this.active);this.isGlowing=!1;null!=this.blockSlot1&&this.blockSlot1.stopGlow();null!=this.blockSlot2&&this.blockSlot2.stopGlow();this.bottomOpen&&null!=this.nextBlock&&this.nextBlock.stopGlow()};Block.prototype.makeInactive=function(){this.active&&(this.active=!1,BlockGraphics.update.blockActive(this.path,this.category,this.returnsValue,this.active,this.isGlowing),this.parts.forEach(function(a){a.makeInactive()}))};
Block.prototype.makeActive=function(){this.active||(this.active=!0,BlockGraphics.update.blockActive(this.path,this.category,this.returnsValue,this.active,this.isGlowing),this.parts.forEach(function(a){a.makeActive()}))};Block.prototype.setActive=function(a){a?this.makeActive():this.makeInactive()};Block.prototype.checkActive=function(){return!0};Block.prototype.updateActive=function(){this.setActive(this.checkActive())};
Block.prototype.writeToXml=function(a,b){b.appendChild(this.createXml(a));this.bottomOpen&&null!=this.nextBlock&&this.nextBlock.writeToXml(a,b)};
Block.prototype.createXml=function(a){let b=XmlWriter.createElement(a,"block");XmlWriter.setAttribute(b,"type",this.blockTypeName);XmlWriter.setAttribute(b,"id",this.id);var c=XmlWriter.createElement(a,"slots");XmlWriter.setAttribute(c,"keyVal","true");for(var d=0;d<this.slots.length;d++)c.appendChild(this.slots[d].createXml(a));b.appendChild(c);null!=this.blockSlot1&&(c=XmlWriter.createElement(a,"blockSlots"),c.appendChild(this.blockSlot1.createXml(a)),null!=this.blockSlot2&&c.appendChild(this.blockSlot2.createXml(a)),
b.appendChild(c));null!=this.blockButton&&b.appendChild(this.blockButton.createXml(a));if(Hatchling){c=XmlWriter.createElement(a,"blockButtons");for(d=0;d<this.blockButtons.length;d++)c.appendChild(this.blockButtons[d].createXml(a));b.appendChild(c)}return b};Block.importXml=function(a){let b=XmlWriter.getAttribute(a,"type"),c;try{if("B_"===b.substring(0,2)){if(null!=window[b].importXml)return window[b].importXml(a);c=new window[b](0,0);c.copyFromXml(a);return c}return null}catch(d){return null}};
Block.prototype.copyFromXml=function(a){var b=XmlWriter.getAttribute(a,"id");null!=b&&(this.id=b,b>Block.count&&(Block.count=b));b=XmlWriter.findSubElement(a,"slots");this.importSlotXml(b);b=XmlWriter.findSubElement(a,"blockSlots");b=XmlWriter.findSubElements(b,"blockSlot");null!=this.blockSlot1&&1<=b.length&&this.blockSlot1.importXml(b[0]);null!=this.blockSlot2&&2<=b.length&&this.blockSlot2.importXml(b[1]);b=XmlWriter.findSubElements(a,"blockButton");null!=this.blockButton&&this.blockButton.importXml(b[0]);
if(Hatchling)for(a=XmlWriter.findSubElement(a,"blockButtons"),b=XmlWriter.findSubElements(a,"blockButton"),a=0;a<b.length;a++)this.blockButtons[a].importXml(b[a])};Block.prototype.importSlotXml=function(a){let b="true"===XmlWriter.getAttribute(a,"keyVal","false"),c=XmlWriter.findSubElements(a,"slot");if(b)this.slots.forEach(function(d){var e=d.getKey();e=XmlWriter.findNodeByKey(c,e);null!=d&&d.importXml(e)});else for(a=0;a<c.length&&a<this.slots.length;a++)this.slots[a].importXml(c[a])};
Block.prototype.renameVariable=function(a){this.passRecursively("renameVariable",a)};Block.prototype.deleteVariable=function(a){this.passRecursively("deleteVariable",a)};Block.prototype.renameList=function(a){this.passRecursively("renameList",a)};Block.prototype.deleteList=function(a){this.passRecursively("deleteList",a)};
Block.prototype.checkVariableUsed=function(a){for(let b=0;b<this.slots.length;b++)if(this.slots[b].checkVariableUsed(a))return!0;return null!=this.blockSlot1&&this.blockSlot1.checkVariableUsed(a)||null!=this.blockSlot2&&this.blockSlot2.checkVariableUsed(a)||this.bottomOpen&&null!=this.nextBlock&&this.nextBlock.checkVariableUsed(a)?!0:!1};
Block.prototype.checkListUsed=function(a){for(let b=0;b<this.slots.length;b++)if(this.slots[b].checkListUsed(a))return!0;return null!=this.blockSlot1&&this.blockSlot1.checkListUsed(a)||null!=this.blockSlot2&&this.blockSlot2.checkListUsed(a)||this.bottomOpen&&null!=this.nextBlock&&this.nextBlock.checkListUsed(a)?!0:!1};
Block.prototype.countDevicesInUse=function(a){let b=0;for(let c=0;c<this.slots.length;c++)b=Math.max(b,this.slots[c].countDevicesInUse(a));null!=this.blockSlot1&&(b=Math.max(b,this.blockSlot1.countDevicesInUse(a)));null!=this.blockSlot2&&(b=Math.max(b,this.blockSlot2.countDevicesInUse(a)));this.bottomOpen&&null!=this.nextBlock&&(b=Math.max(b,this.nextBlock.countDevicesInUse(a)));return b};Block.prototype.updateAvailableSensors=function(){this.updateActive()};
Block.prototype.updateAvailablePorts=function(a){a==this.port&&this.updateActive()};Block.prototype.passRecursively=function(a){let b=Array.prototype.slice.call(arguments,1);for(let c=0;c<this.slots.length;c++){let d=this.slots[c];d[a].apply(d,b)}null!=this.blockSlot1&&this.blockSlot1[a].apply(this.blockSlot1,b);null!=this.blockSlot2&&this.blockSlot2[a].apply(this.blockSlot2,b);this.bottomOpen&&null!=this.nextBlock&&this.nextBlock[a].apply(this.nextBlock,b)};
Block.prototype.passRecursivelyDown=function(a){if(null!=this[a])this[a](Array.prototype.slice.call(arguments,1));Array.prototype.unshift.call(arguments,"passRecursivelyDown");this.passRecursively.apply(this,arguments)};Block.prototype.displayResult=function(a){a=a.asString().getValue();this.displayValue(a,!1)};Block.prototype.displayValue=function(a,b){let c=this.getAbsX(),d=this.getAbsY(),e=this.relToAbsX(this.width)-c,f=this.relToAbsY(this.height)-d;ResultBubble.displayValue(a,c,d,e,f,b)};
Block.prototype.displayError=function(a){this.displayValue(a,!0)};Block.prototype.colorTopHalf=function(a){this.topPathColor=a;this.topPath=GuiElements.create.path(this.group);GuiElements.update.color(this.topPath,this.topPathColor);TouchReceiver.addListenersChild(this.topPath,this)};Block.prototype.addComment=function(a){null!=this.comment?console.error("Adding a comment to block that already has one"):(null==a&&(a=new Comment),a.updateParent(this))};
Block.prototype.findBlockByID=function(a){a.id==this.id?a.block=this:null!=this.nextBlock&&this.nextBlock.findBlockByID(a)};Block.setDisplaySuffix=function(a,b){Block.setDeviceSuffixFn(a,function(){return b})};Block.removeDisplaySuffix=function(a){a.prototype.displayResult=function(b){this.displayValue(b.asString().getValue(),!1)}};
Block.setDeviceSuffixFn=function(a,b){a.prototype.displayResult=function(c){c.isValid?(c=c.asString().getValue(),this.displayValue(c+" "+b(),!1)):this.displayValue(c.asString().getValue(),!1)}};function CommandBlock(a,b,c,d){Block.call(this,0,Block.returnTypes.none,a,b,c);null!=d&&!1===d&&(this.bottomOpen=!1)}CommandBlock.prototype=Object.create(Block.prototype);CommandBlock.prototype.constructor=CommandBlock;
function ReporterBlock(a,b,c,d){null==d&&(d=Block.returnTypes.num);Block.call(this,1,d,a,b,c)}ReporterBlock.prototype=Object.create(Block.prototype);ReporterBlock.prototype.constructor=ReporterBlock;function PredicateBlock(a,b,c){Block.call(this,2,Block.returnTypes.bool,a,b,c)}PredicateBlock.prototype=Object.create(Block.prototype);PredicateBlock.prototype.constructor=PredicateBlock;function HatBlock(a,b,c,d){Block.call(this,4,Block.returnTypes.none,a,b,c,d)}HatBlock.prototype=Object.create(Block.prototype);
HatBlock.prototype.constructor=HatBlock;function LoopBlock(a,b,c,d){Block.call(this,5,Block.returnTypes.none,a,b,c);null!=d&&!1===d&&(this.bottomOpen=!1)}LoopBlock.prototype=Object.create(Block.prototype);LoopBlock.prototype.constructor=LoopBlock;function DoubleLoopBlock(a,b,c,d){this.midLabelText=d;Block.call(this,6,Block.returnTypes.none,a,b,c)}DoubleLoopBlock.prototype=Object.create(Block.prototype);DoubleLoopBlock.prototype.constructor=DoubleLoopBlock;
function SlotShape(a){this.slot=a;this.built=this.visible=!1;this.active=!0}SlotShape.setConstants=function(){};SlotShape.prototype.show=function(){this.visible||(this.visible=!0,this.built||this.buildSlot(),this.slot.parent.group.appendChild(this.group),this.updateDim(),this.updateAlign())};SlotShape.prototype.hide=function(){this.visible&&(this.visible=!1,this.group.remove())};SlotShape.prototype.buildSlot=function(){this.built||(this.built=!0,this.group=GuiElements.create.group(0,0))};
SlotShape.prototype.move=function(a,b){DebugOptions.validateNumbers(a,b);GuiElements.move.group(this.group,a,b)};SlotShape.prototype.updateDim=function(){DebugOptions.markAbstract()};SlotShape.prototype.updateAlign=function(){DebugOptions.markAbstract()};SlotShape.prototype.makeActive=function(){this.active||(this.active=!0)};SlotShape.prototype.makeInactive=function(){this.active&&(this.active=!1)};SlotShape.prototype.setActive=function(a){a?this.makeActive():this.makeInactive()};
function EditableSlotShape(a,b,c){SlotShape.call(this,a);this.text=b;this.dimConstants=c;this.isGray=!1}EditableSlotShape.prototype=Object.create(SlotShape.prototype);EditableSlotShape.prototype.constructor=EditableSlotShape;EditableSlotShape.setConstants=function(){const a=EditableSlotShape;a.charHeight=BlockGraphics.valueText.font.charHeight;a.hitBox={};a.hitBox.hMargin=BlockGraphics.hitBox.hMargin;a.hitBox.vMargin=BlockGraphics.hitBox.vMargin};
EditableSlotShape.prototype.buildSlot=function(){SlotShape.prototype.buildSlot.call(this);this.buildBackground();this.textE=BlockGraphics.create.valueText(this.text,this.group);GuiElements.update.color(this.textE,this.dimConstants.valueText.fill);this.hitBoxE=BlockGraphics.create.slotHitBox(this.group);TouchReceiver.addListenersSlot(this.textE,this.slot);TouchReceiver.addListenersSlot(this.hitBoxE,this.slot)};EditableSlotShape.prototype.buildBackground=function(){DebugOptions.markAbstract()};
EditableSlotShape.prototype.changeText=function(a){this.text=a;GuiElements.update.text(this.textE,a);this.updateDim();this.updateAlign()};EditableSlotShape.prototype.select=function(){GuiElements.update.color(this.textE,this.dimConstants.valueText.selectedFill)};EditableSlotShape.prototype.deselect=function(){GuiElements.update.color(this.textE,this.dimConstants.valueText.fill)};
EditableSlotShape.prototype.grayOutValue=function(){GuiElements.update.color(this.textE,this.dimConstants.valueText.grayedFill);this.isGray=!0};EditableSlotShape.prototype.unGrayOutValue=function(){GuiElements.update.color(this.textE,this.dimConstants.valueText.selectedFill);this.isGray=!1};
EditableSlotShape.prototype.updateDim=function(){const a=this.dimConstants;this.textW=GuiElements.measure.textWidth(this.textE);let b=this.textW+a.slotLMargin+a.slotRMargin,c=a.slotHeight;b<a.slotWidth&&(b=a.slotWidth);this.width=b;this.height=c};
EditableSlotShape.prototype.updateAlign=function(){var a=this.dimConstants;BlockGraphics.update.text(this.textE,(this.width+a.slotLMargin-a.slotRMargin)/2-this.textW/2,EditableSlotShape.charHeight/2+this.height/2);a=BlockGraphics.hitBox;GuiElements.update.rect(this.hitBoxE,a.hMargin,a.vMargin,this.width+2*a.hMargin,this.height+2*a.vMargin)};function RectSlotShape(a,b){EditableSlotShape.call(this,a,b,RectSlotShape)}RectSlotShape.prototype=Object.create(EditableSlotShape.prototype);
RectSlotShape.prototype.constructor=RectSlotShape;
RectSlotShape.setConstants=function(){const a=RectSlotShape;a.slotLMargin=BlockGraphics.string.slotHMargin;a.slotRMargin=BlockGraphics.string.slotHMargin;a.slotHeight=BlockGraphics.string.slotHeight;a.slotWidth=BlockGraphics.string.slotWidth;a.valueText={};a.valueText.fill=BlockGraphics.valueText.fill;a.valueText.grayedFill=BlockGraphics.valueText.grayedFill;a.valueText.selectedFill=BlockGraphics.valueText.selectedFill;a.slotSelectedFill=BlockGraphics.reporter.slotSelectedFill;a.slotFill=BlockGraphics.reporter.slotFill};
RectSlotShape.prototype.buildSlot=function(){EditableSlotShape.prototype.buildSlot.call(this)};RectSlotShape.prototype.buildBackground=function(){this.slotE=BlockGraphics.create.slot(this.group,3);TouchReceiver.addListenersSlot(this.slotE,this.slot)};RectSlotShape.prototype.updateDim=function(){EditableSlotShape.prototype.updateDim.call(this)};
RectSlotShape.prototype.updateAlign=function(){EditableSlotShape.prototype.updateAlign.call(this);BlockGraphics.update.path(this.slotE,0,0,this.width,this.height,3,!0)};RectSlotShape.prototype.select=function(){const a=RectSlotShape;EditableSlotShape.prototype.select.call(this);GuiElements.update.color(this.slotE,a.slotSelectedFill)};RectSlotShape.prototype.deselect=function(){const a=RectSlotShape;EditableSlotShape.prototype.deselect.call(this);GuiElements.update.color(this.slotE,a.slotFill)};
function HexSlotShape(a){SlotShape.call(this,a)}HexSlotShape.prototype=Object.create(SlotShape.prototype);HexSlotShape.prototype.constructor=HexSlotShape;HexSlotShape.setConstants=function(){const a=HexSlotShape,b=BlockGraphics.predicate;a.slotWidth=b.slotWidth;a.slotHeight=b.slotHeight};
HexSlotShape.prototype.buildSlot=function(){SlotShape.prototype.buildSlot.call(this);this.slotE=BlockGraphics.create.slot(this.group,2,this.slot.parent.category,this.active);TouchReceiver.addListenersSlot(this.slotE,this.slot)};HexSlotShape.prototype.updateDim=function(){const a=HexSlotShape;this.width=a.slotWidth;this.height=a.slotHeight};HexSlotShape.prototype.updateAlign=function(){BlockGraphics.update.path(this.slotE,0,0,this.width,this.height,2,!0)};
HexSlotShape.prototype.makeActive=function(){this.active||(this.active=!0,BlockGraphics.update.hexSlotGradient(this.slotE,this.slot.parent.category,this.active))};HexSlotShape.prototype.makeInactive=function(){this.active&&(this.active=!1,BlockGraphics.update.hexSlotGradient(this.slotE,this.slot.parent.category,this.active))};function RoundSlotShape(a,b){EditableSlotShape.call(this,a,b,RoundSlotShape)}RoundSlotShape.prototype=Object.create(EditableSlotShape.prototype);
RoundSlotShape.prototype.constructor=RoundSlotShape;RoundSlotShape.setConstants=function(){const a=RoundSlotShape,b=BlockGraphics.reporter;a.slotLMargin=b.slotHMargin;a.slotRMargin=b.slotHMargin;a.slotHeight=b.slotHeight;a.slotWidth=b.slotWidth;a.valueText={};a.valueText.fill=BlockGraphics.valueText.fill;a.valueText.grayedFill=BlockGraphics.valueText.grayedFill;a.valueText.selectedFill=BlockGraphics.valueText.selectedFill;a.slotSelectedFill=b.slotSelectedFill;a.slotFill=b.slotFill};
RoundSlotShape.prototype.buildSlot=function(){EditableSlotShape.prototype.buildSlot.call(this)};RoundSlotShape.prototype.buildBackground=function(){this.slotE=BlockGraphics.create.slot(this.group,1);TouchReceiver.addListenersSlot(this.slotE,this.slot)};RoundSlotShape.prototype.updateDim=function(){EditableSlotShape.prototype.updateDim.call(this)};
RoundSlotShape.prototype.updateAlign=function(){EditableSlotShape.prototype.updateAlign.call(this);BlockGraphics.update.path(this.slotE,0,0,this.width,this.height,1,!0)};RoundSlotShape.prototype.select=function(){const a=RoundSlotShape;EditableSlotShape.prototype.select.call(this);GuiElements.update.color(this.slotE,a.slotSelectedFill)};RoundSlotShape.prototype.deselect=function(){const a=RoundSlotShape;EditableSlotShape.prototype.deselect.call(this);GuiElements.update.color(this.slotE,a.slotFill)};
function DropSlotShape(a,b){EditableSlotShape.call(this,a,b,DropSlotShape)}DropSlotShape.prototype=Object.create(EditableSlotShape.prototype);DropSlotShape.prototype.constructor=DropSlotShape;
DropSlotShape.setConstants=function(){const a=DropSlotShape,b=BlockGraphics.dropSlot;a.bgColor=b.bg;a.bgOpacity=b.bgOpacity;a.selectedBgOpacity=b.selectedBgOpacity;a.triColor=b.triColor;a.selectedTriColor=b.selectedTriColor;a.triW=b.triW;a.triH=b.triH;a.slotLMargin=b.slotHMargin;a.textMargin=a.slotLMargin;a.slotRMargin=a.slotLMargin+a.textMargin+a.triW;a.slotHeight=b.slotHeight;a.slotWidth=b.slotWidth;a.valueText={};a.valueText.fill=b.textFill;a.valueText.grayedFill=BlockGraphics.valueText.grayedFill;
a.valueText.selectedFill=b.textFill};DropSlotShape.prototype.buildSlot=function(){EditableSlotShape.prototype.buildSlot.call(this)};DropSlotShape.prototype.buildBackground=function(){this.bgE=this.generateBg();this.triE=this.generateTri()};DropSlotShape.prototype.generateBg=function(){const a=DropSlotShape,b=GuiElements.create.rect(this.group);GuiElements.update.color(b,a.bgColor);GuiElements.update.opacity(b,a.bgOpacity);TouchReceiver.addListenersSlot(b,this.slot);return b};
DropSlotShape.prototype.generateTri=function(){const a=DropSlotShape,b=GuiElements.create.path(this.group);GuiElements.update.color(b,a.triColor);TouchReceiver.addListenersSlot(b,this.slot);return b};DropSlotShape.prototype.updateDim=function(){EditableSlotShape.prototype.updateDim.call(this)};
DropSlotShape.prototype.updateAlign=function(){const a=DropSlotShape;EditableSlotShape.prototype.updateAlign.call(this);GuiElements.update.triangle(this.triE,this.width-a.slotRMargin+a.textMargin,this.height/2-a.triH/2,a.triW,0-a.triH);GuiElements.update.rect(this.bgE,0,0,this.width,this.height)};DropSlotShape.prototype.select=function(){const a=DropSlotShape;EditableSlotShape.prototype.select.call(this);GuiElements.update.opacity(this.bgE,a.selectedBgOpacity);GuiElements.update.color(this.triE,a.selectedTriColor)};
DropSlotShape.prototype.deselect=function(){const a=DropSlotShape;EditableSlotShape.prototype.deselect.call(this);GuiElements.update.opacity(this.bgE,a.bgOpacity);GuiElements.update.color(this.triE,a.triColor)};function BlockPart(a){DebugOptions.markAbstract();this.parent=a;this.isSlot=!1;this.height=this.width=NaN;this.isEndOfLine=!1}BlockPart.prototype.updateAlign=function(a,b){DebugOptions.markAbstract();return this.width};
BlockPart.prototype.updateDim=function(){DebugOptions.markAbstract();this.height=this.width=NaN};BlockPart.prototype.textSummary=function(){DebugOptions.markAbstract();return""};BlockPart.prototype.makeActive=function(){};BlockPart.prototype.makeInactive=function(){};BlockPart.prototype.setActive=function(a){a?this.makeActive():this.makeInactive()};
function Slot(a,b,c,d){DebugOptions.validateNonNull(a,b,c,d);DebugOptions.assert(-1!==b.indexOf("_"));this.snapType=c;this.outputType=d;this.parent=a;this.key=b;this.hasChild=!1;this.child=null;this.y=this.x=this.height=this.width=0;this.isSlot=!0;this.running=0;this.resultIsFromChild=!1;this.resultData=null;this.slotShape=void 0}Slot.prototype=Object.create(BlockPart.prototype);Slot.prototype.constructor=Slot;
Slot.setConstants=function(){Slot.snapTypes={};Slot.snapTypes.none=0;Slot.snapTypes.numStrBool=1;Slot.snapTypes.bool=2;Slot.snapTypes.list=3;Slot.snapTypes.any=4;Slot.outputTypes={};Slot.outputTypes.any=0;Slot.outputTypes.num=1;Slot.outputTypes.string=2;Slot.outputTypes.bool=3;Slot.outputTypes.list=4};Slot.prototype.updateDim=function(){this.hasChild?(this.child.updateDim(),this.width=this.child.width,this.height=this.child.height):(this.width=this.slotShape.width,this.height=this.slotShape.height)};
Slot.prototype.updateAlign=function(a,b){DebugOptions.validateNumbers(a,b);if(this.hasChild){const c=a+this.parent.x,d=b+this.parent.y-this.height/2;this.x=a;this.y=b-this.height/2;return this.child.updateAlign(c,d)}this.x=a;this.y=b-this.height/2;this.slotShape.move(this.x,this.y);return this.width};
Slot.prototype.snap=function(a){DebugOptions.validateNonNull(a);a.parent=this;if(this.hasChild){var b=this.child;b.unsnap();b.stack.shiftOver(a.stack.dim.rw,a.stack.dim.rh)}this.hasChild=!0;this.child=a;this.slotShape.hide();null!=a.stack&&(b=a.stack.group,a.stack.remove(),a.changeStack(this.parent.stack),b.remove());null!=this.parent.stack&&this.parent.stack.updateDim()};Slot.prototype.changeStack=function(a){DebugOptions.validateNonNull(a);this.hasChild&&this.child.changeStack(a)};
Slot.prototype.stop=function(){this.clearMem();this.hasChild&&this.child.stop()};Slot.prototype.updateRun=function(){if(3===this.running)return new ExecutionStatusDone;if(this.hasChild){let a=this.child.updateRun();if(a.isRunning())return this.running=2,new ExecutionStatusRunning;if(a.hasError())return this.running=3,a;this.running=3;this.resultData=this.convertData(a.getResult());this.resultIsFromChild=!0;return new ExecutionStatusDone}this.running=3;this.resultIsFromChild=!1;return new ExecutionStatusDone};
Slot.prototype.getData=function(){if(3===this.running)return this.resultIsFromChild?this.resultData:this.getDataNotFromChild();DebugOptions.assert(!this.hasChild);DebugOptions.assert(!1)};Slot.prototype.getDataNotFromChild=function(){DebugOptions.markAbstract()};Slot.prototype.updateStackDim=function(){this.hasChild&&this.child.updateStackDim()};Slot.prototype.removeChild=function(){this.hasChild=!1;this.child=null;this.slotShape.show()};
Slot.prototype.findBestFit=function(a){var b=!1;this.hasChild&&(b=this.child.findBestFit(a));if(b)return!0;var c=CodeManager.move;b=CodeManager.fit;null!=a&&(c=a.move,b=a.fit);var d=this.getAbsX();a=this.getAbsY();var e=this.getAbsHeight();const f=this.getAbsWidth(),g=this.checkFit(c.returnType);e=CodeManager.move.rInRange(c.topX,c.topY,c.bottomX-c.topX,c.bottomY-c.topY,d,a,f,e);if(g&&e){d=c.touchX-(d+this.width/2);c=c.touchY-(a+this.height/2);c=d*d+c*c;if(!b.found||c<b.dist)b.found=!0,b.bestFit=
this,b.dist=c;return!0}return!1};Slot.prototype.checkFit=function(a){DebugOptions.validateNonNull(a);const b=Slot.snapTypes,c=Block.returnTypes,d=this.snapType;if(d===b.none)return!1;if(d===b.any)return!0;if(d===b.numStrBool)return a===c.num||a===c.string||a===c.bool;if(d===b.bool)return a===c.bool;if(d===b.list)return a===c.list;DebugOptions.assert(!1);return!1};Slot.prototype.relToAbsX=function(a){return this.parent.relToAbsX(a+this.x)};
Slot.prototype.relToAbsY=function(a){return this.parent.relToAbsY(a+this.y)};Slot.prototype.absToRelX=function(a){return this.parent.absToRelX(a)-this.x};Slot.prototype.absToRelY=function(a){return this.parent.absToRelY(a)-this.y};Slot.prototype.getAbsX=function(){return this.relToAbsX(0)};Slot.prototype.getAbsY=function(){return this.relToAbsY(0)};Slot.prototype.getAbsWidth=function(){return this.relToAbsX(this.width)-this.getAbsX()};
Slot.prototype.getAbsHeight=function(){return this.relToAbsY(this.height)-this.getAbsY()};Slot.prototype.copyFrom=function(a){DebugOptions.validateNonNull(a);a.hasChild&&this.snap(a.child.duplicate(0,0))};Slot.prototype.clearMem=function(){this.resultData=null;this.running=0};
Slot.prototype.convertData=function(a){DebugOptions.validateNonNull(a);const b=this.outputType,c=Slot.outputTypes;if(b===c.any)return a;if(b===c.num)return a.asNum();if(b===c.string)return a.asString();if(b===c.bool)return a.asBool();if(b===c.list)return a.asList();DebugOptions.assert(!1);return null};Slot.prototype.updateAvailableMessages=function(){};Slot.prototype.renameVariable=function(a){this.passRecursively("renameVariable",a)};
Slot.prototype.deleteVariable=function(a){this.passRecursively("deleteVariable",a)};Slot.prototype.renameList=function(a){this.passRecursively("renameList",a)};Slot.prototype.deleteList=function(a){this.passRecursively("deleteList",a)};Slot.prototype.countDevicesInUse=function(a){return this.hasChild?this.child.countDevicesInUse(a):0};
Slot.prototype.passRecursivelyDown=function(a){const b=a;let c=Array.prototype.slice.call(arguments,1);"updateConnectionStatus"===b&&null!=this.updateConnectionStatus&&this.updateConnectionStatus.apply(this,c);"renameRecording"===b&&null!=this.renameRecording&&this.renameRecording.apply(this,c);"deleteRecording"===b&&null!=this.deleteRecording&&this.deleteRecording.apply(this,c);Array.prototype.unshift.call(arguments,"passRecursivelyDown");this.passRecursively.apply(this,arguments);"showDeviceDropDowns"===
b&&null!=this.showDeviceDropDowns&&this.showDeviceDropDowns.apply(this,c);"hideDeviceDropDowns"===b&&null!=this.hideDeviceDropDowns&&this.hideDeviceDropDowns.apply(this,c)};Slot.prototype.passRecursively=function(a){const b=Array.prototype.slice.call(arguments,1);this.hasChild&&this.child[a].apply(this.child,b)};Slot.prototype.checkVariableUsed=function(a){return this.hasChild?this.child.checkVariableUsed(a):!1};
Slot.prototype.checkListUsed=function(a){return this.hasChild?this.child.checkListUsed(a):!1};Slot.prototype.createXml=function(a){DebugOptions.validateNonNull(a);const b=XmlWriter.createElement(a,"slot");XmlWriter.setAttribute(b,"key",this.key);if(this.hasChild){const c=XmlWriter.createElement(a,"child");c.appendChild(this.child.createXml(a));b.appendChild(c)}return b};
Slot.prototype.importXml=function(a){DebugOptions.validateNonNull(a);a=XmlWriter.findSubElement(a,"child");a=XmlWriter.findSubElement(a,"block");null!=a&&(a=Block.importXml(a),null!=a&&this.snap(a));return this};Slot.prototype.getKey=function(){return this.key};Slot.prototype.highlight=function(){DebugOptions.markAbstract()};Slot.prototype.textSummary=function(){DebugOptions.markAbstract()};Slot.prototype.makeActive=function(){this.slotShape.makeActive()};Slot.prototype.makeInactive=function(){this.slotShape.makeInactive()};
Slot.prototype.setActive=function(a){a?this.makeActive():this.makeInactive()};Slot.prototype.onTap=function(){};Slot.prototype.isEditable=function(){return!1};function HexSlot(a,b,c){Slot.call(this,a,b,c,Slot.outputTypes.bool);this.slotShape=new HexSlotShape(this);this.slotShape.show()}HexSlot.prototype=Object.create(Slot.prototype);HexSlot.prototype.constructor=HexSlot;
HexSlot.prototype.highlight=function(){const a=!this.hasChild;Highlighter.highlight(this.getAbsX(),this.getAbsY(),this.width,this.height,2,a)};HexSlot.prototype.textSummary=function(){return this.hasChild?"<...>":"<>"};HexSlot.prototype.getDataNotFromChild=function(){return new BoolData(!1,!1)};function EditableSlot(a,b,c,d,e,f){Slot.call(this,a,b,d,e);this.inputType=c;this.enteredData=f;this.editing=!1}EditableSlot.prototype=Object.create(Slot.prototype);EditableSlot.prototype.constructor=EditableSlot;
EditableSlot.setConstants=function(){EditableSlot.inputTypes={};EditableSlot.inputTypes.any=0;EditableSlot.inputTypes.num=1;EditableSlot.inputTypes.string=2;EditableSlot.inputTypes.select=3};EditableSlot.prototype.changeText=function(a,b){this.slotShape.changeText(a);b&&null!=this.parent.stack&&this.parent.stack.updateDim()};
EditableSlot.prototype.edit=function(){DebugOptions.assert(!this.hasChild);this.editing||(this.editing=!0,this.slotShape.select(),this.createInputSystem().show(this.slotShape,this.updateEdit.bind(this),this.finishEdit.bind(this),this.enteredData))};EditableSlot.prototype.onTap=function(){this.edit()};EditableSlot.prototype.createInputSystem=function(){DebugOptions.markAbstract()};
EditableSlot.prototype.updateEdit=function(a,b){DebugOptions.assert(this.editing);null==b&&(b=this.dataToString(a));this.enteredData=a;this.changeText(b,!0);SaveManager.markEdited()};EditableSlot.prototype.finishEdit=function(a){DebugOptions.assert(this.editing);this.editing&&(this.setData(a,!0,!0),this.slotShape.deselect(),this.editing=!1,SaveManager.markEdited())};EditableSlot.prototype.isEditing=function(){return this.editing};
EditableSlot.prototype.setData=function(a,b,c){b&&(a=this.sanitizeData(a));null!=a&&(this.enteredData=a,this.changeText(this.dataToString(this.enteredData),c))};EditableSlot.prototype.dataToString=function(a){return a.asString().getValue()};EditableSlot.prototype.sanitizeData=function(a){if(null==a)return null;const b=EditableSlot.inputTypes;this.inputType===b.string?a=a.asString():this.inputType===b.num?a=a.asNum():this.inputType===b.select&&(a=a.asSelection());return a.isValid?a:null};
EditableSlot.prototype.textSummary=function(){let a="...";this.hasChild||(a=this.dataToString(this.enteredData));return this.formatTextSummary(a)};EditableSlot.prototype.formatTextSummary=function(a){DebugOptions.markAbstract()};EditableSlot.prototype.getDataNotFromChild=function(){return this.enteredData};
EditableSlot.prototype.createXml=function(a){let b=Slot.prototype.createXml.call(this,a),c=XmlWriter.createElement(a,"enteredData");c.appendChild(this.enteredData.createXml(a));b.appendChild(c);return b};EditableSlot.prototype.importXml=function(a){Slot.prototype.importXml.call(this,a);a=XmlWriter.findSubElement(a,"enteredData");a=XmlWriter.findSubElement(a,"data");null!=a&&(a=Data.importXml(a),null!=a&&this.setData(a,!0,!1));return this};
EditableSlot.prototype.copyFrom=function(a){Slot.prototype.copyFrom.call(this,a);this.setData(a.enteredData,!1,!1)};EditableSlot.prototype.isEditable=function(){return!0};function RectSlot(a,b,c,d,e){EditableSlot.call(this,a,b,EditableSlot.inputTypes.string,c,d,e);this.slotShape=new RectSlotShape(this,this.dataToString(e));this.slotShape.show()}RectSlot.prototype=Object.create(EditableSlot.prototype);RectSlot.prototype.constructor=RectSlot;
RectSlot.prototype.highlight=function(){let a=!this.hasChild;Highlighter.highlight(this.getAbsX(),this.getAbsY(),this.width,this.height,3,a)};RectSlot.prototype.formatTextSummary=function(a){return"["+a+"]"};RectSlot.prototype.createInputSystem=function(){return new InputDialog(this.parent.textSummary(this),!0)};
function RoundSlot(a,b,c,d,e,f,g,h){EditableSlot.call(this,a,b,c,d,e,f);this.slotShape=new RoundSlotShape(this,this.dataToString(f));this.slotShape.show();this.optionsList=[];this.positive=g;this.integer=h;this.labelText=""}RoundSlot.prototype=Object.create(EditableSlot.prototype);RoundSlot.prototype.constructor=RoundSlot;RoundSlot.prototype.highlight=function(){const a=!this.hasChild;Highlighter.highlight(this.getAbsX(),this.getAbsY(),this.width,this.height,1,a)};
RoundSlot.prototype.formatTextSummary=function(a){return"("+a+")"};RoundSlot.prototype.addOption=function(a,b){null==b&&(b=null);const c={};c.displayText=b;c.data=a;this.optionsList.push(c)};RoundSlot.prototype.populatePad=function(a){this.optionsList.forEach(function(b){a.addOption(b.data,b.displayText)})};
RoundSlot.prototype.createInputSystem=function(){var a=this.getAbsX(),b=this.getAbsY();const c=this.relToAbsX(this.width),d=this.relToAbsY(this.height);a=new InputPad(a,c,b,d);""!==this.labelText&&a.addWidget(new InputWidget.Label(this.labelText));b=new InputWidget.SelectPad;this.populatePad(b);b.isEmpty()||a.addWidget(b);a.addWidget(new InputWidget.NumPad(this.positive,this.integer));return a};
RoundSlot.prototype.selectionDataFromValue=function(a){for(let b=0;b<this.optionsList.length;b++){const c=this.optionsList[b];if(c.data.getValue()===a)return c.data}return null};RoundSlot.prototype.sanitizeData=function(a){a=EditableSlot.prototype.sanitizeData.call(this,a);return null==a?null:a.isSelection()?(a=a.getValue(),this.selectionDataFromValue(a)):a};RoundSlot.prototype.addLabelText=function(a){this.labelText=a};
function DropSlot(a,b,c,d,e,f){null==c&&(c=EditableSlot.inputTypes.select);null==d&&(d=Slot.snapTypes.none);null==e?(DebugOptions.assert(!1!==f),f=!0,e=SelectionData.empty()):null==f&&(f=!1);EditableSlot.call(this,a,b,c,d,Slot.outputTypes.any,e);this.slotShape=new DropSlotShape(this,this.dataToString(e));this.slotShape.show();this.optionsList=[];this.nullable=f}DropSlot.prototype=Object.create(EditableSlot.prototype);DropSlot.prototype.constructor=DropSlot;
DropSlot.prototype.highlight=function(){const a=!this.hasChild;Highlighter.highlight(this.getAbsX(),this.getAbsY(),this.width,this.height,3,a)};DropSlot.prototype.formatTextSummary=function(a){return"["+a+"]"};DropSlot.prototype.addEnterText=function(a){const b={};b.displayText=a;b.isAction=!0;this.optionsList.push(b)};DropSlot.prototype.addOption=function(a,b){null==b&&(b=null);const c={};c.displayText=b;c.data=a;c.isAction=!1;this.optionsList.push(c)};
DropSlot.prototype.populatePad=function(a){this.optionsList.forEach(function(b){b.isAction?a.addAction(b.displayText,function(c){(new InputDialog(this.parent.textSummary(this),!0)).show(this.slotShape,function(){},function(d,e){c(d,!e)},this.enteredData)}.bind(this)):a.addOption(b.data,b.displayText)}.bind(this))};
DropSlot.prototype.createInputSystem=function(){var a=this.getAbsX(),b=this.getAbsY();const c=this.relToAbsX(this.width),d=this.relToAbsY(this.height);a=new InputPad(a,c,b,d);b=new InputWidget.SelectPad;this.populatePad(b);a.addWidget(b);return a};DropSlot.prototype.selectionDataFromValue=function(a){for(let b=0;b<this.optionsList.length;b++){const c=this.optionsList[b];if(!c.isAction&&c.data.getValue()==a)return c.data}return null};DropSlot.prototype.sanitizeNonSelectionData=function(a){return a};
DropSlot.prototype.sanitizeData=function(a){a=EditableSlot.prototype.sanitizeData.call(this,a);return null==a?null:a.isSelection()?(a=a.getValue(),""===a&&this.nullable?SelectionData.empty():this.selectionDataFromValue(a)):this.sanitizeNonSelectionData(a)};function VarDropSlot(a,b){const c=CodeManager.variableList;let d=SelectionData.empty();0<c.length&&(d=c[c.length-1].getSelectionData());DropSlot.call(this,a,b,null,null,d,!0)}VarDropSlot.prototype=Object.create(DropSlot.prototype);
VarDropSlot.prototype.constructor=VarDropSlot;VarDropSlot.prototype.populatePad=function(a){CodeManager.variableList.forEach(function(b){a.addOption(b.getSelectionData())});a.addAction(Language.getStr("Create_Variable"),function(b){CodeManager.newVariable(function(c){b(c.getSelectionData(),!0)},function(){b(null,!1)})})};
VarDropSlot.prototype.selectionDataFromValue=function(a){DebugOptions.validateNonNull(a);if(a.constructor===Variable)return a.getSelectionData();a=CodeManager.findVar(a);return null==a?null:a.getSelectionData()};VarDropSlot.prototype.renameVariable=function(a){null!=this.enteredData&&this.enteredData.getValue()===a&&this.setData(a.getSelectionData(),!1,!0)};
VarDropSlot.prototype.deleteVariable=function(a){null!=this.enteredData&&this.enteredData.getValue()===a&&this.setData(SelectionData.empty(),!1,!0)};VarDropSlot.prototype.checkVariableUsed=function(a){return null!=this.enteredData&&this.enteredData.getValue()===a};function ListDropSlot(a,b,c){null==c&&(c=Slot.snapTypes.none);const d=CodeManager.listList;let e=SelectionData.empty();0<d.length&&(e=d[d.length-1].getSelectionData());DropSlot.call(this,a,b,null,c,e,!0)}ListDropSlot.prototype=Object.create(DropSlot.prototype);
ListDropSlot.prototype.constructor=ListDropSlot;ListDropSlot.prototype.populatePad=function(a){CodeManager.listList.forEach(function(b){a.addOption(b.getSelectionData())});a.addAction(Language.getStr("Create_List"),function(b){CodeManager.newList(function(c){b(c.getSelectionData(),!0)},function(){b(null,!1)})})};
ListDropSlot.prototype.selectionDataFromValue=function(a){DebugOptions.validateNonNull(a);if(a.constructor===List)return a.getSelectionData();a=CodeManager.findList(a);return null==a?null:a.getSelectionData()};ListDropSlot.prototype.renameList=function(a){null!=this.enteredData&&this.enteredData.getValue()===a&&this.setData(a.getSelectionData(),!1,!0);this.passRecursively("renameList",a)};
ListDropSlot.prototype.deleteList=function(a){this.enteredData.isEmpty()||this.enteredData.getValue()!==a||this.setData(SelectionData.empty(),!1,!0);this.passRecursively("deleteList",a)};ListDropSlot.prototype.checkListUsed=function(a){return this.hasChild?DropSlot.prototype.checkListUsed.call(this,a):null!=this.enteredData&&this.enteredData.getValue()===a?!0:!1};
function PortSlot(a,b,c){DropSlot.call(this,a,b,EditableSlot.inputTypes.any,Slot.snapTypes.none,new NumData(1));this.maxPorts=c;for(a=1;a<=this.maxPorts;a++)this.addOption(new NumData(a),Language.getStr("port")+" "+a.toString())}PortSlot.prototype=Object.create(DropSlot.prototype);PortSlot.prototype.constructor=PortSlot;
PortSlot.prototype.sanitizeData=function(a){a=EditableSlot.prototype.sanitizeData.call(this,a);if(null==a)return null;const b=a.asNum().getValueInR(1,this.maxPorts,!0,!0);return new NumData(b,a.isValid)};function BroadcastDropSlot(a,b,c){null==c&&(c=!1);let d=Slot.snapTypes.numStrBool;c&&(d=Slot.snapTypes.none);DropSlot.call(this,a,b,EditableSlot.inputTypes.any,d);c&&this.addOption(new SelectionData(Language.getStr("any_message"),"any_message"))}BroadcastDropSlot.prototype=Object.create(DropSlot.prototype);
BroadcastDropSlot.prototype.constructor=BroadcastDropSlot;BroadcastDropSlot.prototype.populatePad=function(a){DropSlot.prototype.populatePad.call(this,a);CodeManager.updateAvailableMessages();CodeManager.broadcastList.forEach(function(b){a.addOption(new StringData(b),'"'+b+'"')});a.addAction(Language.getStr("new"),function(b){(new InputDialog(this.parent.textSummary(this),!1)).show(this.slotShape,function(){},function(c,d){b(c,!d)},this.enteredData)}.bind(this))};
BroadcastDropSlot.prototype.updateAvailableMessages=function(){null!==this.enteredData&&this.enteredData.type===Data.types.string&&CodeManager.addBroadcastMessage(this.enteredData.getValue())};BroadcastDropSlot.prototype.sanitizeNonSelectionData=function(a){a=a.asString();return a.isValid?a:null};BroadcastDropSlot.prototype.dataToString=function(a){let b=EditableSlot.prototype.dataToString.call(this,a);a.type===Data.types.string&&(b='"'+b+'"');return b};
function DeviceDropSlot(a,b,c,d){this.assignUpdateActive(a);null==d&&(d=!0);this.shortText=d;this.prefixText=c.getDeviceTypeName(d)+" ";d=new SelectionData(this.prefixText+1,0);DropSlot.call(this,a,b,EditableSlot.inputTypes.select,Slot.snapTypes.none,d,!1);this.deviceClass=c;this.labelText=new LabelText(this.parent,this.prefixText.trim());this.labelMode=!1;1>=c.getManager().getSelectableDeviceCount()?this.switchToLabel():this.labelText.hide();this.parent.updateActive()}DeviceDropSlot.prototype=Object.create(DropSlot.prototype);
DeviceDropSlot.prototype.constructor=DeviceDropSlot;DeviceDropSlot.prototype.assignUpdateActive=function(a){const b=this,c=a.checkActive.bind(a);a.checkActive=function(){const d=b.getDataNotFromChild().getValue();return c()&&b.deviceClass.getManager().deviceIsConnected(d)}};DeviceDropSlot.prototype.setData=function(a,b,c){DropSlot.prototype.setData.call(this,a,b,c);this.parent.updateActive()};DeviceDropSlot.prototype.updateConnectionStatus=function(){this.parent.updateActive()};
DeviceDropSlot.prototype.populatePad=function(a){let b=this.deviceClass.getManager().getSelectableDeviceCount();b=Math.max(1,b);for(let c=0;c<b;c++)a.addOption(new SelectionData(this.prefixText+(c+1),c))};DeviceDropSlot.prototype.switchToLabel=function(){this.labelMode||(this.labelMode=!0,this.labelText.show(),this.slotShape.hide(),this.setData(new SelectionData(this.prefixText+1,0),!1,!0))};
DeviceDropSlot.prototype.switchToSlot=function(){this.labelMode&&(this.labelMode=!1,this.labelText.hide(),this.slotShape.show())};DeviceDropSlot.prototype.updateAlign=function(a,b){return this.labelMode?LabelText.prototype.updateAlign.call(this.labelText,a,b):DropSlot.prototype.updateAlign.call(this,a,b)};DeviceDropSlot.prototype.updateDim=function(){this.labelMode?(LabelText.prototype.updateDim.call(this.labelText),this.width=this.labelText.width):DropSlot.prototype.updateDim.call(this)};
DeviceDropSlot.prototype.hideDeviceDropDowns=function(a){this.deviceClass===a&&this.switchToLabel()};DeviceDropSlot.prototype.showDeviceDropDowns=function(a){this.deviceClass===a&&this.switchToSlot()};DeviceDropSlot.prototype.countDevicesInUse=function(a){return this.deviceClass===a?this.getDataNotFromChild().getValue()+1:0};
DeviceDropSlot.prototype.selectionDataFromValue=function(a){a=(new StringData(a)).asNum();if(!a.isValid)return null;a=a.getValueWithC(!0,!0);return 30<=a?null:new SelectionData(this.prefixText+(a+1),a)};DeviceDropSlot.prototype.sanitizeNonSelectionData=function(a){return null};DeviceDropSlot.prototype.makeActive=function(){DropSlot.prototype.makeActive.call(this);this.labelText.makeActive()};DeviceDropSlot.prototype.makeInactive=function(){DropSlot.prototype.makeActive.call(this);this.labelText.makeInactive()};
function SoundDropSlot(a,b,c){DropSlot.call(this,a,b);this.isRecording=c}SoundDropSlot.prototype=Object.create(DropSlot.prototype);SoundDropSlot.prototype.constructor=SoundDropSlot;SoundDropSlot.prototype.createInputSystem=function(){const a=this.getAbsX(),b=this.getAbsY(),c=this.relToAbsX(this.width),d=this.relToAbsY(this.height);return new SoundInputPad(a,c,b,d,this.isRecording)};SoundDropSlot.prototype.sanitizeNonSelectionData=function(a){return null};
SoundDropSlot.prototype.selectionDataFromValue=function(a){if(this.isRecording)return new SelectionData(a,a);let b=Sound.lookupById(a);return null!=b?new SelectionData(b.name,b.id):new SelectionData(a,a)};SoundDropSlot.prototype.renameRecording=function(a,b){this.isRecording&&this.enteredData.getValue()===a&&this.setData(new SelectionData(b,b),!0,!0)};SoundDropSlot.prototype.deleteRecording=function(a){this.isRecording&&this.enteredData.getValue()===a&&this.setData(SelectionData.empty(),!0,!0)};
function BoolSlot(a,b){HexSlot.call(this,a,b,Slot.snapTypes.bool)}BoolSlot.prototype=Object.create(HexSlot.prototype);BoolSlot.prototype.constructor=BoolSlot;function NumSlot(a,b,c,d,e){null==d&&(d=!1);null==e&&(e=!1);RoundSlot.call(this,a,b,EditableSlot.inputTypes.num,Slot.snapTypes.numStrBool,Slot.outputTypes.num,new NumData(c),d,e);this.maxVal=this.minVal=null}NumSlot.prototype=Object.create(RoundSlot.prototype);NumSlot.prototype.constructor=NumSlot;
NumSlot.prototype.addLimits=function(a,b,c){this.minVal=a;this.maxVal=b;null!=a&&null!=b&&(this.labelText=null==c?"("+a+" - "+b+")":c+" ("+a+" - "+b+")")};NumSlot.prototype.sanitizeData=function(a){a=RoundSlot.prototype.sanitizeData.call(this,a);if(null==a)return null;const b=a.asNum().getValueInR(this.minVal,this.maxVal,this.positive,this.integer);return new NumData(b,a.isValid)};function NoteSlot(a,b,c,d,e){NumSlot.call(this,a,b,c,d,e)}NoteSlot.prototype=Object.create(NumSlot.prototype);
NoteSlot.prototype.constructor=NoteSlot;NoteSlot.prototype.createInputSystem=function(){var a=this.getAbsX();const b=this.getAbsY(),c=this.relToAbsX(this.width),d=this.relToAbsY(this.height),e=InputWidget.Piano.noteStrings[this.enteredData.getValue()];this.label=new InputWidget.Label(e);a=new InputPad(a,c,b,d);a.addWidget(this.label);a.addWidget(new InputWidget.Piano(0));return a};
NoteSlot.prototype.updateEdit=function(a){Object.getPrototypeOf(Object.getPrototypeOf(this)).updateEdit.call(this,a);a=this.enteredData.getValue();const b=InputWidget.Piano.inputPadWidth;GuiElements.update.textLimitWidth(this.label.textE,InputWidget.Piano.noteStrings[a],b);const c=GuiElements.measure.textWidth(this.label.textE);GuiElements.move.text(this.label.textE,b/2-c/2,this.label.textY);HtmlServer.sendTabletSoundRequest(a,CodeManager.beatsToMs(.5))};
function StringSlot(a,b,c){RectSlot.call(this,a,b,Slot.snapTypes.numStrBool,Slot.outputTypes.string,new StringData(c))}StringSlot.prototype=Object.create(RectSlot.prototype);StringSlot.prototype.constructor=StringSlot;function NumOrStringSlot(a,b,c){RoundSlot.call(this,a,b,EditableSlot.inputTypes.any,Slot.snapTypes.numStrBool,Slot.outputTypes.any,c,!1,!1)}NumOrStringSlot.prototype=Object.create(RoundSlot.prototype);NumOrStringSlot.prototype.constructor=NumOrStringSlot;
NumOrStringSlot.prototype.populatePad=function(a){a.addAction(Language.getStr("Edit_text"),function(b){(new InputDialog(this.parent.textSummary(this),!0)).show(this.slotShape,function(){},function(c,d){b(c,!d)},this.enteredData)}.bind(this))};
function IndexSlot(a,b,c){RoundSlot.call(this,a,b,EditableSlot.inputTypes.any,Slot.snapTypes.numStrBool,Slot.outputTypes.any,new NumData(1),!0,!0);this.addOption(new SelectionData(Language.getStr("last"),"last"));this.addOption(new SelectionData(Language.getStr("random"),"random"));c&&this.addOption(new SelectionData(Language.getStr("all"),"all"))}IndexSlot.prototype=Object.create(RoundSlot.prototype);IndexSlot.prototype.constructor=IndexSlot;
IndexSlot.prototype.sanitizeData=function(a){a=RoundSlot.prototype.sanitizeData.call(this,a);if(null==a)return null;if(!a.isSelection()){a=a.asNum();if(!a.isValid)return null;a=a.getValueWithC(!0,!0);a=Math.max(1,a);return new NumData(a)}return a};function ToggleSlot(a,b,c){BoolSlot.call(this,a,b);this.isTrue=new BoolData(c);this.isTrue.getValue()&&this.slotShape.slotE.setAttributeNS(null,"fill",Colors.red)}ToggleSlot.prototype=Object.create(BoolSlot.prototype);ToggleSlot.prototype.constructor=ToggleSlot;
ToggleSlot.prototype.setVal=function(a){this.isTrue=new BoolData(a);this.isTrue.getValue()?this.slotShape.slotE.setAttributeNS(null,"fill",Colors.red):BlockGraphics.update.hexSlotGradient(this.slotShape.slotE,this.parent.category,this.slotShape.active)};ToggleSlot.prototype.onTap=function(){this.setVal(!this.isTrue.getValue())};ToggleSlot.prototype.getDataNotFromChild=function(){return this.isTrue};
ToggleSlot.prototype.makeActive=function(){Slot.prototype.makeActive.call(this);this.isTrue.getValue()&&this.slotShape.slotE.setAttributeNS(null,"fill",Colors.red)};ToggleSlot.prototype.makeInactive=function(){Slot.prototype.makeInactive.call(this);this.isTrue.getValue()&&this.slotShape.slotE.setAttributeNS(null,"fill",Colors.red)};
ToggleSlot.prototype.createXml=function(a){let b=Slot.prototype.createXml.call(this,a),c=XmlWriter.createElement(a,"isTrue");c.appendChild(this.isTrue.createXml(a));b.appendChild(c);return b};ToggleSlot.prototype.importXml=function(a){Slot.prototype.importXml.call(this,a);a=XmlWriter.findSubElement(a,"isTrue");a=XmlWriter.findSubElement(a,"data");null!=a&&(a=Data.importXml(a),null!=a&&this.setVal(a.getValue()));return this};
ToggleSlot.prototype.copyFrom=function(a){Slot.prototype.copyFrom.call(this,a);this.setVal(a.isTrue.getValue())};function BlockSlot(a){this.parent=a;this.child=null;this.hasChild=!1;this.y=this.x=this.width=this.height=0;this.isBlockSlot=!0;this.isRunning=!1;this.currentBlock=null}BlockSlot.prototype.getAbsX=function(){return this.parent.stack.relToAbsX(this.x)};BlockSlot.prototype.getAbsY=function(){return this.parent.stack.relToAbsY(this.y)};
BlockSlot.prototype.updateDim=function(){this.hasChild?(this.child.updateDim(),this.height=this.child.addHeights(),FinchBlox&&(this.height=this.child.getMaxHeight()),this.width=this.child.addWidths()):(this.height=BlockGraphics.loop.bottomH,this.width=BlockGraphics.loop.armW,FinchBlox&&(this.width=BlockGraphics.command.width))};BlockSlot.prototype.updateAlign=function(a,b){this.x=a;this.y=b;this.hasChild&&this.child.updateAlign(a,b)};
BlockSlot.prototype.snap=function(a){if(!a.getLastBlock().bottomOpen&&null!=this.child){var b=BlockGraphics.command;this.child.unsnap().shiftOver(b.shiftX,a.stack.getHeight()+b.shiftY)}b=this.parent.stack;null!=b&&null!=a.stack&&(a.stack.stop(),b.isRunning&&a.glow());a.parent=this;if(this.hasChild){var c=a.getLastBlock();const d=this.child;c.nextBlock=d;d.parent=c}this.hasChild=!0;this.child=a;null!=a.stack&&(c=a.stack.group,a.stack.remove(),a.changeStack(this.parent.stack),c.remove());null!=b&&(this.parent.stack.updateDim(),
Hatchling&&mbRuntime.saveChunk(this.parent.stack.firstBlock))};BlockSlot.prototype.changeStack=function(a){this.hasChild&&this.child.changeStack(a)};BlockSlot.prototype.updateStackDim=function(){this.hasChild&&this.child.updateStackDim()};BlockSlot.prototype.removeChild=function(){this.hasChild=!1;this.child=null};
BlockSlot.prototype.findBestFit=function(a){var b=CodeManager.move;let c=CodeManager.fit;null!=a&&(b=a.move,c=a.fit);var d=this.getAbsX();const e=this.getAbsY();if(b.topOpen){const f=BlockGraphics.command.snap;CodeManager.move.pInRange(b.topX,b.topY,d-f.left,e-f.top,f.left+f.right,f.top+f.bottom)&&(d=b.topX-d,b=b.topY-e,b=d*d+b*b,!c.found||b<c.dist)&&(c.found=!0,c.bestFit=this,c.dist=b)}this.hasChild&&this.child.findBestFit(a)};
BlockSlot.prototype.highlight=function(){Highlighter.highlight(this.getAbsX(),this.getAbsY(),0,0,0,!1,this.parent.isGlowing)};BlockSlot.prototype.copyFrom=function(a){a.hasChild&&this.snap(a.child.duplicate(0,0))};BlockSlot.prototype.startRun=function(){!this.isRunning&&this.hasChild&&(this.isRunning=!0,this.currentBlock=this.child)};BlockSlot.prototype.stop=function(){this.isRunning&&this.hasChild&&this.child.stop();this.isRunning=!1};
BlockSlot.prototype.updateRun=function(){if(this.isRunning){if(this.currentBlock.stack!==this.parent.stack)return this.isRunning=!1,new ExecutionStatusDone;let a=this.currentBlock.updateRun();if(!a.isRunning()){if(a.hasError())return this.isRunning=!1,a;this.currentBlock=this.currentBlock.nextBlock}if(null!=this.currentBlock)return new ExecutionStatusRunning;this.isRunning=!1}return new ExecutionStatusDone};BlockSlot.prototype.glow=function(){this.hasChild&&this.child.glow()};
BlockSlot.prototype.stopGlow=function(){this.hasChild&&this.child.stopGlow()};BlockSlot.prototype.updateAvailableMessages=function(){this.hasChild&&this.child.updateAvailableMessages()};BlockSlot.prototype.createXml=function(a){const b=XmlWriter.createElement(a,"blockSlot");if(this.hasChild){const c=XmlWriter.createElement(a,"blocks");this.child.writeToXml(a,c);b.appendChild(c)}return b};
BlockSlot.prototype.importXml=function(a){a=XmlWriter.findSubElement(a,"blocks");a=XmlWriter.findSubElements(a,"block");if(0<a.length){var b=null;let c=0;for(;null==b&&c<a.length;)b=Block.importXml(a[c]),c++;if(null!=b)for(this.snap(b);c<a.length;){const d=Block.importXml(a[c]);null!=d&&(b.snap(d),b=d);c++}}};BlockSlot.prototype.renameVariable=function(a){this.passRecursively("renameVariable",a)};BlockSlot.prototype.deleteVariable=function(a){this.passRecursively("deleteVariable",a)};
BlockSlot.prototype.renameList=function(a){this.passRecursively("renameList",a)};BlockSlot.prototype.deleteList=function(a){this.passRecursively("deleteList",a)};BlockSlot.prototype.checkVariableUsed=function(a){return this.hasChild?this.child.checkVariableUsed(a):!1};BlockSlot.prototype.checkListUsed=function(a){return this.hasChild?this.child.checkListUsed(a):!1};BlockSlot.prototype.countDevicesInUse=function(a){return this.hasChild?this.child.countDevicesInUse(a):0};
BlockSlot.prototype.passRecursivelyDown=function(a){Array.prototype.unshift.call(arguments,"passRecursivelyDown");this.passRecursively.apply(this,arguments)};BlockSlot.prototype.passRecursively=function(a){const b=Array.prototype.slice.call(arguments,1);this.hasChild&&this.child[a].apply(this.child,b)};
function LabelText(a,b,c){DebugOptions.validateNonNull(a,b);this.text=b;this.width=0;this.height=BlockGraphics.labelText.font.charHeight;this.y=this.x=0;this.parent=a;this.textE=this.generateText(b);this.isSlot=!1;this.visible=!0;this.disabledColor=c}LabelText.prototype=Object.create(BlockPart.prototype);LabelText.prototype.constructor=LabelText;LabelText.prototype.updateAlign=function(a,b){this.move(a,b+this.height/2);return this.width};
LabelText.prototype.updateDim=function(){0===this.width&&(GuiElements.layers.temp.appendChild(this.textE),this.width=GuiElements.measure.textWidth(this.textE),this.textE.remove(),this.parent.group.appendChild(this.textE))};LabelText.prototype.generateText=function(a){a=BlockGraphics.create.labelText(a,this.parent.group);TouchReceiver.addListenersChild(a,this.parent);return a};LabelText.prototype.move=function(a,b){this.x=a;this.y=b;BlockGraphics.update.text(this.textE,a,b)};
LabelText.prototype.textSummary=function(){return this.text};LabelText.prototype.show=function(){this.visible||(this.parent.group.appendChild(this.textE),this.visible=!0)};LabelText.prototype.hide=function(){this.visible&&(this.textE.remove(),this.visible=!1)};LabelText.prototype.remove=function(){this.textE.remove()};LabelText.prototype.makeActive=function(){GuiElements.update.color(this.textE,BlockGraphics.labelText.fill)};
LabelText.prototype.makeInactive=function(){null!=this.disabledColor?GuiElements.update.color(this.textE,this.disabledColor):GuiElements.update.color(this.textE,BlockGraphics.labelText.disabledFill)};
function BlockIcon(a,b,c,d,e,f){DebugOptions.validateNonNull(a,b,c,d);DebugOptions.validateNumbers(e);this.pathId=b;this.color=c;this.altText=d;this.width=VectorIcon.computeWidth(b,e);this.height=e;this.y=this.x=0;this.parent=a;this.icon=new VectorIcon(0,0,b,c,e,this.parent.group,!1,f);TouchReceiver.addListenersChild(this.icon.pathE,this.parent);this.isSlot=!1;this.xOffset=0;this.rotation=f}BlockIcon.prototype=Object.create(BlockPart.prototype);BlockIcon.prototype.constructor=BlockIcon;
BlockIcon.prototype.updateIcon=function(a){this.icon.remove();this.icon=new VectorIcon(0,0,a,this.color,this.height,this.parent.group,!1,this.rotation);TouchReceiver.addListenersChild(this.icon.pathE,this.parent);this.move(this.x,this.y)};BlockIcon.prototype.updateAlign=function(a,b){DebugOptions.validateNumbers(a,b);this.move(a,b-this.height/2);return this.width};BlockIcon.prototype.updateDim=function(){};
BlockIcon.prototype.move=function(a,b){DebugOptions.validateNumbers(a,b);this.x=a;this.y=b;this.icon.move(a+this.xOffset,b);null!=this.textE&&GuiElements.move.text(this.textE,this.x+this.textXOffset,this.y+this.textYOffset);null!=this.negateG&&GuiElements.move.group(this.negateG,this.x,this.y);null!=this.icon2&&this.icon2.move(a+this.icon2xOffset,b+this.icon2yOffset);null!=this.obstacle&&GuiElements.move.element(this.obstacle,this.x+this.xOffset,this.y)};BlockIcon.prototype.textSummary=function(){return this.altText};
BlockIcon.prototype.addSecondIcon=function(a,b,c,d,e){null==c&&(c=!1);null==d&&(d=this.height);null==e&&(e=0);c?(c=VectorIcon.computeWidth(a,d),c>this.width?(this.xOffset=c/2-this.width/2,this.icon2xOffset=0,this.width=c):this.icon2xOffset=this.width/2-c/2,this.icon2yOffset=this.height+e,this.height+=d+e,this.icon2=new VectorIcon(0,0,a,b,d,this.parent.group),TouchReceiver.addListenersChild(this.icon2.pathE,this.parent)):(this.icon.addSecondPath(a,b,c),TouchReceiver.addListenersChild(this.icon.pathE2,
this.parent))};
BlockIcon.prototype.addText=function(a,b,c){null!=this.textE&&this.parent.group.removeChild(this.textE);const d=Font.uiFont(28);this.textXOffset=b;this.textYOffset=c+d.charHeight/2;this.textE=GuiElements.draw.text(this.x+this.textXOffset,this.y+this.textYOffset,a,d,this.color);this.parent.group.appendChild(this.textE);TouchReceiver.addListenersChild(this.textE,this.parent);GuiElements.measure.textHeight(this.textE);a=GuiElements.measure.textWidth(this.textE);this.height=this.textYOffset;this.width=
this.textXOffset+a};BlockIcon.prototype.addBackgroundRect=function(){this.icon.addBackgroundRect();TouchReceiver.addListenersChild(this.icon.bgRect,this.parent)};
BlockIcon.prototype.negate=function(a){this.negateG=GuiElements.create.group(this.x,this.y,this.parent.group);const b=this.width/2,c=this.x+b,d=this.y+b;var e=GuiElements.draw.circle(c,d,b,"none",this.negateG);GuiElements.update.stroke(e,a,3);e=GuiElements.create.path(this.negateG);let f="M "+(c+b*Math.cos(315*Math.PI/180))+",";f+=d+b*Math.sin(315*Math.PI/180);f+=" L "+(c+b*Math.cos(135*Math.PI/180))+",";f+=d+b*Math.sin(135*Math.PI/180);e.setAttributeNS(null,"d",f);GuiElements.update.stroke(e,a,3)};
BlockIcon.prototype.addObstacle=function(a){30>this.width?(this.xOffset=0,this.icon2xOffset=15-this.width/2,this.width=30):this.xOffset=this.width/2-15;this.xOffset-=5;this.icon2yOffset=12;this.height+=12;this.icon2=this.icon;this.obstacle=GuiElements.draw.rect(-5,0,40,7,a,1.5,1.5);this.parent.group.appendChild(this.obstacle);TouchReceiver.addListenersChild(this.obstacle,this.parent)};BlockIcon.prototype.remove=function(){this.icon.group.remove()};
function BlockButton(a,b){this.buttonMargin=1/9*BlockPalette.blockButtonOverhang*2;this.lineHeight=8/9*BlockPalette.blockButtonOverhang*2;this.cornerRadius=BlockPalette.blockButtonOverhang;this.height=this.blockButtonMargin+this.lineHeight;this.width=b?b:60;this.textColor=Colors.bbtDarkGray;this.font=Font.uiFont(12);this.outlineStroke=1;Hatchling&&(this.buttonMargin*=.66,this.lineHeight*=.66,this.cornerRadius*=.66,this.height=this.blockButtonMargin+this.lineHeight,this.width=b?b:30,this.textColor=
Colors.bbtDarkGray,this.font=Font.uiFont(7.92),this.outlineStroke=1);this.parent=a;this.y=this.x=0;this.widgets=[];this.displaySuffixes=[];this.values=[];this.popupIsDisplayed=!1;this.outlineColor=Colors.blockOutline[a.category];null==this.outlineColor&&(this.outlineColor=Colors.categoryColors[a.category]);null==this.outlineColor&&(this.outlineColor=Colors.iron);const c=this;this.callbackFunction=function(){c.parent.stack.isDisplayStack||(c.createInputSystem().show(null,c.updateValue.bind(c),function(){SaveManager.markEdited();
c.popupIsDisplayed=!1},c.values,c.outlineColor,a),c.popupIsDisplayed=!0)};this.isSlot=!1;a.blockButton=this;Hatchling&&a.blockButtons.push(this)}BlockButton.prototype=Object.create(BlockPart.prototype);BlockButton.prototype.constructor=BlockButton;
BlockButton.prototype.draw=function(){null!=this.button&&this.button.remove();this.button=new Button(this.x,this.y,this.width,this.height,this.parent.group,Colors.white,this.cornerRadius,this.cornerRadius);GuiElements.update.stroke(this.button.bgRect,this.outlineColor,this.outlineStroke);this.button.setCallbackFunction(this.callbackFunction,!0)};
BlockButton.prototype.updateAlign=function(a,b){DebugOptions.validateNumbers(a,b);this.move(a,b);null===this.parent.stack||this.parent.stack.isDisplayStack?(this.button.hide(),this.isHidden=!0):this.isHidden&&(this.button.show(),this.isHidden=!1);return this.width};BlockButton.prototype.updateDim=function(){};BlockButton.prototype.move=function(a,b){DebugOptions.validateNumbers(a,b);this.x=a;this.y=b;this.button.move(a,b)};
BlockButton.prototype.updateValue=function(a,b){this.values[b]=a;a=[];for(b=0;b<this.widgets.length;b++){a[b]="";if("object"==typeof this.values[b]&&null!=this.values[b].r){var c=Colors.rgbToHex(2.55*this.values[b].r,2.55*this.values[b].g,2.55*this.values[b].b);if(1==this.widgets.length)this.button.updateBgColor(c);else{null!=this.colorLabel&&this.colorLabel.remove();var d=this.button.width,e=this.button.height/this.widgets.length,f=this.cornerRadius;this.colorLabel=GuiElements.draw.tab(0,b*e,d,e,
c,f);this.button.group.appendChild(this.colorLabel);TouchReceiver.addListenersBN(this.colorLabel,this.button);for(c=0;c<this.widgets.length;c++)if(c!=b&&(0==c||c==this.widgets.length-1)){const g=GuiElements.draw.tab(0,c*e,d,e,Colors.white,f,!0);this.button.group.appendChild(g);TouchReceiver.addListenersBN(g,this.button)}this.button.bgRect.remove();GuiElements.update.color(this.button.bgRect,"none");this.button.group.appendChild(this.button.bgRect)}}else this.widgets[b].type.startsWith("color_")?3==
this.widgets.length&&null!=this.values[0]&&null!=this.values[1]&&null!=this.values[2]&&(d=Colors.rgbToHex(2.55*this.values[0],2.55*this.values[1],2.55*this.values[2]),this.button.updateBgColor(d)):"colorPicker"==this.widgets[b].type?this.button.updateBgColor(this.values[b]):"piano"==this.widgets[b].type?a[b]=InputWidget.Piano.noteStrings[this.values[b]]:"ledArray"==this.widgets[b].type?(null!=this.ledArrayImage&&this.ledArrayImage.group.remove(),d=GuiElements.draw.ledArray(this.button.group,this.values[b],
1.8),GuiElements.move.group(d.group,this.button.width/2-d.width/2,(b+1)*this.button.height/(this.widgets.length+1)-d.width/2),this.ledArrayImage=d):"sensor"==this.widgets[b].type?(null!=this.sensorIcon&&this.sensorIcon.remove(),d=this.values[b],e=VectorIcon.computeWidth(d,11),this.sensorIcon=new VectorIcon(this.button.width/2-e/2,this.button.height/2-5.5,d,Colors.bbtDarkGray,11,this.button.group),TouchReceiver.addListenersBN(this.sensorIcon.group,this.button)):this.widgets[b].type.endsWith("clockwise")?
(a[b]=this.values[b].toString()+this.displaySuffixes[b],d=this.widgets[b].type.split("_")[1],d!=this.parent.direction&&(this.parent.direction=d,this.parent.blockIcon.updateIcon(VectorPaths[B_FBMotion.iconPaths[d]]))):a[b]=this.values[b].toString()+this.displaySuffixes[b];"time"==this.widgets[b].type&&(null!=this.timeIcon&&this.timeIcon.remove(),d=a[b]+"....",a[b]+="    ",d=GuiElements.measure.stringWidth(d,this.font),e=VectorPaths.faClock,f=VectorIcon.computeWidth(e,11),this.timeIcon=new VectorIcon(this.button.width/
2+d/2-f,(b+1)*this.button.height/(this.widgets.length+1)-5.5+.75,e,Colors.bbtDarkGray,11,this.button.group))}this.button.addMultiText(a,this.font,this.textColor);this.parent.updateValues();Hatchling&&null!=this.parent.stack&&!this.parent.stack.isDisplayStack&&mbRuntime.saveChunk(this.parent.stack.firstBlock)};
BlockButton.prototype.createInputSystem=function(){const a=this.getAbsX(),b=this.getAbsY(),c=this.relToAbsX(this.width),d=this.relToAbsY(this.height),e=new InputPad(a,c,b,d);this.widgets.forEach(function(f){e.addWidget(f)});return e};
BlockButton.prototype.addSlider=function(a,b,c){let d;switch(a){case "distance":d=" cm";break;case "percent":d="%";break;case "angle_left":case "angle_right":case "angle_clockwise":case "angle_counterclockwise":d="\u00b0";break;default:d=""}a=new InputWidget.Slider(a,c,b,Colors.categoryColors[this.parent.category],d,this.widgets.length);this.addWidget(a,d,b)};BlockButton.prototype.addPiano=function(a){this.addWidget(new InputWidget.Piano(this.widgets.length),"",a)};
BlockButton.prototype.addColorPicker=function(a){this.addWidget(new InputWidget.Color(this.widgets.length),"",a)};BlockButton.prototype.addWidget=function(a,b,c){this.widgets.push(a);this.displaySuffixes.push(b);this.values.push(c);this.height=this.buttonMargin+this.lineHeight*this.widgets.length;this.widgets[0].type.startsWith("color_")&&(this.height=this.buttonMargin+this.lineHeight);this.draw();a=this.widgets.length-1;this.updateValue(this.values[a],a)};
BlockButton.prototype.relToAbsX=function(a){return this.parent.relToAbsX(a+this.x)};BlockButton.prototype.relToAbsY=function(a){return this.parent.relToAbsY(a+this.y)};BlockButton.prototype.absToRelX=function(a){return this.parent.absToRelX(a)-this.x};BlockButton.prototype.absToRelY=function(a){return this.parent.absToRelY(a)-this.y};BlockButton.prototype.getAbsX=function(){return this.relToAbsX(0)};BlockButton.prototype.getAbsY=function(){return this.relToAbsY(0)};
BlockButton.prototype.getAbsWidth=function(){return this.relToAbsX(this.width)-this.getAbsX()};BlockButton.prototype.getAbsHeight=function(){return this.relToAbsY(this.height)-this.getAbsY()};
BlockButton.prototype.createXml=function(a){a=XmlWriter.createElement(a,"blockButton");for(var b=0;b<this.values.length;b++)"color"==this.widgets[b].type?XmlWriter.setAttribute(a,"value_"+b,"colorData_"+this.values[b].r+"_"+this.values[b].g+"_"+this.values[b].b):XmlWriter.setAttribute(a,"value_"+b,this.values[b]);return a};
BlockButton.prototype.importXml=function(a){for(var b=0,c=XmlWriter.getAttribute(a,"value_"+b);null!=c;){if(c.startsWith("colorData")){c=c.split("_");const d={};d.r=c[1];d.g=c[2];d.b=c[3];this.updateValue(d,b)}else"number"===typeof this.values[b]?this.updateValue(parseFloat(c),b):this.updateValue(c,b);b++;c=XmlWriter.getAttribute(a,"value_"+b)}};BlockButton.prototype.remove=function(){this.button.remove()};
function B_DeviceWithPortsSensorBase(a,b,c,d,e,f){ReporterBlock.call(this,a,b,c.getDeviceTypeId());this.deviceClass=c;this.sensorType=d;this.displayName=e;this.numberOfPorts=f;this.addPart(new DeviceDropSlot(this,"DDS_1",c));this.addPart(new LabelText(this,e));this.addPart(new PortSlot(this,"PortS_1",f))}B_DeviceWithPortsSensorBase.prototype=Object.create(ReporterBlock.prototype);B_DeviceWithPortsSensorBase.prototype.constructor=B_DeviceWithPortsSensorBase;
B_DeviceWithPortsSensorBase.prototype.startAction=function(){var a=this.slots[0].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;let b=this.runMem,c=this.slots[1].getData().getValue();if(null!=c&&0<c&&c<=this.numberOfPorts)return b.requestStatus={},b.requestStatus.finished=!1,b.requestStatus.error=!1,b.requestStatus.result=null,a.readSensor(b.requestStatus,this.sensorType,c),new ExecutionStatusRunning;
this.displayError("Invalid port number");return new ExecutionStatusError};B_DeviceWithPortsSensorBase.prototype.updateAction=function(){var a=this.runMem.requestStatus;if(a.finished){if(a.error)return this.displayError(this.deviceClass.getNotConnectedMessage(a.code,a.result)),new ExecutionStatusError;a=(new StringData(a.result)).asNum().getValue();return new ExecutionStatusResult(new NumData(Math.round(a)))}return new ExecutionStatusRunning};
function B_DeviceWithPortsOutputBase(a,b,c,d,e,f,g,h,k,l,m){CommandBlock.call(this,a,b,c.getDeviceTypeId());this.deviceClass=c;this.outputType=d;this.numberOfPorts=f;this.minVal=h;this.maxVal=k;this.positive=0<=h;this.valueKey=g;this.displayUnits=l;this.defaultValue=null==m?0:m;this.addPart(new DeviceDropSlot(this,"DDS_1",c));this.addPart(new PortSlot(this,"PortS_1",f));a=new NumSlot(this,"NumS_out",this.defaultValue,this.positive,!0);a.addLimits(this.minVal,this.maxVal,l);this.addPart(a);this.parseTranslation(Language.getStr(e))}
B_DeviceWithPortsOutputBase.prototype=Object.create(CommandBlock.prototype);B_DeviceWithPortsOutputBase.prototype.constructor=B_DeviceWithPortsOutputBase;
B_DeviceWithPortsOutputBase.prototype.startAction=function(){var a=this.slots[0].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;let b=this.runMem,c=this.slots[1].getData().getValue(),d=this.slots[2].getData().getValueInR(this.minVal,this.maxVal,this.positive,!0);if(null!=c&&0<c&&c<=this.numberOfPorts)return b.requestStatus={},b.requestStatus.finished=!1,b.requestStatus.error=
!1,b.requestStatus.result=null,a.setOutput(b.requestStatus,this.outputType,c,d,this.valueKey),new ExecutionStatusRunning;this.displayError("Invalid port number");return new ExecutionStatusError};B_DeviceWithPortsOutputBase.prototype.updateAction=function(){if(this.runMem.requestStatus.finished){if(this.runMem.requestStatus.error){let a=this.runMem.requestStatus;this.displayError(this.deviceClass.getNotConnectedMessage(a.code,a.result));return new ExecutionStatusError}return new ExecutionStatusDone}return new ExecutionStatusRunning};
function B_DeviceWithPortsTriLed(a,b,c,d){CommandBlock.call(this,a,b,c.getDeviceTypeId());this.deviceClass=c;this.numberOfPorts=d;this.addPart(new DeviceDropSlot(this,"DDS_1",c,!0));this.addPart(new PortSlot(this,"PortS_1",d));a=new NumSlot(this,"NumS_r",0,!0,!0);a.addLimits(0,100,Language.getStr("Intensity"));this.addPart(a);a=new NumSlot(this,"NumS_g",0,!0,!0);a.addLimits(0,100,Language.getStr("Intensity"));this.addPart(a);a=new NumSlot(this,"NumS_b",0,!0,!0);a.addLimits(0,100,Language.getStr("Intensity"));
this.addPart(a);this.parseTranslation(Language.getStr("block_Tri_LED"))}B_DeviceWithPortsTriLed.prototype=Object.create(CommandBlock.prototype);B_DeviceWithPortsTriLed.prototype.constructor=B_DeviceWithPortsTriLed;
B_DeviceWithPortsTriLed.prototype.startAction=function(){var a=this.slots[0].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;let b=this.runMem;b.requestStatus={};let c=this.slots[1].getData().getValue(),d=this.slots[2].getData().getValueInR(0,100,!0,!0),e=this.slots[3].getData().getValueInR(0,100,!0,!0),f=this.slots[4].getData().getValueInR(0,100,!0,!0);if(null!=c&&0<c&&c<=this.numberOfPorts)return a.setTriLed(b.requestStatus,
c,d,e,f),new ExecutionStatusRunning;this.displayError("Invalid port number");return new ExecutionStatusError};B_DeviceWithPortsTriLed.prototype.updateAction=function(){if(this.runMem.requestStatus.finished){if(this.runMem.requestStatus.error){let a=this.runMem.requestStatus;this.displayError(this.deviceClass.getNotConnectedMessage(a.code,a.result));return new ExecutionStatusError}return new ExecutionStatusDone}return new ExecutionStatusRunning};
function B_DeviceWithPortsBuzzer(a,b,c){CommandBlock.call(this,a,b,c.getDeviceTypeId());this.deviceClass=c;this.minNote=32;this.maxNote=135;this.minBeat=0;this.maxBeat=16;this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass));a=new NoteSlot(this,"Note_out",60,!0,!0);a.addLimits(this.minNote,this.maxNote,Language.getStr("Note"));this.addPart(a);a=new NumSlot(this,"Beats_out",1,!0,!1);a.addLimits(this.minBeat,this.maxBeat,Language.getStr("Beats"));this.addPart(a);this.parseTranslation(Language.getStr("block_Play_Note"))}
B_DeviceWithPortsBuzzer.prototype=Object.create(CommandBlock.prototype);B_DeviceWithPortsBuzzer.prototype.constructor=B_DeviceWithPortsBuzzer;
B_DeviceWithPortsBuzzer.prototype.startAction=function(){var a=this.slots[0].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;const b=this.runMem,c=this.slots[1].getData().getValueInR(this.minNote,this.maxNote,!0,!0),d=this.slots[2].getData().getValueInR(this.minBeat,this.maxBeat,!0,!1);b.soundDuration=CodeManager.beatsToMs(d);b.timerStarted=!1;b.requestStatus={};b.requestStatus.finished=
!1;b.requestStatus.error=!1;b.requestStatus.result=null;0<b.soundDuration?a.setBuzzer(b.requestStatus,c,b.soundDuration):b.requestStatus.finished=!0;return new ExecutionStatusRunning};B_DeviceWithPortsBuzzer.prototype.updateAction=function(){const a=this.runMem;if(!a.timerStarted)if(!0===a.requestStatus.finished)a.startTime=(new Date).getTime(),a.timerStarted=!0;else return new ExecutionStatusRunning;return(new Date).getTime()>=a.startTime+a.soundDuration?new ExecutionStatusDone:new ExecutionStatusRunning};
function B_MicroBitLedArray(a,b,c){CommandBlock.call(this,a,b,c.getDeviceTypeId());this.deviceClass=c;this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass));a=new LabelText(this,Language.getStr("block_LED_Display"));a.isEndOfLine=!0;this.addPart(a);for(a=0;5>a;a++)this.addPart(new ToggleSlot(this,"Toggle_led1"+a,!1)),this.addPart(new ToggleSlot(this,"Toggle_led2"+a,!1)),this.addPart(new ToggleSlot(this,"Toggle_led3"+a,!1)),this.addPart(new ToggleSlot(this,"Toggle_led4"+a,!1)),b=new ToggleSlot(this,
"Toggle_led5"+a,!1),b.isEndOfLine=!0,this.addPart(b)}B_MicroBitLedArray.prototype=Object.create(CommandBlock.prototype);B_MicroBitLedArray.prototype.constructor=B_MicroBitLedArray;
B_MicroBitLedArray.prototype.startAction=function(){var a=this.slots[0].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;let b="";for(var c=0;25>c;c++)b=this.slots[c+1].getData().getValue()?b+"1":b+"0";c=this.runMem;c.requestStatus={};c.requestStatus.finished=!1;c.requestStatus.error=!1;c.requestStatus.result=null;a.setLedArray(c.requestStatus,b);return new ExecutionStatusRunning};
B_MicroBitLedArray.prototype.updateAction=B_DeviceWithPortsOutputBase.prototype.updateAction;function B_MicroBitPrint(a,b,c){CommandBlock.call(this,a,b,c.getDeviceTypeId());this.deviceClass=c;this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass));this.addPart(new StringSlot(this,"StrS_1","HELLO"));this.parseTranslation(Language.getStr("block_Print"))}B_MicroBitPrint.prototype=Object.create(CommandBlock.prototype);B_MicroBitPrint.prototype.constructor=B_MicroBitPrint;
B_MicroBitPrint.prototype.startAction=function(){var a=this.slots[0].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;let b=this.runMem,c=this.slots[1].getData().getValue();b.blockDuration=600*c.length;b.timerStarted=!1;b.requestSent=!1;b.printString=c;b.device=a;b.requestStatus={};b.requestStatus.finished=!1;b.requestStatus.error=!1;b.requestStatus.result=null;return new ExecutionStatusRunning};
B_MicroBitPrint.prototype.updateAction=function(){const a=this.runMem;if(!a.timerStarted){var b=a.requestStatus;if(a.requestSent)if(!0===b.finished)a.startTime=(new Date).getTime(),a.timerStarted=!0;else return new ExecutionStatusRunning;else{b=a.printString;const c=b.substring(0,10);a.device.readPrintBlock(a.requestStatus,c);a.blockDuration=600*c.length;a.requestSent=!0;a.printString=10<b.length?b.substring(10):null;return new ExecutionStatusRunning}}return(new Date).getTime()>=a.startTime+a.blockDuration?
null!=a.printString?(a.requestSent=!1,a.timerStarted=!1,a.requestStatus.finish=!1,new ExecutionStatusRunning):new ExecutionStatusDone:new ExecutionStatusRunning};
function B_MicroBitButton(a,b,c){PredicateBlock.call(this,a,b,c.getDeviceTypeId());this.deviceClass=c;this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass));a=new DropSlot(this,"SDS_1",null,null,new SelectionData("A","buttonA"));a.addOption(new SelectionData("A","buttonA"));a.addOption(new SelectionData("B","buttonB"));a.addOption(new SelectionData(Language.getStr("logo"),"V2touch"));this.addPart(a);this.parseTranslation(Language.getStr("block_Button"))}B_MicroBitButton.prototype=Object.create(PredicateBlock.prototype);
B_MicroBitButton.prototype.constructor=B_MicroBitButton;
B_MicroBitButton.prototype.startAction=function(){var a=this.slots[0].getData().getValue();let b=this.slots[1].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;if("V2touch"==b&&!a.hasV2Microbit)return this.displayError(Language.getStr("V2_required")),new ExecutionStatusError;let c=this.runMem;c.requestStatus={};c.requestStatus.finished=!1;c.requestStatus.error=!1;c.requestStatus.result=
null;a.readButtonSensor(c.requestStatus,b);return new ExecutionStatusRunning};B_MicroBitButton.prototype.updateAction=function(){const a=this.runMem.requestStatus;return!0===a.finished?!1===a.error?new ExecutionStatusResult(new BoolData("1"===a.result,!0)):0<a.result.length?(this.displayError(a.result),new ExecutionStatusError):new ExecutionStatusResult(new BoolData(!1,!1)):new ExecutionStatusRunning};
function B_MicroBitOrientation(a,b,c){PredicateBlock.call(this,a,b,c.getDeviceTypeId());this.deviceClass=c;this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass));a={shake:Language.getStr("Shake")};c==DeviceFinch?(a.screenUp=Language.getStr("Finch_Is_Level"),a.screenDown=Language.getStr("Upside_Down"),a.tiltLeft=Language.getStr("Tilt_Right"),a.tiltRight=Language.getStr("Tilt_Left"),a.logoUp=Language.getStr("Beak_Down"),a.logoDown=Language.getStr("Beak_Up")):(a.screenUp=Language.getStr("Screen_Up"),
a.screenDown=Language.getStr("Screen_Down"),a.tiltLeft=Language.getStr("Tilt_Left"),a.tiltRight=Language.getStr("Tilt_Right"),a.logoUp=Language.getStr("Logo_Up"),a.logoDown=Language.getStr("Logo_Down"));c=new DropSlot(this,"SDS_1",null,null,new SelectionData(a.screenUp,"screenUp"));c.addOption(new SelectionData(a.screenUp,"screenUp"));c.addOption(new SelectionData(a.screenDown,"screenDown"));c.addOption(new SelectionData(a.tiltLeft,"tiltLeft"));c.addOption(new SelectionData(a.tiltRight,"tiltRight"));
c.addOption(new SelectionData(a.logoUp,"logoUp"));c.addOption(new SelectionData(a.logoDown,"logoDown"));c.addOption(new SelectionData(a.shake,"shake"));this.addPart(c)}B_MicroBitOrientation.prototype=Object.create(PredicateBlock.prototype);B_MicroBitOrientation.prototype.constructor=B_MicroBitOrientation;
B_MicroBitOrientation.prototype.startAction=function(){var a=this.slots[0].getData().getValue();let b=this.slots[1].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;let c=this.runMem;c.requestStatus={};c.requestStatus.finished=!1;c.requestStatus.error=!1;c.requestStatus.result=null;a.readButtonSensor(c.requestStatus,b);return new ExecutionStatusRunning};
B_MicroBitOrientation.prototype.updateAction=function(){const a=this.runMem.requestStatus;return!0===a.finished?!1===a.error?new ExecutionStatusResult(new BoolData("1"===a.result,!0)):0<a.result.length?(this.displayError(a.result),new ExecutionStatusError):new ExecutionStatusResult(new BoolData(!1,!1)):new ExecutionStatusRunning};
function B_MicroBitMagnetometer(a,b,c){ReporterBlock.call(this,a,b,c.getDeviceTypeId());this.deviceClass=c;this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass));a=new DropSlot(this,"SDS_1",null,null,new SelectionData(Language.getStr("Accelerometer"),"accelerometer"));a.addOption(new SelectionData(Language.getStr("Magnetometer"),"magnetometer"));a.addOption(new SelectionData(Language.getStr("Accelerometer"),"accelerometer"));this.addPart(a);a=new DropSlot(this,"SDS_2",null,null,new SelectionData("X",
"x"));a.addOption(new SelectionData("X","x"));a.addOption(new SelectionData("Y","y"));a.addOption(new SelectionData("Z","z"));this.addPart(a)}B_MicroBitMagnetometer.prototype=Object.create(ReporterBlock.prototype);B_MicroBitMagnetometer.prototype.constructor=B_MicroBitMagnetometer;
B_MicroBitMagnetometer.prototype.startAction=function(){var a=this.slots[0].getData().getValue();let b=this.slots[1].getData().getValue();"accelerometer"==b?Block.setDisplaySuffix(B_MicroBitMagnetometer,"m/s"+String.fromCharCode(178)):Block.setDisplaySuffix(B_MicroBitMagnetometer,String.fromCharCode(956)+"T");let c=this.slots[2].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;
let d=this.runMem;d.requestStatus={};d.requestStatus.finished=!1;d.requestStatus.error=!1;d.requestStatus.result=null;a.readMagnetometerSensor(d.requestStatus,b,c);return new ExecutionStatusRunning};B_MicroBitMagnetometer.prototype.updateAction=function(){var a=this.runMem.requestStatus;if(a.finished){if(a.error)return this.displayError(this.deviceClass.getNotConnectedMessage(a.code,a.result)),new ExecutionStatusError;a=new StringData(a.result);a=Math.round(100*a.asNum().getValue())/100;return new ExecutionStatusResult(new NumData(a))}return new ExecutionStatusRunning};
function B_MicroBitCompass(a,b,c){ReporterBlock.call(this,a,b,c.getDeviceTypeId());this.deviceClass=c;this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass));this.addPart(new LabelText(this,Language.getStr("block_Compass")))}B_MicroBitCompass.prototype=Object.create(ReporterBlock.prototype);B_MicroBitCompass.prototype.constructor=B_MicroBitCompass;
B_MicroBitCompass.prototype.startAction=function(){var a=this.slots[0].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;let b=this.runMem;b.requestStatus={};b.requestStatus.finished=!1;b.requestStatus.error=!1;b.requestStatus.result=null;a.readCompass(b.requestStatus);return new ExecutionStatusRunning};
B_MicroBitCompass.prototype.updateAction=function(){var a=this.runMem.requestStatus;if(a.finished){if(a.error)return this.displayError(this.deviceClass.getNotConnectedMessage(a.code,a.result)),new ExecutionStatusError;a=(new StringData(a.result)).asNum();const b=Math.round(a.getValue());return new ExecutionStatusResult(new NumData(b,a.isValid))}return new ExecutionStatusRunning};Block.setDisplaySuffix(B_MicroBitCompass,String.fromCharCode(176));
function B_MicroBitV2Sensor(a,b,c){ReporterBlock.call(this,a,b,c.getDeviceTypeId());this.deviceClass=c;this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass));a=new DropSlot(this,"SDS_1",null,null,new SelectionData(Language.getStr("Sound"),"V2sound"));a.addOption(new SelectionData(Language.getStr("Sound"),"V2sound"));a.addOption(new SelectionData(Language.getStr("Temperature"),"V2temperature"));this.addPart(a)}B_MicroBitV2Sensor.prototype=Object.create(ReporterBlock.prototype);
B_MicroBitV2Sensor.prototype.constructor=B_MicroBitV2Sensor;
B_MicroBitV2Sensor.prototype.startAction=function(){var a=this.slots[0].getData().getValue();let b=this.slots[1].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;if(!a.hasV2Microbit)return this.displayError(Language.getStr("V2_required")),new ExecutionStatusError;"V2temperature"==b?Block.setDisplaySuffix(B_MicroBitV2Sensor,String.fromCharCode(176)+"C"):Block.removeDisplaySuffix(B_MicroBitV2Sensor);
let c=this.runMem;c.requestStatus={};c.requestStatus.finished=!1;c.requestStatus.error=!1;c.requestStatus.result=null;a.readSensor(c.requestStatus,b);return new ExecutionStatusRunning};
B_MicroBitV2Sensor.prototype.updateAction=function(){var a=this.runMem.requestStatus;if(a.finished){if(a.error)return this.displayError(this.deviceClass.getNotConnectedMessage(a.code,a.result)),new ExecutionStatusError;a=(new StringData(a.result)).asNum();const b=Math.round(a.getValue());return new ExecutionStatusResult(new NumData(b,a.isValid))}return new ExecutionStatusRunning};B_MicroBitV2Sensor.prototype.checkActive=function(){return DeviceManager.hasV2MicrobitConnected(this.deviceClass)};
function B_HummingbirdOutputBase(a,b,c,d,e,f,g,h,k){B_DeviceWithPortsOutputBase.call(this,a,b,DeviceHummingbird,c,d,e,f,g,h,k)}B_HummingbirdOutputBase.prototype=Object.create(B_DeviceWithPortsOutputBase.prototype);B_HummingbirdOutputBase.prototype.constructor=B_HummingbirdOutputBase;function B_HBServo(a,b){B_HummingbirdOutputBase.call(this,a,b,"servo","block_Servo",4,"angle",0,180,Language.getStr("Angle"))}B_HBServo.prototype=Object.create(B_HummingbirdOutputBase.prototype);
B_HBServo.prototype.constructor=B_HBServo;function B_HBMotor(a,b){B_HummingbirdOutputBase.call(this,a,b,"motor","block_Motor",2,"speed",-100,100,Language.getStr("Speed"))}B_HBMotor.prototype=Object.create(B_HummingbirdOutputBase.prototype);B_HBMotor.prototype.constructor=B_HBMotor;function B_HBVibration(a,b){B_HummingbirdOutputBase.call(this,a,b,"vibration","block_Vibration",2,"intensity",0,100,Language.getStr("Intensity"))}B_HBVibration.prototype=Object.create(B_HummingbirdOutputBase.prototype);
B_HBVibration.prototype.constructor=B_HBVibration;function B_HBLed(a,b){B_HummingbirdOutputBase.call(this,a,b,"led","block_LED",4,"intensity",0,100,Language.getStr("Intensity"))}B_HBLed.prototype=Object.create(B_HummingbirdOutputBase.prototype);B_HBLed.prototype.constructor=B_HBLed;function B_HummingbirdSensorBase(a,b,c,d){B_DeviceWithPortsSensorBase.call(this,a,b,DeviceHummingbird,c,d,4)}B_HummingbirdSensorBase.prototype=Object.create(B_DeviceWithPortsSensorBase.prototype);
B_HummingbirdSensorBase.prototype.constructor=B_HummingbirdSensorBase;function B_HBLight(a,b){B_HummingbirdSensorBase.call(this,a,b,"light",Language.getStr("Light"))}B_HBLight.prototype=Object.create(B_HummingbirdSensorBase.prototype);B_HBLight.prototype.constructor=B_HBLight;function B_HBTempC(a,b){B_HummingbirdSensorBase.call(this,a,b,"temperature","");this.parseTranslation(Language.getStr("block_Temperature_C"))}B_HBTempC.prototype=Object.create(B_HummingbirdSensorBase.prototype);
B_HBTempC.prototype.constructor=B_HBTempC;Block.setDisplaySuffix(B_HBTempC,String.fromCharCode(176)+"C");function B_HBDistCM(a,b){B_HummingbirdSensorBase.call(this,a,b,"distance",Language.getStr("Distance")+" "+Language.getStr("CM"))}B_HBDistCM.prototype=Object.create(B_HummingbirdSensorBase.prototype);B_HBDistCM.prototype.constructor=B_HBDistCM;Block.setDisplaySuffix(B_HBDistCM,"cm");function B_HBKnob(a,b){B_HummingbirdSensorBase.call(this,a,b,"sensor",Language.getStr("Dial"))}
B_HBKnob.prototype=Object.create(B_HummingbirdSensorBase.prototype);B_HBKnob.prototype.constructor=B_HBKnob;function B_HBSound(a,b){B_HummingbirdSensorBase.call(this,a,b,"sound",Language.getStr("Sound"))}B_HBSound.prototype=Object.create(B_HummingbirdSensorBase.prototype);B_HBSound.prototype.constructor=B_HBSound;function B_HBTriLed(a,b){B_DeviceWithPortsTriLed.call(this,a,b,DeviceHummingbird,2)}B_HBTriLed.prototype=Object.create(B_DeviceWithPortsTriLed.prototype);
B_HBTriLed.prototype.constructor=B_HBTriLed;function B_HBTempF(a,b){B_HummingbirdSensorBase.call(this,a,b,"temperature","");this.parseTranslation(Language.getStr("block_Temperature_F"))}B_HBTempF.prototype=Object.create(B_HummingbirdSensorBase.prototype);B_HBTempF.prototype.constructor=B_HBTempF;
B_HBTempF.prototype.updateAction=function(){var a=B_DeviceWithPortsSensorBase.prototype.updateAction.call(this);if(a.hasError()||a.isRunning())return a;let b=a.getResult();return null!=b&&b.isValid?(a=new NumData(Math.round(1.8*b.getValue()+32)),new ExecutionStatusResult(a)):a};Block.setDisplaySuffix(B_HBTempF,String.fromCharCode(176)+"F");function B_HBDistInch(a,b){B_HummingbirdSensorBase.call(this,a,b,"distance",Language.getStr("Distance")+" "+Language.getStr("Inch"))}B_HBDistInch.prototype=Object.create(B_HummingbirdSensorBase.prototype);
B_HBDistInch.prototype.constructor=B_HBDistInch;B_HBDistInch.prototype.updateAction=function(){var a=B_DeviceWithPortsSensorBase.prototype.updateAction.call(this);if(a.hasError()||a.isRunning())return a;let b=a.getResult();return null!=b&&b.isValid?(a=new NumData(1*(b.getValue()/2.54).toFixed(0)),new ExecutionStatusResult(a)):a};Block.setDisplaySuffix(B_HBDistInch,"inches");function B_MBPrint(a,b){B_MicroBitPrint.call(this,a,b,DeviceMicroBit)}B_MBPrint.prototype=Object.create(B_MicroBitPrint.prototype);
B_MBPrint.prototype.constructor=B_MBPrint;function B_MBLedArray(a,b){B_MicroBitLedArray.call(this,a,b,DeviceMicroBit)}B_MBLedArray.prototype=Object.create(B_MicroBitLedArray.prototype);B_MBLedArray.prototype.constructor=B_MBLedArray;function B_MBMagnetometer(a,b){B_MicroBitMagnetometer.call(this,a,b,DeviceMicroBit)}B_MBMagnetometer.prototype=Object.create(B_MicroBitMagnetometer.prototype);B_MBMagnetometer.prototype.constructor=B_MBMagnetometer;
function B_MBButton(a,b){B_MicroBitButton.call(this,a,b,DeviceMicroBit)}B_MBButton.prototype=Object.create(B_MicroBitButton.prototype);B_MBButton.prototype.constructor=B_MBButton;function B_MBOrientation(a,b){B_MicroBitOrientation.call(this,a,b,DeviceMicroBit)}B_MBOrientation.prototype=Object.create(B_MicroBitOrientation.prototype);B_MBOrientation.prototype.constructor=B_MBOrientation;function B_MBCompass(a,b){B_MicroBitCompass.call(this,a,b,DeviceMicroBit)}B_MBCompass.prototype=Object.create(B_MicroBitCompass.prototype);
B_MBCompass.prototype.constructor=B_MBCompass;function B_MBV2Sensor(a,b){B_MicroBitV2Sensor.call(this,a,b,DeviceMicroBit)}B_MBV2Sensor.prototype=Object.create(B_MicroBitV2Sensor.prototype);B_MBV2Sensor.prototype.constructor=B_MBV2Sensor;
function B_MBReadPin(a,b){ReporterBlock.call(this,a,b,DeviceMicroBit.getDeviceTypeId());this.deviceClass=DeviceMicroBit;this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass));a=Language.getStr("pin");b=new DropSlot(this,"SDS_1",null,null,new SelectionData(a+" 0","1"));b.addOption(new SelectionData(a+" 0","1"));b.addOption(new SelectionData(a+" 1","2"));b.addOption(new SelectionData(a+" 2","3"));this.addPart(b);this.parseTranslation(Language.getStr("block_read"))}B_MBReadPin.prototype=Object.create(ReporterBlock.prototype);
B_MBReadPin.prototype.constructor=B_MBReadPin;B_MBReadPin.prototype.startAction=function(){var a=this.slots[0].getData().getValue();let b=this.slots[1].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;let c=this.runMem;c.requestStatus={};c.requestStatus.finished=!1;c.requestStatus.error=!1;c.requestStatus.result=null;a.readSensor(c.requestStatus,"pin",b);return new ExecutionStatusRunning};
B_MBReadPin.prototype.updateAction=function(){var a=this.runMem.requestStatus;if(a.finished){if(a.error)return this.displayError(this.deviceClass.getNotConnectedMessage(a.code,a.result)),new ExecutionStatusError;a=new StringData(a.result);a=Math.round(100*a.asNum().getValue())/100;return new ExecutionStatusResult(new NumData(a))}return new ExecutionStatusRunning};
function B_MBWriteToPin(a,b){CommandBlock.call(this,a,b,DeviceMicroBit.getDeviceTypeId());this.deviceClass=DeviceMicroBit;this.outputType="write";this.minVal=0;this.maxVal=100;this.positive=!0;this.valueKey="percent";this.displayUnits=Language.getStr("Intensity");this.defaultValue=0;this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass));a=Language.getStr("pin");b=new DropSlot(this,"SDS_1",null,null,new SelectionData(a+" 0","1"));b.addOption(new SelectionData(a+" 0","1"));b.addOption(new SelectionData(a+
" 1","2"));b.addOption(new SelectionData(a+" 2","3"));this.addPart(b);a=new NumSlot(this,"NumS_out",this.defaultValue,this.positive,!0);a.addLimits(this.minVal,this.maxVal,this.displayUnits);this.addPart(a);this.parseTranslation(Language.getStr("block_write"))}B_MBWriteToPin.prototype=Object.create(CommandBlock.prototype);B_MBWriteToPin.prototype.constructor=B_MBWriteToPin;
B_MBWriteToPin.prototype.startAction=function(){var a=this.slots[0].getData().getValue();a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;let b=this.runMem,c=this.slots[1].getData().getValue(),d=this.slots[2].getData().getValueInR(this.minVal,this.maxVal,this.positive,!0);b.requestStatus={};b.requestStatus.finished=!1;b.requestStatus.error=!1;b.requestStatus.result=null;a.setOutput(b.requestStatus,
this.outputType,c,d,this.valueKey);return new ExecutionStatusRunning};B_MBWriteToPin.prototype.updateAction=B_DeviceWithPortsOutputBase.prototype.updateAction;function B_MBBuzzer(a,b){B_DeviceWithPortsBuzzer.call(this,a,b,DeviceMicroBit)}B_MBBuzzer.prototype=Object.create(B_DeviceWithPortsBuzzer.prototype);B_MBBuzzer.prototype.constructor=B_MBBuzzer;function B_HummingbirdBitOutputBase(a,b,c,d,e,f,g,h,k,l){B_DeviceWithPortsOutputBase.call(this,a,b,DeviceHummingbirdBit,c,d,e,f,g,h,k,l)}
B_HummingbirdBitOutputBase.prototype=Object.create(B_DeviceWithPortsOutputBase.prototype);B_HummingbirdBitOutputBase.prototype.constructor=B_HummingbirdBitOutputBase;function B_BBPositionServo(a,b){B_HummingbirdBitOutputBase.call(this,a,b,"servo","block_Position_Servo",4,"angle",0,180,Language.getStr("Angle"),90)}B_BBPositionServo.prototype=Object.create(B_HummingbirdBitOutputBase.prototype);B_BBPositionServo.prototype.constructor=B_BBPositionServo;
function B_BBRotationServo(a,b){B_HummingbirdBitOutputBase.call(this,a,b,"servo","block_Rotation_Servo",4,"percent",-100,100,Language.getStr("Speed"))}B_BBRotationServo.prototype=Object.create(B_HummingbirdBitOutputBase.prototype);B_BBRotationServo.prototype.constructor=B_BBRotationServo;function B_BBLed(a,b){B_HummingbirdBitOutputBase.call(this,a,b,"led","block_LED",3,"intensity",0,100,Language.getStr("Intensity"))}B_BBLed.prototype=Object.create(B_HummingbirdBitOutputBase.prototype);
B_BBLed.prototype.constructor=B_BBLed;function B_BBTriLed(a,b){B_DeviceWithPortsTriLed.call(this,a,b,DeviceHummingbirdBit,2)}B_BBTriLed.prototype=Object.create(B_DeviceWithPortsTriLed.prototype);B_BBTriLed.prototype.constructor=B_BBTriLed;function B_BBBuzzer(a,b){B_DeviceWithPortsBuzzer.call(this,a,b,DeviceHummingbirdBit)}B_BBBuzzer.prototype=Object.create(B_DeviceWithPortsBuzzer.prototype);B_BBBuzzer.prototype.constructor=B_BBBuzzer;
function B_BBSensors(a,b){ReporterBlock.call(this,a,b,DeviceHummingbirdBit.getDeviceTypeId());this.deviceClass=DeviceHummingbirdBit;this.numberOfPorts=3;a=new DropSlot(this,"SDS_1",null,null,new SelectionData(Language.getStr("Light"),"light"));a.addOption(new SelectionData(Language.getStr("Distance"),"distance"));a.addOption(new SelectionData(Language.getStr("Dial"),"dial"));a.addOption(new SelectionData(Language.getStr("Light"),"light"));a.addOption(new SelectionData(Language.getStr("Sound"),"sound"));
a.addOption(new SelectionData(Language.getStr("Other"),"other"));this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass));this.addPart(a);this.addPart(new PortSlot(this,"PortS_1",this.numberOfPorts))}B_BBSensors.prototype=Object.create(ReporterBlock.prototype);B_BBSensors.prototype.constructor=B_BBSensors;
B_BBSensors.prototype.startAction=function(){var a=this.slots[0].getData().getValue();let b=this.slots[1].getData().getValue();"distance"==b?Block.setDisplaySuffix(B_BBSensors,"cm"):"other"==b?Block.setDisplaySuffix(B_BBSensors,"V"):Block.removeDisplaySuffix(B_BBSensors);a=this.deviceClass.getManager().getDevice(a);if(null==a)return this.displayError(this.deviceClass.getNotConnectedMessage()),new ExecutionStatusError;let c=this.runMem,d=this.slots[2].getData().getValue();if(null!=d&&0<d&&d<=this.numberOfPorts)return c.requestStatus=
{},c.requestStatus.finished=!1,c.requestStatus.error=!1,c.requestStatus.result=null,c.requestStatus.sensorSelection=b,a.readSensor(c.requestStatus,b,d),new ExecutionStatusRunning;this.displayError("Invalid port number");return new ExecutionStatusError};
B_BBSensors.prototype.updateAction=function(){const a=this.runMem.requestStatus;if(a.finished){if(a.error)return this.displayError(this.deviceClass.getNotConnectedMessage(a.code,a.result)),new ExecutionStatusError;const c=(new StringData(a.result)).asNum().getValue();var b=Math.round(c);"other"==a.sensorSelection&&(b=Math.round(100*c)/100);return new ExecutionStatusResult(new NumData(b))}return new ExecutionStatusRunning};
function B_BBLedArray(a,b){B_MicroBitLedArray.call(this,a,b,DeviceHummingbirdBit)}B_BBLedArray.prototype=Object.create(B_MicroBitLedArray.prototype);B_BBLedArray.prototype.constructor=B_BBLedArray;function B_BBPrint(a,b){B_MicroBitPrint.call(this,a,b,DeviceHummingbirdBit)}B_BBPrint.prototype=Object.create(B_MicroBitPrint.prototype);B_BBPrint.prototype.constructor=B_BBPrint;function B_BBButton(a,b){B_MicroBitButton.call(this,a,b,DeviceHummingbirdBit)}B_BBButton.prototype=Object.create(B_MicroBitButton.prototype);
B_BBButton.prototype.constructor=B_BBButton;function B_BBOrientation(a,b){B_MicroBitOrientation.call(this,a,b,DeviceHummingbirdBit)}B_BBOrientation.prototype=Object.create(B_MicroBitOrientation.prototype);B_BBOrientation.prototype.constructor=B_BBOrientation;function B_BBMagnetometer(a,b){B_MicroBitMagnetometer.call(this,a,b,DeviceHummingbirdBit)}B_BBMagnetometer.prototype=Object.create(B_MicroBitMagnetometer.prototype);B_BBMagnetometer.prototype.constructor=B_BBMagnetometer;
function B_BBCompass(a,b){B_MicroBitCompass.call(this,a,b,DeviceHummingbirdBit)}B_BBCompass.prototype=Object.create(B_MicroBitCompass.prototype);B_BBCompass.prototype.constructor=B_BBCompass;function B_BBV2Sensor(a,b){B_MicroBitV2Sensor.call(this,a,b,DeviceHummingbirdBit)}B_BBV2Sensor.prototype=Object.create(B_MicroBitV2Sensor.prototype);B_BBV2Sensor.prototype.constructor=B_BBV2Sensor;
function B_FlutterServo(a,b){B_DeviceWithPortsOutputBase.call(this,a,b,DeviceFlutter,"servo","Servo",3,"angle",0,180,"Angle")}B_FlutterServo.prototype=Object.create(B_DeviceWithPortsOutputBase.prototype);B_FlutterServo.prototype.constructor=B_FlutterServo;function B_FlutterTriLed(a,b){B_DeviceWithPortsTriLed.call(this,a,b,DeviceFlutter,3)}B_FlutterTriLed.prototype=Object.create(B_DeviceWithPortsTriLed.prototype);B_FlutterTriLed.prototype.constructor=B_FlutterTriLed;
function B_FlutterBuzzer(a,b){CommandBlock.call(this,a,b,"flutter");this.addPart(new DeviceDropSlot(this,"DDS_1",DeviceFlutter,!0));this.addPart(new LabelText(this,"Buzzer"));this.addPart(new LabelText(this,"Volume"));a=new NumSlot(this,"NumS_vol",20,!0,!0);a.addLimits(0,100);this.addPart(a);this.addPart(new LabelText(this,"Frequency"));a=new NumSlot(this,"NumS_freq",1E4,!0,!0);a.addLimits(0,2E4);this.addPart(a)}B_FlutterBuzzer.prototype=Object.create(CommandBlock.prototype);
B_FlutterBuzzer.prototype.constructor=B_FlutterBuzzer;B_FlutterBuzzer.prototype.startAction=function(){var a=this.slots[0].getData().getValue();a=DeviceFlutter.getManager().getDevice(a);if(null==a)return this.displayError(DeviceFlutter.getNotConnectedMessage()),new ExecutionStatusError;let b=this.slots[1].getData().getValueInR(0,100,!0,!0),c=this.slots[2].getData().getValueInR(0,2E4,!0,!0);this.runMem.requestStatus={};a.setBuzzer(this.runMem.requestStatus,b,c);return new ExecutionStatusRunning};
B_FlutterBuzzer.prototype.updateAction=function(){if(this.runMem.requestStatus.finished){if(this.runMem.requestStatus.error){const a=this.runMem.requestStatus;this.displayError(DeviceFlutter.getNotConnectedMessage(a.code,a.result));return new ExecutionStatusError}return new ExecutionStatusDone}return new ExecutionStatusRunning};function B_FlutterSensorBase(a,b,c,d){B_DeviceWithPortsSensorBase.call(this,a,b,DeviceFlutter,c,d,3)}B_FlutterSensorBase.prototype=Object.create(B_DeviceWithPortsSensorBase.prototype);
B_FlutterSensorBase.constructor=B_FlutterSensorBase;function B_FlutterLight(a,b){B_FlutterSensorBase.call(this,a,b,"light","Light")}B_FlutterLight.prototype=Object.create(B_FlutterSensorBase.prototype);B_FlutterLight.prototype.constructor=B_FlutterLight;function B_FlutterTempC(a,b){B_FlutterSensorBase.call(this,a,b,"temperature","Temperature C")}B_FlutterTempC.prototype=Object.create(B_FlutterSensorBase.prototype);B_FlutterTempC.prototype.constructor=B_FlutterTempC;
Block.setDisplaySuffix(B_FlutterTempC,String.fromCharCode(176)+"C");function B_FlutterDistCM(a,b){B_FlutterSensorBase.call(this,a,b,"distance","Distance CM")}B_FlutterDistCM.prototype=Object.create(B_FlutterSensorBase.prototype);B_FlutterDistCM.prototype.constructor=B_FlutterDistCM;Block.setDisplaySuffix(B_FlutterDistCM,"cm");function B_FlutterKnob(a,b){B_FlutterSensorBase.call(this,a,b,"sensor","Knob")}B_FlutterKnob.prototype=Object.create(B_FlutterSensorBase.prototype);
B_FlutterKnob.prototype.constructor=B_FlutterKnob;function B_FlutterSoil(a,b){B_FlutterSensorBase.call(this,a,b,"soil","Soil Moisture")}B_FlutterSoil.prototype=Object.create(B_FlutterSensorBase.prototype);B_FlutterSoil.prototype.constructor=B_FlutterSoil;function B_FlutterSound(a,b){B_FlutterSensorBase.call(this,a,b,"sound","Sound")}B_FlutterSound.prototype=Object.create(B_FlutterSensorBase.prototype);B_FlutterSound.prototype.constructor=B_FlutterSound;
function B_FlutterTempF(a,b){B_FlutterSensorBase.call(this,a,b,"temperature","Temperature F")}B_FlutterTempF.prototype=Object.create(B_FlutterSensorBase.prototype);B_FlutterTempF.prototype.constructor=B_FlutterTempF;B_FlutterTempF.prototype.updateAction=function(){var a=B_FlutterSensorBase.prototype.updateAction.call(this);if(a.hasError()||a.isRunning())return a;let b=a.getResult();return null!=b&&b.isValid?(a=new NumData(Math.round(1.8*b.getValue()+32)),new ExecutionStatusResult(a)):a};
Block.setDisplaySuffix(B_FlutterTempF,String.fromCharCode(176)+"F");function B_FlutterDistInch(a,b){B_FlutterSensorBase.call(this,a,b,"distance","Distance Inch")}B_FlutterDistInch.prototype=Object.create(B_FlutterSensorBase.prototype);B_FlutterDistInch.prototype.constructor=B_FlutterDistInch;
B_FlutterDistInch.prototype.updateAction=function(){var a=B_FlutterSensorBase.prototype.updateAction.call(this);if(a.hasError()||a.isRunning())return a;let b=a.getResult();return null!=b&&b.isValid?(a=new NumData(1*(b.getValue()/2.54).toFixed(0)),new ExecutionStatusResult(a)):a};Block.setDisplaySuffix(B_FlutterDistInch,"inches");
function B_FinchCommand(a,b,c){this.deviceClass=DeviceFinch;CommandBlock.call(this,a,b,this.deviceClass.getDeviceTypeId());this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass))}B_FinchCommand.prototype=Object.create(CommandBlock.prototype);B_FinchCommand.prototype.constructor=B_FinchCommand;
B_FinchCommand.prototype.setupAction=function(){var a=this.runMem;a.requestStatus={};a.requestStatus.finished=!1;a.requestStatus.error=!1;a.requestStatus.result=null;a=this.slots[0].getData().getValue();a=this.deviceClass.getManager().getDevice(a);null==a&&this.displayError(this.deviceClass.getNotConnectedMessage());return a};
B_FinchCommand.prototype.updateAction=function(){if(this.runMem.requestStatus.finished){if(this.runMem.requestStatus.error){let a=this.runMem.requestStatus;this.displayError(this.deviceClass.getNotConnectedMessage(a.code,a.result));return new ExecutionStatusError}return new ExecutionStatusDone}return new ExecutionStatusRunning};function B_FinchSetMotorsAndWait(a,b){B_FinchCommand.call(this,a,b)}B_FinchSetMotorsAndWait.prototype=Object.create(B_FinchCommand.prototype);
B_FinchSetMotorsAndWait.prototype.constructor=B_FinchSetMotorsAndWait;B_FinchSetMotorsAndWait.prototype.sendCheckMoving=function(){let a=this.setupAction();if(null==a)return new ExecutionStatusError;a.readSensor(this.runMem.requestStatus,"isMoving");return new ExecutionStatusRunning};
B_FinchSetMotorsAndWait.prototype.checkMoving=function(){const a="1"===this.runMem.requestStatus.result,b=(new Date).getTime()>this.moveSentTime+500;if((this.wasMoving||b)&&!a)return new ExecutionStatusDone;this.wasMoving=a;return this.sendCheckMoving()};
B_FinchSetMotorsAndWait.prototype.updateAction=function(){var a=this.runMem.requestStatus;if(a.finished){if(a.error)return this.displayError(this.deviceClass.getNotConnectedMessage(a.code,a.result)),new ExecutionStatusError;if(this.moveSent){if(this.moveSendFinished)return this.checkMoving();if(0==this.moveTicks)return new ExecutionStatusDone;this.moveSendFinished=!0;return this.sendCheckMoving()}0>=this.moveTicks&&(this.moveSpeedR=this.moveSpeedL=this.moveTicks=0);this.wasMoving="1"===a.result;this.moveSentTime=
(new Date).getTime();a=this.setupAction();if(null==a)return new ExecutionStatusError;a.setMotors(this.runMem.requestStatus,this.moveSpeedL,this.moveTicks,this.moveSpeedR,this.moveTicks);this.moveSent=!0}return new ExecutionStatusRunning};
function B_FinchMove(a,b){B_FinchSetMotorsAndWait.call(this,a,b);a=new DropSlot(this,"SDS_1",null,null,new SelectionData(Language.getStr("Forward"),"forward"));a.addOption(new SelectionData(Language.getStr("Forward"),"forward"));a.addOption(new SelectionData(Language.getStr("Backward"),"backward"));this.addPart(a);a=new NumSlot(this,"Num_dist",10,!0,!0);a.addLimits(0,1E4);this.addPart(a);a=new NumSlot(this,"Num_speed",50,!0,!0);a.addLimits(0,100);this.addPart(a);this.parseTranslation(Language.getStr("block_finch_move"))}
B_FinchMove.prototype=Object.create(B_FinchSetMotorsAndWait.prototype);B_FinchMove.prototype.constructor=B_FinchMove;B_FinchMove.prototype.startAction=function(){const a=this.slots[1].getData().getValue();this.moveTicks=Math.round(this.slots[2].getData().getValue()*DeviceFinch.ticksPerCM);let b=this.slots[3].getData().getValue();"backward"==a&&(b=-b);this.moveSpeedR=this.moveSpeedL=b;this.wasMoving=this.moveSendFinished=this.moveSent=!1;return this.sendCheckMoving()};
function B_FinchTurn(a,b){B_FinchSetMotorsAndWait.call(this,a,b);a=new DropSlot(this,"SDS_1",null,null,new SelectionData(Language.getStr("Right"),"right"));a.addOption(new SelectionData(Language.getStr("Right"),"right"));a.addOption(new SelectionData(Language.getStr("Left"),"left"));this.addPart(a);a=new NumSlot(this,"Num_dist",90,!0,!0);a.addLimits(0,36E4);this.addPart(a);a=new NumSlot(this,"Num_speed",50,!0,!0);a.addLimits(0,100);this.addPart(a);this.parseTranslation(Language.getStr("block_finch_turn"))}
B_FinchTurn.prototype=Object.create(B_FinchSetMotorsAndWait.prototype);B_FinchTurn.prototype.constructor=B_FinchTurn;B_FinchTurn.prototype.startAction=function(){const a=this.slots[1].getData().getValue(),b=this.slots[2].getData().getValue(),c=this.slots[3].getData().getValue();this.moveTicks=Math.round(b*DeviceFinch.ticksPerDegree);"right"==a?(this.moveSpeedL=c,this.moveSpeedR=-c):(this.moveSpeedL=-c,this.moveSpeedR=c);this.wasMoving=this.moveSendFinished=this.moveSent=!1;return this.sendCheckMoving()};
function B_FinchMotors(a,b){B_FinchCommand.call(this,a,b);a=new NumSlot(this,"Num_speed_l",0,!1,!0);a.addLimits(-100,100);this.addPart(a);a=new NumSlot(this,"Num_speed_r",0,!1,!0);a.addLimits(-100,100);this.addPart(a);this.parseTranslation(Language.getStr("block_finch_motors"))}B_FinchMotors.prototype=Object.create(B_FinchCommand.prototype);B_FinchMotors.prototype.constructor=B_FinchMotors;
B_FinchMotors.prototype.startAction=function(){let a=this.setupAction();if(null==a)return new ExecutionStatusError;let b=this.slots[1].getData().getValue(),c=this.slots[2].getData().getValue();a.setMotors(this.runMem.requestStatus,b,0,c,0);return new ExecutionStatusRunning};function B_FinchStop(a,b){B_FinchCommand.call(this,a,b);this.addPart(new LabelText(this,Language.getStr("Stop")))}B_FinchStop.prototype=Object.create(B_FinchCommand.prototype);B_FinchStop.prototype.constructor=B_FinchStop;
B_FinchStop.prototype.startAction=function(){let a=this.setupAction();if(null==a)return new ExecutionStatusError;a.setMotors(this.runMem.requestStatus,0,0,0,0);return new ExecutionStatusRunning};
function B_FinchBeak(a,b){B_FinchCommand.call(this,a,b);a=new NumSlot(this,"NumS_r",0,!0,!0);a.addLimits(0,100,Language.getStr("Intensity"));this.addPart(a);a=new NumSlot(this,"NumS_g",0,!0,!0);a.addLimits(0,100,Language.getStr("Intensity"));this.addPart(a);a=new NumSlot(this,"NumS_b",0,!0,!0);a.addLimits(0,100,Language.getStr("Intensity"));this.addPart(a);this.parseTranslation(Language.getStr("block_finch_beak"))}B_FinchBeak.prototype=Object.create(B_FinchCommand.prototype);
B_FinchBeak.prototype.constructor=B_FinchBeak;B_FinchBeak.prototype.startAction=function(){let a=this.setupAction();if(null==a)return new ExecutionStatusError;let b=this.slots[1].getData().getValueInR(0,100,!0,!0),c=this.slots[2].getData().getValueInR(0,100,!0,!0),d=this.slots[3].getData().getValueInR(0,100,!0,!0);a.setBeak(this.runMem.requestStatus,b,c,d);return new ExecutionStatusRunning};
function B_FinchTail(a,b){B_FinchCommand.call(this,a,b);a=new DropSlot(this,"SDS_1",null,null,new SelectionData(Language.getStr("all"),"all"));a.addOption(new SelectionData("1","1"));a.addOption(new SelectionData("2","2"));a.addOption(new SelectionData("3","3"));a.addOption(new SelectionData("4","4"));a.addOption(new SelectionData(Language.getStr("all"),"all"));this.addPart(a);a=new NumSlot(this,"NumS_r",0,!0,!0);a.addLimits(0,100,Language.getStr("Intensity"));this.addPart(a);a=new NumSlot(this,"NumS_g",
0,!0,!0);a.addLimits(0,100,Language.getStr("Intensity"));this.addPart(a);a=new NumSlot(this,"NumS_b",0,!0,!0);a.addLimits(0,100,Language.getStr("Intensity"));this.addPart(a);this.parseTranslation(Language.getStr("block_finch_tail"))}B_FinchTail.prototype=Object.create(B_FinchCommand.prototype);B_FinchTail.prototype.constructor=B_FinchTail;
B_FinchTail.prototype.startAction=function(){let a=this.setupAction();if(null==a)return new ExecutionStatusError;let b=this.slots[1].getData().getValue(),c=this.slots[2].getData().getValueInR(0,100,!0,!0),d=this.slots[3].getData().getValueInR(0,100,!0,!0),e=this.slots[4].getData().getValueInR(0,100,!0,!0);a.setTail(this.runMem.requestStatus,b,c,d,e);return new ExecutionStatusRunning};function B_FNLedArray(a,b){B_MicroBitLedArray.call(this,a,b,DeviceFinch)}B_FNLedArray.prototype=Object.create(B_MicroBitLedArray.prototype);
B_FNLedArray.prototype.constructor=B_FNLedArray;function B_FNPrint(a,b){B_MicroBitPrint.call(this,a,b,DeviceFinch)}B_FNPrint.prototype=Object.create(B_MicroBitPrint.prototype);B_FNPrint.prototype.constructor=B_FNPrint;function B_FNBuzzer(a,b){B_DeviceWithPortsBuzzer.call(this,a,b,DeviceFinch)}B_FNBuzzer.prototype=Object.create(B_DeviceWithPortsBuzzer.prototype);B_FNBuzzer.prototype.constructor=B_FNBuzzer;
function B_FinchResetEncoders(a,b){B_FinchCommand.call(this,a,b);this.addPart(new LabelText(this,Language.getStr("block_finch_reset_encoders")))}B_FinchResetEncoders.prototype=Object.create(B_FinchCommand.prototype);B_FinchResetEncoders.prototype.constructor=B_FinchResetEncoders;B_FinchResetEncoders.prototype.startAction=function(){let a=this.setupAction();if(null==a)return new ExecutionStatusError;this.runMem.timerStarted=!1;a.resetEncoders(this.runMem.requestStatus);return new ExecutionStatusRunning};
B_FinchResetEncoders.prototype.updateAction=function(){const a=this.runMem;if(!a.timerStarted)if(!0===a.requestStatus.finished)a.startTime=(new Date).getTime(),a.timerStarted=!0;else return new ExecutionStatusRunning;return(new Date).getTime()>=a.startTime+500?new ExecutionStatusDone:new ExecutionStatusRunning};
function B_FinchSensorBase(a,b){this.deviceClass=DeviceFinch;ReporterBlock.call(this,a,b,this.deviceClass.getDeviceTypeId());this.addPart(new DeviceDropSlot(this,"DDS_1",this.deviceClass));this.offset=0;this.scalingFactor=1;this.displayDecimalPlaces=0;this.capResult=this.invert=!1}B_FinchSensorBase.prototype=Object.create(ReporterBlock.prototype);B_FinchSensorBase.prototype.constructor=B_FinchSensorBase;
B_FinchSensorBase.prototype.setupAction=function(){var a=this.runMem;a.requestStatus={};a.requestStatus.finished=!1;a.requestStatus.error=!1;a.requestStatus.result=null;a=this.slots[0].getData().getValue();a=this.deviceClass.getManager().getDevice(a);null==a&&this.displayError(this.deviceClass.getNotConnectedMessage());return a};
B_FinchSensorBase.prototype.updateAction=function(){var a=this.runMem.requestStatus;if(a.finished){if(a.error)return this.displayError(this.deviceClass.getNotConnectedMessage(a.code,a.result)),new ExecutionStatusError;a=((new StringData(a.result)).asNum().getValue()-this.offset)*this.scalingFactor;const b=Math.pow(10,this.displayDecimalPlaces);a=Math.round(a*b)/b;this.invert&&(a=100-a);this.capResult&&(a=Math.min(100,Math.max(0,a)));return new ExecutionStatusResult(new NumData(a))}return new ExecutionStatusRunning};
function B_FinchEncoder(a,b){B_FinchSensorBase.call(this,a,b);this.displayDecimalPlaces=2;this.scalingFactor=1/792;a=new DropSlot(this,"SDS_1",null,null,new SelectionData(Language.getStr("Right"),"right"));a.addOption(new SelectionData(Language.getStr("Right"),"right"));a.addOption(new SelectionData(Language.getStr("Left"),"left"));this.addPart(a);this.parseTranslation(Language.getStr("block_encoder"))}B_FinchEncoder.prototype=Object.create(B_FinchSensorBase.prototype);
B_FinchEncoder.prototype.constructor=B_FinchEncoder;B_FinchEncoder.prototype.startAction=function(){let a=this.setupAction();if(null==a)return new ExecutionStatusError;let b=this.slots[1].getData().getValue();a.readSensor(this.runMem.requestStatus,"encoder",b);return new ExecutionStatusRunning};Block.setDisplaySuffix(B_FinchEncoder,"rotations");
function B_FinchDistance(a,b){B_FinchSensorBase.call(this,a,b);this.scalingFactor=DeviceFinch.cmPerDistance;this.addPart(new LabelText(this,Language.getStr("Distance")))}B_FinchDistance.prototype=Object.create(B_FinchSensorBase.prototype);B_FinchDistance.prototype.constructor=B_FinchDistance;
B_FinchDistance.prototype.startAction=function(){let a=this.setupAction();if(null==a)return new ExecutionStatusError;this.scalingFactor=a.hasV2Microbit?1:DeviceFinch.cmPerDistance;a.readSensor(this.runMem.requestStatus,"distance");return new ExecutionStatusRunning};Block.setDisplaySuffix(B_FinchDistance,"cm");
function B_FinchLight(a,b){B_FinchSensorBase.call(this,a,b);this.capResult=!0;a=new DropSlot(this,"SDS_1",null,null,new SelectionData(Language.getStr("Right"),"right"));a.addOption(new SelectionData(Language.getStr("Right"),"right"));a.addOption(new SelectionData(Language.getStr("Left"),"left"));this.addPart(a);this.addPart(new LabelText(this,Language.getStr("Light")))}B_FinchLight.prototype=Object.create(B_FinchSensorBase.prototype);B_FinchLight.prototype.constructor=B_FinchLight;
B_FinchLight.prototype.startAction=function(){let a=this.setupAction();if(null==a)return new ExecutionStatusError;let b=this.slots[1].getData().getValue();a.readSensor(this.runMem.requestStatus,"light",b);return new ExecutionStatusRunning};
function B_FinchLine(a,b){B_FinchSensorBase.call(this,a,b);this.offset=6;this.scalingFactor=100/121;this.capResult=this.invert=!0;a=new DropSlot(this,"SDS_1",null,null,new SelectionData(Language.getStr("Right"),"right"));a.addOption(new SelectionData(Language.getStr("Right"),"right"));a.addOption(new SelectionData(Language.getStr("Left"),"left"));this.addPart(a);this.addPart(new LabelText(this,Language.getStr("Line")))}B_FinchLine.prototype=Object.create(B_FinchSensorBase.prototype);
B_FinchLine.prototype.constructor=B_FinchLine;B_FinchLine.prototype.startAction=function(){let a=this.setupAction();if(null==a)return new ExecutionStatusError;let b=this.slots[1].getData().getValue();a.readSensor(this.runMem.requestStatus,"line",b);return new ExecutionStatusRunning};function B_FinchBattery(a,b){B_FinchSensorBase.call(this,a,b);this.displayDecimalPlaces=2;this.addPart(new LabelText(this,Language.getStr("Battery")))}B_FinchBattery.prototype=Object.create(B_FinchSensorBase.prototype);
B_FinchBattery.prototype.constructor=B_FinchBattery;B_FinchBattery.prototype.startAction=function(){let a=this.setupAction();if(null==a)return new ExecutionStatusError;a.readSensor(this.runMem.requestStatus,"battery");return new ExecutionStatusRunning};Block.setDisplaySuffix(B_FinchBattery,"V");function B_FNMagnetometer(a,b){B_MicroBitMagnetometer.call(this,a,b,DeviceFinch)}B_FNMagnetometer.prototype=Object.create(B_MicroBitMagnetometer.prototype);B_FNMagnetometer.prototype.constructor=B_FNMagnetometer;
function B_FNButton(a,b){B_MicroBitButton.call(this,a,b,DeviceFinch)}B_FNButton.prototype=Object.create(B_MicroBitButton.prototype);B_FNButton.prototype.constructor=B_FNButton;function B_FNCompass(a,b){B_MicroBitCompass.call(this,a,b,DeviceFinch)}B_FNCompass.prototype=Object.create(B_MicroBitCompass.prototype);B_FNCompass.prototype.constructor=B_FNCompass;function B_FNV2Sensor(a,b){B_MicroBitV2Sensor.call(this,a,b,DeviceFinch)}B_FNV2Sensor.prototype=Object.create(B_MicroBitV2Sensor.prototype);
B_FNV2Sensor.prototype.constructor=B_FNV2Sensor;function B_FNOrientation(a,b){B_MicroBitOrientation.call(this,a,b,DeviceFinch)}B_FNOrientation.prototype=Object.create(B_MicroBitOrientation.prototype);B_FNOrientation.prototype.constructor=B_FNOrientation;
function B_FBColor(a,b,c,d){this.level=c;this.isBeak="beak"==d;this.isTail="tail"==d;this.isLEDArray="LEDArray"==d;this.blue=this.green=this.red=0;this.duration=10;this.ledStatusString="0000001010000001000101110";this.ledOffString="0000000000000000000000000";this.ledArray=[];CommandBlock.call(this,a,b,"color_"+c);a=VectorPaths.mvFinch;b=Colors.white;c=40;this.isLEDArray&&(a=VectorPaths.microbit,b=Colors.bbtDarkGray,c=30);this.blockIcon=new BlockIcon(this,a,b,"finchColor",c);this.blockIcon.isEndOfLine=
!0;this.isLEDArray&&this.blockIcon.addBackgroundRect();this.addPart(this.blockIcon);this.isBeak||this.isTail?(a=VectorPaths.mvFinchTail,this.isBeak&&(a=VectorPaths.mvFinchBeak),this.blockIcon.addSecondIcon(a,Colors.iron),this.ledIcon=this.blockIcon.icon.pathE2):this.ledArrayImage=GuiElements.draw.ledArray(this.blockIcon.icon.group,this.ledStatusString,20)}B_FBColor.prototype=Object.create(CommandBlock.prototype);B_FBColor.prototype.constructor=B_FBColor;B_FBColor.prototype.primName=function(){return"mbDisplay"};
B_FBColor.prototype.argList=function(){return[parseInt(this.ledStatusString.split("").reverse().join(""),2)]};
B_FBColor.prototype.startAction=function(){const a=this.runMem;a.timerStarted=!1;a.duration=100*this.duration;a.offSent=!1;a.requestStatus={};a.requestStatus.finished=!1;a.requestStatus.error=!1;a.requestStatus.result=null;let b=DeviceFinch.getManager().getDevice(0);Hatchling&&(b=DeviceHatchling.getManager().getDevice(0));if(null!=b)this.isBeak?b.setBeak(a.requestStatus,this.red,this.green,this.blue):this.isTail?b.setTail(a.requestStatus,"all",this.red,this.green,this.blue):this.isLEDArray&&b.setLedArray(a.requestStatus,
this.ledStatusString);else return a.requestStatus.finished=!0,a.duration=0,TitleBar.flashFinchButton(),new ExecutionStatusError;return new ExecutionStatusRunning};
B_FBColor.prototype.updateAction=function(){const a=this.runMem;if(!a.timerStarted)if(!0===a.requestStatus.finished)a.startTime=(new Date).getTime(),a.timerStarted=!0;else return new ExecutionStatusRunning;if((new Date).getTime()>=a.startTime+a.duration){if(a.offSent)return new ExecutionStatusDone;a.offSent=!0;a.timerStarted=!1;a.duration=0;a.requestStatus.finished=!1;let b=DeviceFinch.getManager().getDevice(0);null!=b?this.isBeak?b.setBeak(a.requestStatus,0,0,0):this.isTail?b.setTail(a.requestStatus,
"all",0,0,0):this.isLEDArray&&b.setLedArray(a.requestStatus,this.ledOffString):a.requestStatus.finished=!0}return new ExecutionStatusRunning};
B_FBColor.prototype.updateColor=function(){this.isLEDArray?(this.ledArrayImage.group.remove(),this.ledArrayImage=GuiElements.draw.ledArray(this.blockIcon.icon.group,this.ledStatusString,20),GuiElements.move.group(this.ledArrayImage.group,this.blockIcon.icon.width/(2*this.blockIcon.icon.scaleX)-this.ledArrayImage.width/2,this.blockIcon.icon.height/(2*this.blockIcon.icon.scaleY)-this.ledArrayImage.width/2-35)):(this.colorHex=Colors.rgbToHex(2.55*this.red,2.55*this.green,2.55*this.blue),GuiElements.update.color(this.ledIcon,
this.colorHex))};B_FBColor.prototype.updateValues=function(){null!=this.colorButton&&(this.isLEDArray?this.ledStatusString=this.colorButton.values[0]:(this.red=this.colorButton.values[0].r,this.green=this.colorButton.values[0].g,this.blue=this.colorButton.values[0].b),this.updateColor(),2==this.colorButton.widgets.length&&(this.duration=this.colorButton.values[1]))};
B_FBColor.prototype.addL2Button=function(){if(this.isLEDArray){var a="0000001010000001000101110 0000001010000000111010001 0101000000001000101000100 1010010100111101101011110 0111010101111111111110101 1111110001100011000111111 0101011111111110111000100 0010001010100010101000100".split(" ");Hatchling&&a.push("0000000000000000000000000");let b=a[3];this.useAlphabet&&(a="0110010010111101001010010 1110010010111001001011100 0111010000100001000001110 1110010010100101001011100 1111010000111001000011110 1111010000111001000010000 0111010000100111000101110 1001010010111101001010010 1110001000010000100011100 0111000100001001010001100 1001010100110001010010010 1000010000100001000011110 1000111011101011000110001 1000111001101011001110001 0110010010100101001001100 1110010010111001000010000 0110010010101101001001101 1110010010111001010010010 0110010000011000001011100 1111100100001000010000100 1000110001100011000101110 1000110001100010101000100 1000110001101011101110001 1000101010001000101010001 1000101010001000010000100 1111100010001000100011111".split(" "),
b=a[0]);this.colorButton=new BlockButton(this);this.colorButton.addSlider("ledArray",b,a)}else this.blue=100,a={r:this.red,g:this.green,b:this.blue},this.colorButton=new BlockButton(this),this.colorButton.addSlider("color",a);this.addPart(this.colorButton);this.updateColor()};function B_FBColorL1(a,b,c){B_FBColor.call(this,a,b,1,c)}B_FBColorL1.prototype=Object.create(B_FBColor.prototype);B_FBColorL1.prototype.constructor=B_FBColorL1;
function B_FBBeakRed(a,b){B_FBColorL1.call(this,a,b,"beak");this.red=100;this.updateColor()}B_FBBeakRed.prototype=Object.create(B_FBColorL1.prototype);B_FBBeakRed.prototype.constructor=B_FBBeakRed;function B_FBTailRed(a,b){B_FBColorL1.call(this,a,b,"tail");this.red=100;this.updateColor()}B_FBTailRed.prototype=Object.create(B_FBColorL1.prototype);B_FBTailRed.prototype.constructor=B_FBTailRed;function B_FBBeakGreen(a,b){B_FBColorL1.call(this,a,b,"beak");this.green=100;this.updateColor()}
B_FBBeakGreen.prototype=Object.create(B_FBColorL1.prototype);B_FBBeakGreen.prototype.constructor=B_FBBeakGreen;function B_FBTailGreen(a,b){B_FBColorL1.call(this,a,b,"tail");this.green=100;this.updateColor()}B_FBTailGreen.prototype=Object.create(B_FBColorL1.prototype);B_FBTailGreen.prototype.constructor=B_FBTailGreen;function B_FBBeakBlue(a,b){B_FBColorL1.call(this,a,b,"beak");this.blue=100;this.updateColor()}B_FBBeakBlue.prototype=Object.create(B_FBColorL1.prototype);
B_FBBeakBlue.prototype.constructor=B_FBBeakBlue;function B_FBTailBlue(a,b){B_FBColorL1.call(this,a,b,"tail");this.blue=100;this.updateColor()}B_FBTailBlue.prototype=Object.create(B_FBColorL1.prototype);B_FBTailBlue.prototype.constructor=B_FBTailBlue;function B_FBColorL2(a,b,c){B_FBColor.call(this,a,b,2,c);this.addL2Button()}B_FBColorL2.prototype=Object.create(B_FBColor.prototype);B_FBColorL2.prototype.constructor=B_FBColorL2;function B_FBBeakL2(a,b){B_FBColorL2.call(this,a,b,"beak")}
B_FBBeakL2.prototype=Object.create(B_FBColorL2.prototype);B_FBBeakL2.prototype.constructor=B_FBBeakL2;function B_FBTailL2(a,b){B_FBColorL2.call(this,a,b,"tail")}B_FBTailL2.prototype=Object.create(B_FBColorL2.prototype);B_FBTailL2.prototype.constructor=B_FBTailL2;function B_FBLedArrayL2(a,b){B_FBColorL2.call(this,a,b,"LEDArray")}B_FBLedArrayL2.prototype=Object.create(B_FBColorL2.prototype);B_FBLedArrayL2.prototype.constructor=B_FBLedArrayL2;
function B_FBColorL3(a,b,c){B_FBColor.call(this,a,b,3,c);this.addL2Button();this.colorButton.addSlider("time",this.duration,[1,2,3,4,5,6,7,8,9,10])}B_FBColorL3.prototype=Object.create(B_FBColor.prototype);B_FBColorL3.prototype.constructor=B_FBColorL3;function B_FBBeakL3(a,b){B_FBColorL3.call(this,a,b,"beak")}B_FBBeakL3.prototype=Object.create(B_FBColorL3.prototype);B_FBBeakL3.prototype.constructor=B_FBBeakL3;function B_FBTailL3(a,b){B_FBColorL3.call(this,a,b,"tail")}B_FBTailL3.prototype=Object.create(B_FBColorL3.prototype);
B_FBTailL3.prototype.constructor=B_FBTailL3;function B_FBLedArrayL3(a,b){B_FBColorL3.call(this,a,b,"LEDArray")}B_FBLedArrayL3.prototype=Object.create(B_FBColorL3.prototype);B_FBLedArrayL3.prototype.constructor=B_FBLedArrayL3;
function B_FBMotion(a,b,c,d){this.direction=c;this.level=d;this.defaultAngle=90;this.defaultDistance=10;this.defaultSpeed=50;this.setDefaults();CommandBlock.call(this,a,b,"motion_"+d);this.blockIcon=new BlockIcon(this,VectorPaths[B_FBMotion.iconPaths[c]],Colors.white,"moveFinch",27);this.blockIcon.isEndOfLine=!0;this.addPart(this.blockIcon)}B_FBMotion.prototype=Object.create(CommandBlock.prototype);B_FBMotion.prototype.constructor=B_FBMotion;
B_FBMotion.prototype.setupAction=function(){let a=this.runMem;a.requestStatus={};a.requestStatus.finished=!1;a.requestStatus.error=!1;a.requestStatus.result=null;let b=DeviceFinch.getManager().getDevice(0);null==b&&(a.requestStatus.finished=!0,a.duration=0,TitleBar.flashFinchButton());return b};B_FBMotion.prototype.sendCheckMoving=function(){this.device=this.setupAction();if(null==this.device)return new ExecutionStatusError;this.device.readSensor(this.runMem.requestStatus,"isMoving");return new ExecutionStatusRunning};
B_FBMotion.prototype.checkMoving=function(){this.device.isMoving="1"===this.runMem.requestStatus.result;const a=(new Date).getTime()>this.moveSentTime+500;if((this.wasMoving||a)&&!this.device.isMoving)return new ExecutionStatusDone;this.wasMoving=this.device.isMoving;return this.sendCheckMoving()};B_FBMotion.prototype.startAction=function(){this.wasMoving=this.moveSendFinished=this.moveSent=!1;return this.sendCheckMoving()};
B_FBMotion.prototype.updateAction=function(){if(this.runMem.requestStatus.finished){if(this.runMem.requestStatus.error)return new ExecutionStatusError;if(this.moveSent){if(this.moveSendFinished)return this.checkMoving();this.moveSendFinished=!0;return this.sendCheckMoving()}this.wasMoving="1"===status.result;this.moveSentTime=(new Date).getTime();this.device=this.setupAction();if(null==this.device)return new ExecutionStatusError;this.device.setMotors(this.runMem.requestStatus,this.leftSpeed,this.leftTicks,
this.rightSpeed,this.rightTicks);this.moveSent=!0}return new ExecutionStatusRunning};
B_FBMotion.prototype.setDefaults=function(){switch(this.direction){case "forward":this.rightSpeed=this.leftSpeed=this.defaultSpeed;break;case "backward":this.leftSpeed=-this.defaultSpeed;this.rightSpeed=-this.defaultSpeed;break;case "right":this.leftSpeed=this.defaultSpeed;this.rightSpeed=-this.defaultSpeed;break;case "left":this.leftSpeed=-this.defaultSpeed;this.rightSpeed=this.defaultSpeed;break;default:GuiElements.alert("unknown direction in motion block set defaults")}switch(this.direction){case "forward":case "backward":this.leftTicks=Math.round(this.defaultDistance*
DeviceFinch.ticksPerCM);this.rightTicks=Math.round(this.defaultDistance*DeviceFinch.ticksPerCM);break;case "right":case "left":this.leftTicks=Math.round(this.defaultAngle*DeviceFinch.ticksPerDegree);this.rightTicks=Math.round(this.defaultAngle*DeviceFinch.ticksPerDegree);break;default:GuiElements.alert("unknown direction in motion block set defaults")}};
B_FBMotion.prototype.addL2Button=function(){switch(this.direction){case "forward":case "backward":this.distanceBN=new BlockButton(this);this.distanceBN.addSlider("distance",this.defaultDistance,[5,10,20,30,40,50,60,70,80,90,100]);this.addPart(this.distanceBN);break;case "right":case "left":this.angleBN=new BlockButton(this);this.angleBN.addSlider("angle_"+this.direction,this.defaultAngle,[5,30,60,90,120,150,180,210,240,270,300,330,360]);this.addPart(this.angleBN);break;default:GuiElements.alert("unknown direction in motion block add l2 bn")}};
B_FBMotion.prototype.updateValues=function(){let a;null!=this.distanceBN&&(this.leftTicks=Math.round(this.distanceBN.values[0]*DeviceFinch.ticksPerCM),this.rightTicks=Math.round(this.distanceBN.values[0]*DeviceFinch.ticksPerCM),a=this.distanceBN.values[1]);null!=this.angleBN&&(this.leftTicks=Math.round(this.angleBN.values[0]*DeviceFinch.ticksPerDegree),this.rightTicks=Math.round(this.angleBN.values[0]*DeviceFinch.ticksPerDegree),a=this.angleBN.values[1]);if(null!=a)switch(this.direction){case "forward":this.rightSpeed=
this.leftSpeed=a;break;case "backward":this.leftSpeed=-a;this.rightSpeed=-a;break;case "right":this.leftSpeed=a;this.rightSpeed=-a;break;case "left":this.leftSpeed=-a;this.rightSpeed=a;break;default:GuiElements.alert("unknown direction in motion block update values")}};B_FBMotion.iconPaths={forward:"mjForward",right:"mjTurnRight",backward:"mjBack",left:"mjTurnLeft",clockwise:"bsArrowClockwise",counterclockwise:"bsArrowCounterClockwise",wheels:"bsDiscFill"};
function B_FBForward(a,b){B_FBMotion.call(this,a,b,"forward",1)}B_FBForward.prototype=Object.create(B_FBMotion.prototype);B_FBForward.prototype.constructor=B_FBForward;function B_FBBackward(a,b){B_FBMotion.call(this,a,b,"backward",1)}B_FBBackward.prototype=Object.create(B_FBMotion.prototype);B_FBBackward.prototype.constructor=B_FBBackward;function B_FBRight(a,b){B_FBMotion.call(this,a,b,"right",1)}B_FBRight.prototype=Object.create(B_FBMotion.prototype);B_FBRight.prototype.constructor=B_FBRight;
function B_FBLeft(a,b){B_FBMotion.call(this,a,b,"left",1)}B_FBLeft.prototype=Object.create(B_FBMotion.prototype);B_FBLeft.prototype.constructor=B_FBLeft;function B_FBMotionL2(a,b,c){B_FBMotion.call(this,a,b,c,2);this.addL2Button()}B_FBMotionL2.prototype=Object.create(B_FBMotion.prototype);B_FBMotionL2.prototype.constructor=B_FBMotionL2;function B_FBForwardL2(a,b){B_FBMotionL2.call(this,a,b,"forward")}B_FBForwardL2.prototype=Object.create(B_FBMotionL2.prototype);
B_FBForwardL2.prototype.constructor=B_FBForwardL2;function B_FBBackwardL2(a,b){B_FBMotionL2.call(this,a,b,"backward")}B_FBBackwardL2.prototype=Object.create(B_FBMotionL2.prototype);B_FBBackwardL2.prototype.constructor=B_FBBackwardL2;function B_FBRightL2(a,b){B_FBMotionL2.call(this,a,b,"right")}B_FBRightL2.prototype=Object.create(B_FBMotionL2.prototype);B_FBRightL2.prototype.constructor=B_FBRightL2;function B_FBLeftL2(a,b){B_FBMotionL2.call(this,a,b,"left")}B_FBLeftL2.prototype=Object.create(B_FBMotionL2.prototype);
B_FBLeftL2.prototype.constructor=B_FBLeftL2;function B_FBMotionL3(a,b,c){B_FBMotion.call(this,a,b,c,3);this.addL2Button();null!=this.distanceBN&&this.distanceBN.addSlider("percent",this.defaultSpeed,[10,20,30,40,50,60,70,80,90,100]);null!=this.angleBN&&this.angleBN.addSlider("percent",this.defaultSpeed,[10,20,30,40,50,60,70,80,90,100])}B_FBMotionL3.prototype=Object.create(B_FBMotionL2.prototype);B_FBMotionL3.prototype.constructor=B_FBMotionL3;
function B_FBForwardL3(a,b){B_FBMotionL3.call(this,a,b,"forward")}B_FBForwardL3.prototype=Object.create(B_FBMotionL3.prototype);B_FBForwardL3.prototype.constructor=B_FBForwardL3;function B_FBBackwardL3(a,b){B_FBMotionL3.call(this,a,b,"backward")}B_FBBackwardL3.prototype=Object.create(B_FBMotionL3.prototype);B_FBBackwardL3.prototype.constructor=B_FBBackwardL3;function B_FBRightL3(a,b){B_FBMotionL3.call(this,a,b,"right")}B_FBRightL3.prototype=Object.create(B_FBMotionL3.prototype);
B_FBRightL3.prototype.constructor=B_FBRightL3;function B_FBLeftL3(a,b){B_FBMotionL3.call(this,a,b,"left")}B_FBLeftL3.prototype=Object.create(B_FBMotionL3.prototype);B_FBLeftL3.prototype.constructor=B_FBLeftL3;function B_FBWheels(a,b){this.speedLR="20 40";this.duration=10;B_FBMotion.call(this,a,b,"wheels",3);this.wheelsBN=new BlockButton(this);this.addPart(this.wheelsBN)}B_FBWheels.prototype=Object.create(B_FBMotion.prototype);B_FBWheels.prototype.constructor=B_FBWheels;
B_FBWheels.prototype.startAction=function(){this.device=this.setupAction();this.runMem.duration=100*this.duration;if(null==this.device)return new ExecutionStatusError;var a=this.speedLR.split(" ");let b=parseInt(a[0]);a=parseInt(a[1]);console.log("SPEEDS: '"+b+"' "+typeof b+"; '"+a+"' "+typeof a);this.device.setMotors(this.runMem.requestStatus,b,0,a,0);return new ExecutionStatusRunning};
B_FBWheels.prototype.updateAction=function(){const a=this.runMem;if(!a.timerStarted)if(!0===a.requestStatus.finished)a.startTime=(new Date).getTime(),a.timerStarted=!0;else return new ExecutionStatusRunning;if((new Date).getTime()>=a.startTime+a.duration){if(a.offSent)return new ExecutionStatusDone;a.offSent=!0;a.timerStarted=!1;a.duration=0;a.requestStatus.finished=!1;null!=DeviceFinch.getManager().getDevice(0)?this.device.setMotors(a.requestStatus,0,0,0,0):a.requestStatus.finished=!0}return new ExecutionStatusRunning};
B_FBWheels.prototype.updateValues=function(){null!=this.wheelsBN&&(this.speedLR=this.wheelsBN.values[0],1<this.wheelsBN.widgets.length&&(this.duration=this.wheelsBN.values[1]))};function B_FBWheelsL3A(a,b){B_FBWheels.call(this,a,b);this.wheelsBN.addSlider("wheels_a",this.speedLR,[0,10,20,30,40,50,60,70,80,90,100]);this.wheelsBN.addSlider("time",this.duration,[5,10,15,20,25,30,35,40,45,50])}B_FBWheelsL3A.prototype=Object.create(B_FBWheels.prototype);B_FBWheelsL3A.prototype.constructor=B_FBWheelsL3A;
function B_FBWheelsL3B(a,b){B_FBWheels.call(this,a,b);this.wheelsBN.addSlider("wheels_b",this.speedLR,[0,10,20,30,40,50,60,70,80,90,100]);this.wheelsBN.addSlider("time",this.duration,[5,10,15,20,25,30,35,40,45,50])}B_FBWheelsL3B.prototype=Object.create(B_FBWheels.prototype);B_FBWheelsL3B.prototype.constructor=B_FBWheelsL3B;
function B_FBCircleL3(a,b){this.angle=90;this.radius=10;B_FBMotion.call(this,a,b,"clockwise",3);this.circleBN=new BlockButton(this);this.circleBN.addSlider("angle_"+this.direction,this.angle,[30,60,90,120,150,180,210,240,270,300,330,360]);this.circleBN.addSlider("distance",this.radius,[5,10,15,20]);this.addPart(this.circleBN)}B_FBCircleL3.prototype=Object.create(B_FBMotion.prototype);B_FBCircleL3.prototype.constructor=B_FBCircleL3;
B_FBCircleL3.prototype.updateValues=function(){this.angle=this.circleBN.values[0];this.radius=this.circleBN.values[1]||this.radius;let a="clockwise"==this.direction;var b=this.angle/360*Math.PI*(this.radius-5)*2;let c=this.angle/360*Math.PI*(this.radius+5)*2;this.rightTicks=(a?b:c)*DeviceFinch.ticksPerCM;this.leftTicks=(a?c:b)*DeviceFinch.ticksPerCM;b=b/c*40;this.leftSpeed=a?40:b;this.rightSpeed=a?b:40};
function B_FBSensorBlock(a,b,c){this.sensor=c;this.distanceThreshold=this.speed=30;this.lightThreshold=5;this.threshold=this.distanceThreshold/DeviceFinch.cmPerDistance;"dark"==c&&(this.threshold=this.lightThreshold);CommandBlock.call(this,a,b,"motion_3")}B_FBSensorBlock.prototype=Object.create(CommandBlock.prototype);B_FBSensorBlock.prototype.constructor=B_FBSensorBlock;
B_FBSensorBlock.prototype.startAction=function(){this.blankRequestStatus={};this.blankRequestStatus.finished=!1;this.blankRequestStatus.error=!1;this.blankRequestStatus.result=null;this.blankRequestStatus.requestSent=!1;this.runMem.requestStatus=Object.assign({},this.blankRequestStatus);this.runMem.motorRequestFinished=!1;let a=DeviceFinch.getManager().getDevice(0);if(null!=a)"obstacle"==this.sensor&&(this.threshold=a.hasV2Microbit?this.distanceThreshold:this.distanceThreshold/DeviceFinch.cmPerDistance),
a.setMotors(this.runMem.requestStatus,this.speed,0,this.speed,0),a.isMoving=!0;else return TitleBar.flashFinchButton(),new ExecutionStatusError;return new ExecutionStatusRunning};
B_FBSensorBlock.prototype.updateAction=function(){var a=this.runMem.requestStatus;if(a.requestSent){if(a.finished){if(a.error)return new ExecutionStatusError;if(!this.runMem.motorRequestFinished)return this.runMem.motorRequestFinished=!0,this.runMem.requestStatus=Object.assign({},this.blankRequestStatus),new ExecutionStatusRunning;a=(new StringData(a.result)).asNum().getValue()<this.threshold;var b=DeviceFinch.getManager().getDevice(0);if(a||null!=b&&!b.isMoving||null==b)return a&&null!=b&&(b.setMotors(this.runMem.requestStatus,
0,0,0,0),b.isMoving=!1),new ExecutionStatusDone;this.runMem.requestStatus=Object.assign({},this.blankRequestStatus)}}else if(b=DeviceFinch.getManager().getDevice(0),null!=b)"dark"==this.sensor?b.readSensor(a,"light","left"):b.readSensor(a,"distance"),a.requestSent=!0;else return new ExecutionStatusDone;return new ExecutionStatusRunning};
function B_FBForwardUntilDark(a,b){B_FBSensorBlock.call(this,a,b,"dark");this.colorTopHalf(Colors.darkTeal);a=new BlockIcon(this,VectorPaths.mjSun,Colors.black,"sun",25);a.icon.setRotation(-8);a.negate(Colors.black);a.isEndOfLine=!0;a.addSecondIcon(VectorPaths[B_FBMotion.iconPaths.forward],Colors.white,!0,null,5);this.addPart(a)}B_FBForwardUntilDark.prototype=Object.create(B_FBSensorBlock.prototype);B_FBForwardUntilDark.prototype.constructor=B_FBForwardUntilDark;
function B_FBForwardUntilObstacle(a,b){B_FBSensorBlock.call(this,a,b,"obstacle");a=new BlockIcon(this,VectorPaths[B_FBMotion.iconPaths.forward],Colors.white,"obstacle",25);a.addObstacle(Colors.darkTeal);a.isEndOfLine=!0;this.addPart(a)}B_FBForwardUntilObstacle.prototype=Object.create(B_FBSensorBlock.prototype);B_FBForwardUntilObstacle.prototype.constructor=B_FBForwardUntilObstacle;
function B_FBSound(a,b,c){this.level=c;CommandBlock.call(this,a,b,"sound_"+c);a=35;1==c&&(a=24);this.blockIcon=new BlockIcon(this,VectorPaths.mvMusicNote,Colors.white,"finchSound",a);this.blockIcon.isEndOfLine=!0;this.addPart(this.blockIcon);this.midiNote=60;this.beats=5}B_FBSound.prototype=Object.create(CommandBlock.prototype);B_FBSound.prototype.constructor=B_FBSound;B_FBSound.prototype.primName=function(){return"blockList"};
B_FBSound.prototype.argList=function(){let a=100*this.beats;return[new BlockArg("[io:playTone]",[-1,440*Math.pow(2,(this.midiNote-69)/12)]),new BlockArg("waitMillis",[a]),new BlockArg("[io:playTone]",[-1,0])]};
B_FBSound.prototype.startAction=function(){const a=this.runMem;a.timerStarted=!1;a.duration=100*this.beats;a.requestStatus={};a.requestStatus.finished=!0;a.requestStatus.error=!1;a.requestStatus.result=null;let b=DeviceFinch.getManager().getDevice(0);Hatchling&&(b=DeviceHatchling.getManager().getDevice(0));if(null!=b)0<a.duration?b.setBuzzer(a.requestStatus,this.midiNote,a.duration):a.requestStatus.finished=!0;else return a.requestStatus.finished=!0,a.duration=0,TitleBar.flashFinchButton(),new ExecutionStatusError;
return new ExecutionStatusRunning};B_FBSound.prototype.updateAction=function(){const a=this.runMem;if(!a.timerStarted)if(!0===a.requestStatus.finished)a.startTime=(new Date).getTime(),a.timerStarted=!0;else return new ExecutionStatusRunning;return(new Date).getTime()>=a.startTime+a.duration?new ExecutionStatusDone:new ExecutionStatusRunning};
B_FBSound.prototype.updateValues=function(){null!=this.noteButton&&(this.midiNote=this.noteButton.values[0],2==this.noteButton.widgets.length&&(this.beats=this.noteButton.values[1]),this.blockButton.popupIsDisplayed&&HtmlServer.sendTabletSoundRequest(this.midiNote,100*this.beats))};function B_FBSoundL1(a,b,c,d){B_FBSound.call(this,a,b,1);this.midiNote=d;this.blockIcon.addText(c,12,30)}B_FBSoundL1.prototype=Object.create(B_FBSound.prototype);B_FBSoundL1.prototype.constructor=B_FBSoundL1;
function B_FBC(a,b){B_FBSoundL1.call(this,a,b,"C",60)}B_FBC.prototype=Object.create(B_FBSoundL1.prototype);B_FBC.prototype.constructor=B_FBC;function B_FBD(a,b){B_FBSoundL1.call(this,a,b,"D",62)}B_FBD.prototype=Object.create(B_FBSoundL1.prototype);B_FBD.prototype.constructor=B_FBD;function B_FBE(a,b){B_FBSoundL1.call(this,a,b,"E",64)}B_FBE.prototype=Object.create(B_FBSoundL1.prototype);B_FBE.prototype.constructor=B_FBE;function B_FBF(a,b){B_FBSoundL1.call(this,a,b,"F",65)}B_FBF.prototype=Object.create(B_FBSoundL1.prototype);
B_FBF.prototype.constructor=B_FBF;function B_FBG(a,b){B_FBSoundL1.call(this,a,b,"G",67)}B_FBG.prototype=Object.create(B_FBSoundL1.prototype);B_FBG.prototype.constructor=B_FBG;function B_FBA(a,b){B_FBSoundL1.call(this,a,b,"A",69)}B_FBA.prototype=Object.create(B_FBSoundL1.prototype);B_FBA.prototype.constructor=B_FBA;function B_FBSoundL2(a,b){B_FBSound.call(this,a,b,2);this.noteButton=new BlockButton(this);this.noteButton.addPiano(this.midiNote);this.addPart(this.noteButton)}B_FBSoundL2.prototype=Object.create(B_FBSound.prototype);
B_FBSoundL2.prototype.constructor=B_FBSoundL2;function B_FBSoundL3(a,b){B_FBSound.call(this,a,b,3);this.noteButton=new BlockButton(this);this.noteButton.addPiano(this.midiNote);this.addPart(this.noteButton);this.noteButton.addSlider("time",this.beats,[1,2,3,4,5,6,7,8,9,10])}B_FBSoundL3.prototype=Object.create(B_FBSound.prototype);B_FBSoundL3.prototype.constructor=B_FBSoundL3;
function B_WhenFlagTapped(a,b){FinchBlox?(HatBlock.call(this,a,b,"control_3"),this.addPart(new BlockIcon(this,VectorPaths.faFlag,Colors.flagGreen,"flag",35)),this.isStartBlock=!0):(HatBlock.call(this,a,b,"control"),this.addPart(new BlockIcon(this,VectorPaths.flag,TitleBar.flagFill,"flag",15)),this.parseTranslation(Language.getStr("block_when_flag_tapped")))}B_WhenFlagTapped.prototype=Object.create(HatBlock.prototype);B_WhenFlagTapped.prototype.constructor=B_WhenFlagTapped;
B_WhenFlagTapped.prototype.primName=function(){return"whenStarted"};B_WhenFlagTapped.prototype.argList=function(){return[]};B_WhenFlagTapped.prototype.eventFlagClicked=function(){this.stack.startRun(null,null,!0)};B_WhenFlagTapped.prototype.startAction=function(){return new ExecutionStatusDone};function B_WhenIReceive(a,b){HatBlock.call(this,a,b,"control");this.addPart(new BroadcastDropSlot(this,"BDS_msg",!0));this.parseTranslation(Language.getStr("block_when_I_receive"))}
B_WhenIReceive.prototype=Object.create(HatBlock.prototype);B_WhenIReceive.prototype.constructor=B_WhenIReceive;B_WhenIReceive.prototype.eventBroadcast=function(a){const b=this.slots[0].getDataNotFromChild();let c=!1;b.isSelection()?"any_message"===b.getValue()&&(c=!0):b.asString().getValue()===a&&(c=!0);c&&(this.stack.stop(),this.stack.startRun(null,a))};B_WhenIReceive.prototype.startAction=function(){return new ExecutionStatusDone};
function B_Wait(a,b){FinchBlox?(CommandBlock.call(this,a,b,"control_3"),a=new BlockIcon(this,VectorPaths.faClockSolid,Colors.white,"clock",35),a.isEndOfLine=!0,this.addPart(a),this.timeSelection=30,this.timeBN=new BlockButton(this),this.timeBN.addSlider("time",this.timeSelection,[1,10,20,30,40,50]),this.addPart(this.timeBN)):(CommandBlock.call(this,a,b,"control"),this.addPart(new NumSlot(this,"NumS_dur",1,!0)),this.parseTranslation(Language.getStr("block_wait")))}B_Wait.prototype=Object.create(CommandBlock.prototype);
B_Wait.prototype.constructor=B_Wait;B_Wait.prototype.primName=function(){return"waitMillis"};B_Wait.prototype.argList=function(){return[100*this.timeSelection]};B_Wait.prototype.startAction=function(){const a=this.runMem;a.startTime=(new Date).getTime();a.delayTime=FinchBlox?100*this.timeSelection:1E3*this.slots[0].getData().getValueWithC(!0);return new ExecutionStatusRunning};
B_Wait.prototype.updateAction=function(){const a=this.runMem;return(new Date).getTime()>=a.startTime+a.delayTime?new ExecutionStatusDone:new ExecutionStatusRunning};B_Wait.prototype.updateValues=function(){null!=this.timeBN&&(this.timeSelection=this.timeBN.values[0])};function B_WaitUntil(a,b){CommandBlock.call(this,a,b,"control");this.addPart(new BoolSlot(this,"BoolS_cond"));this.parseTranslation(Language.getStr("block_wait_until"))}B_WaitUntil.prototype=Object.create(CommandBlock.prototype);
B_WaitUntil.prototype.constructor=B_WaitUntil;B_WaitUntil.prototype.startAction=function(){if(this.slots[0].getData().getValue())return new ExecutionStatusDone;this.running=0;this.clearMem();return new ExecutionStatusRunning};function B_Forever(a,b){let c="control";FinchBlox&&(c="control_3");LoopBlock.call(this,a,b,c,!1);FinchBlox?this.addPart(new BlockIcon(this,VectorPaths.faSyncAlt,Colors.white,"repeat",30)):this.addPart(new LabelText(this,Language.getStr("block_repeat_forever")))}
B_Forever.prototype=Object.create(LoopBlock.prototype);B_Forever.prototype.constructor=B_Forever;B_Forever.prototype.primName=function(){return"forever"};B_Forever.prototype.argList=function(){return[this.blockSlot1.child]};B_Forever.prototype.startAction=function(){this.blockSlot1.startRun();return new ExecutionStatusRunning};B_Forever.prototype.updateAction=function(){let a=this.blockSlot1.updateRun();if(!a.isRunning()){if(a.hasError())return a;this.blockSlot1.startRun()}return new ExecutionStatusRunning};
function B_Repeat(a,b){let c="control";FinchBlox&&(c="control_3");LoopBlock.call(this,a,b,c);FinchBlox?(this.countSelection=10,this.blockIcon=new BlockIcon(this,VectorPaths.faSyncAlt,Colors.white,"repeat",30),this.blockIcon.isEndOfLine=!0,this.addPart(this.blockIcon),this.countBN=new BlockButton(this),this.countBN.addSlider("count",this.countSelection,[1,2,3,4,5,6,7,8,9,10]),this.addPart(this.countBN),this.updateValues()):(this.addPart(new NumSlot(this,"NumS_count",10,!0,!0)),this.parseTranslation(Language.getStr("block_repeat")))}
B_Repeat.prototype=Object.create(LoopBlock.prototype);B_Repeat.prototype.constructor=B_Repeat;B_Repeat.prototype.primName=function(){return"repeat"};B_Repeat.prototype.argList=function(){return[this.countSelection,this.blockSlot1.child]};
B_Repeat.prototype.startAction=function(){const a=this.runMem;FinchBlox?a.times=this.countSelection:(a.timesD=this.slots[0].getData(),a.times=a.timesD.getValueWithC(!0,!0));a.count=0;return 0<a.times&&(FinchBlox||a.timesD.isValid)?(this.blockSlot1.startRun(),new ExecutionStatusRunning):new ExecutionStatusDone};
B_Repeat.prototype.updateAction=function(){var a=this.blockSlot1.updateRun();if(!a.isRunning()){if(a.hasError())return a;a=this.runMem;a.count++;if(a.count>=a.times)return new ExecutionStatusDone;this.blockSlot1.startRun()}return new ExecutionStatusRunning};B_Repeat.prototype.updateValues=function(){null!=this.countBN&&(this.countSelection=this.countBN.values[0],this.blockIcon.addText(this.countSelection,30,28))};
function B_RepeatUntil(a,b){LoopBlock.call(this,a,b,"control");this.addPart(new BoolSlot(this,"BoolS_cond"));this.parseTranslation(Language.getStr("block_repeat_until"))}B_RepeatUntil.prototype=Object.create(LoopBlock.prototype);B_RepeatUntil.prototype.constructor=B_RepeatUntil;B_RepeatUntil.prototype.startAction=function(){if(this.slots[0].getData().getValue())return new ExecutionStatusDone;this.blockSlot1.startRun();return new ExecutionStatusRunning};
B_RepeatUntil.prototype.updateAction=function(){let a=this.blockSlot1.updateRun();if(!a.isRunning()){if(a.hasError())return a;this.running=0;this.clearMem()}return new ExecutionStatusRunning};function B_If(a,b){LoopBlock.call(this,a,b,"control");this.addPart(new BoolSlot(this,"BoolS_cond"));this.parseTranslation(Language.getStr("block_if"))}B_If.prototype=Object.create(LoopBlock.prototype);B_If.prototype.constructor=B_If;
B_If.prototype.startAction=function(){return this.slots[0].getData().getValue()?(this.blockSlot1.startRun(),new ExecutionStatusRunning):new ExecutionStatusDone};B_If.prototype.updateAction=function(){return this.blockSlot1.updateRun()};function B_IfElse(a,b){DoubleLoopBlock.call(this,a,b,"control",Language.getStr("else"));this.addPart(new BoolSlot(this,"BoolS_cond"));this.parseTranslation(Language.getStr("block_if_else"))}B_IfElse.prototype=Object.create(DoubleLoopBlock.prototype);
B_IfElse.prototype.constructor=B_IfElse;B_IfElse.prototype.startAction=function(){this.runMem.check=this.slots[0].getData().getValue();this.runMem.check?this.blockSlot1.startRun():this.blockSlot2.startRun();return new ExecutionStatusRunning};B_IfElse.prototype.updateAction=function(){return this.runMem.check?this.blockSlot1.updateRun():this.blockSlot2.updateRun()};
function B_Broadcast(a,b){CommandBlock.call(this,a,b,"control");this.addPart(new BroadcastDropSlot(this,"BDS_msg",!1));this.parseTranslation(Language.getStr("block_broadcast"))}B_Broadcast.prototype=Object.create(CommandBlock.prototype);B_Broadcast.prototype.constructor=B_Broadcast;
B_Broadcast.prototype.startAction=function(){this.runMem.finished=!1;const a=this.runMem.message=this.slots[0].getData().asString().getValue();if(""===a)return new ExecutionStatusDone;CodeManager.checkBroadcastDelay()&&(CodeManager.message=new StringData(a),CodeManager.eventBroadcast(a),this.runMem.finished=!0);return new ExecutionStatusRunning};
B_Broadcast.prototype.updateAction=function(){if(this.runMem.finished)return new ExecutionStatusDone;const a=this.runMem.message;CodeManager.checkBroadcastDelay()&&(CodeManager.message=new StringData(a),CodeManager.eventBroadcast(a),this.runMem.finished=!0);return new ExecutionStatusRunning};function B_BroadcastAndWait(a,b){CommandBlock.call(this,a,b,"control");this.addPart(new BroadcastDropSlot(this,"BDS_msg",!1));this.parseTranslation(Language.getStr("block_broadcast_and_wait"))}
B_BroadcastAndWait.prototype=Object.create(CommandBlock.prototype);B_BroadcastAndWait.prototype.constructor=B_BroadcastAndWait;B_BroadcastAndWait.prototype.startAction=function(){const a=this.slots[0].getData().asString().getValue();""!==a&&(this.runMem.message=a,CodeManager.message=new StringData(a),CodeManager.eventBroadcast(a));return new ExecutionStatusRunning};
B_BroadcastAndWait.prototype.updateAction=function(){return CodeManager.checkBroadcastRunning(this.runMem.message)?new ExecutionStatusRunning:new ExecutionStatusDone};function B_Message(a,b){ReporterBlock.call(this,a,b,"control",Block.returnTypes.string);this.addPart(new LabelText(this,Language.getStr("block_message")))}B_Message.prototype=Object.create(ReporterBlock.prototype);B_Message.prototype.constructor=B_Message;B_Message.prototype.startAction=function(){return new ExecutionStatusResult(CodeManager.message)};
function B_Stop(a,b){CommandBlock.call(this,a,b,"control",!0);a=new DropSlot(this,"DS_act",null,null,new SelectionData(Language.getStr("all"),"all"));a.addOption(new SelectionData(Language.getStr("all"),"all"));a.addOption(new SelectionData(Language.getStr("this_script"),"this_script"));a.addOption(new SelectionData(Language.getStr("all_but_this_script"),"all_but_this_script"));this.addPart(a);this.parseTranslation(Language.getStr("block_stop"))}B_Stop.prototype=Object.create(CommandBlock.prototype);
B_Stop.prototype.constructor=B_Stop;B_Stop.prototype.startAction=function(){const a=this.slots[0].getData().getValue();"all"===a?CodeManager.stop():"this_script"===a?this.stack.stop():"all_but_this_script"===a&&TabManager.stopAllButStack(this.stack);return new ExecutionStatusDone};function B_When(a,b){HatBlock.call(this,a,b,"control",!0);this.addPart(new BoolSlot(this,"BoolS_cond"));this.parseTranslation(Language.getStr("block_when"))}B_When.prototype=Object.create(HatBlock.prototype);
B_When.prototype.constructor=B_When;B_When.prototype.eventFlagClicked=function(){this.stack.startRun(null,null,!0)};B_When.prototype.startAction=function(){if(this.slots[0].getData().getValue())return new ExecutionStatusDone;this.running=0;this.clearMem();return new ExecutionStatusRunning};
function B_WhenKeyPressed(a,b){HatBlock.call(this,a,b,"control",!0);a=new DropSlot(this,"DS_key",null,null,new SelectionData(Language.getStr("space"),"Space,32"));a.addOption(new SelectionData("0","Digit0,48"));a.addOption(new SelectionData("1","Digit1,49"));a.addOption(new SelectionData("2","Digit2,50"));a.addOption(new SelectionData("3","Digit3,51"));a.addOption(new SelectionData("4","Digit4,52"));a.addOption(new SelectionData("5","Digit5,53"));a.addOption(new SelectionData("6","Digit6,54"));a.addOption(new SelectionData("7",
"Digit7,55"));a.addOption(new SelectionData("8","Digit8,56"));a.addOption(new SelectionData("9","Digit9,57"));a.addOption(new SelectionData(Language.getStr("any_key"),"any_key"));a.addOption(new SelectionData("\u2191","ArrowUp,38"));a.addOption(new SelectionData("\u2193","ArrowDown,40"));a.addOption(new SelectionData("\u2192"," ArrowRight,39"));a.addOption(new SelectionData("\u2190","ArrowLeft,37"));a.addOption(new SelectionData(Language.getStr("space"),"Space,32"));a.addOption(new SelectionData("+",
"Equal,187"));a.addOption(new SelectionData("-","Minus,189"));a.addOption(new SelectionData("a","KeyA,65"));a.addOption(new SelectionData("b","KeyB,66"));a.addOption(new SelectionData("c","KeyC,67"));a.addOption(new SelectionData("d","KeyD,68"));a.addOption(new SelectionData("e","KeyE,69"));a.addOption(new SelectionData("f","KeyF,70"));a.addOption(new SelectionData("g","KeyG,71"));a.addOption(new SelectionData("h","KeyH,72"));a.addOption(new SelectionData("i","KeyI,73"));a.addOption(new SelectionData("j",
"KeyJ,74"));a.addOption(new SelectionData("k","KeyK,75"));a.addOption(new SelectionData("l","KeyL,76"));a.addOption(new SelectionData("m","KeyM,77"));a.addOption(new SelectionData("n","KeyN,78"));a.addOption(new SelectionData("o","KeyO,79"));a.addOption(new SelectionData("p","KeyP,80"));a.addOption(new SelectionData("q","KeyQ,81"));a.addOption(new SelectionData("r","KeyR,82"));a.addOption(new SelectionData("s","KeyS,83"));a.addOption(new SelectionData("t","KeyT,84"));a.addOption(new SelectionData("u",
"KeyU,85"));a.addOption(new SelectionData("v","KeyV,86"));a.addOption(new SelectionData("w","KeyW,87"));a.addOption(new SelectionData("x","KeyX,88"));a.addOption(new SelectionData("y","KeyY,89"));a.addOption(new SelectionData("z","KeyZ,90"));this.addPart(a);this.parseTranslation(Language.getStr("block_when_key_pressed"));this.selectedKeyPressed=!1;document.body.addEventListener("keydown",function(c){if(this.running){console.log("keydown "+c.code+","+c.keyCode);var d=this.slots[0].getData().getValue().split(",");
console.log("current selection = "+d[0]+", "+d[1]);if(c.code==d[0]||c.keyCode==d[1]||"any_key"==d[0])this.selectedKeyPressed=!0}}.bind(this),!0)}B_WhenKeyPressed.prototype=Object.create(HatBlock.prototype);B_WhenKeyPressed.prototype.constructor=B_WhenKeyPressed;B_WhenKeyPressed.prototype.eventFlagClicked=function(){this.stack.startRun(null,null,!0)};B_WhenKeyPressed.prototype.startAction=function(){this.selectedKeyPressed=!1;return new ExecutionStatusRunning};
B_WhenKeyPressed.prototype.updateAction=function(){return this.selectedKeyPressed?new ExecutionStatusDone:new ExecutionStatusRunning};function B_FBStartWhen(a,b,c){this.sensor=c;HatBlock.call(this,a,b,Hatchling?"sensor_3":"control_3",!0)}B_FBStartWhen.prototype=Object.create(HatBlock.prototype);B_FBStartWhen.prototype.constructor=B_FBStartWhen;B_FBStartWhen.prototype.eventFlagClicked=function(){this.stack.startRun(null,null,!0)};
B_FBStartWhen.prototype.startAction=function(){this.blankRequestStatus={};this.blankRequestStatus.finished=!1;this.blankRequestStatus.error=!1;this.blankRequestStatus.result=null;this.blankRequestStatus.requestSent=!1;this.runMem.requestStatus=Object.assign({},this.blankRequestStatus);return new ExecutionStatusRunning};
B_FBStartWhen.prototype.updateAction=function(){if(!this.active)return new ExecutionStatusRunning;var a=this.runMem.requestStatus;if(a.requestSent){if(a.finished){if(!a.error&&(a=(new StringData(a.result)).asNum().getValue(),"clap"==this.sensor&&50<a||"dark"==this.sensor&&5>a||"distance"==this.sensor&&a<this.distance))return new ExecutionStatusDone;this.runMem.requestStatus=Object.assign({},this.blankRequestStatus)}}else{let b=DeviceFinch.getManager().getDevice(0);Hatchling&&(b=DeviceHatchling.getManager().getDevice(0));
if(null!=b){if("clap"==this.sensor)if(b.hasV2Microbit)b.readSensor(a,"V2sound");else return new ExecutionStatusRunning;else"distance"==this.sensor&&Hatchling?b.readSensor(a,"distance",this.port):b.readSensor(a,"light","left");a.requestSent=!0}}return new ExecutionStatusRunning};
function B_StartWhenDark(a,b){B_FBStartWhen.call(this,a,b,"dark");Hatchling?(a=new BlockIcon(this,VectorPaths.mjSun,Colors.white,"sun",30),a.icon.setRotation(-8),a.negate(Colors.fbDarkGreen),a.isEndOfLine=!0,this.addPart(a)):(a=new BlockIcon(this,VectorPaths.mjSun,Colors.fbDarkGreen,"sun",25),a.icon.setRotation(-8),a.negate(Colors.flagGreen),a.isEndOfLine=!0,a.addSecondIcon(VectorPaths.faFlag,Colors.flagGreen,!0),this.addPart(a))}B_StartWhenDark.prototype=Object.create(B_FBStartWhen.prototype);
B_StartWhenDark.prototype.constructor=B_StartWhenDark;B_StartWhenDark.prototype.primName=function(){return"whenCondition"};B_StartWhenDark.prototype.argList=function(){return[new BlockArg("<",[new BlockArg("[display:lightLevel]",[]),150])]};
function B_StartWhenClap(a,b){B_FBStartWhen.call(this,a,b,"clap");Hatchling?(a=new BlockIcon(this,VectorPaths.clap,Colors.white,"clap",35),a.isEndOfLine=!0,this.addPart(a)):(a=new BlockIcon(this,VectorPaths.clap,Colors.fbDarkGreen,"clap",30),a.isEndOfLine=!0,a.addSecondIcon(VectorPaths.faFlag,Colors.flagGreen,!0,25,-5),this.addPart(a))}B_StartWhenClap.prototype=Object.create(B_FBStartWhen.prototype);B_StartWhenClap.prototype.constructor=B_StartWhenClap;
B_StartWhenClap.prototype.checkActive=function(){let a=DeviceFinch.getManager().getDevice(0);return null==a||!1!==a.hasV2Microbit};
function B_StartWhenDistance(a,b){this.portType=14;this.distance=this.defaultDistance=10;B_FBStartWhen.call(this,a,b,"distance");HL_Utils.addHLButton(this,this.portType);a=new BlockIcon(this,VectorPaths.faRuler,Colors.white,"dist",35);a.isEndOfLine=!0;this.addPart(a);this.distanceBN=new BlockButton(this);this.distanceBN.addSlider("distance",this.defaultDistance,[5,10,20,30,40,50,60,70,80,90,100]);this.addPart(this.distanceBN)}B_StartWhenDistance.prototype=Object.create(B_FBStartWhen.prototype);
B_StartWhenDistance.prototype.constructor=B_StartWhenDistance;B_StartWhenDistance.prototype.primName=function(){return"whenCondition"};B_StartWhenDistance.prototype.argList=function(){let a=this.distance;return[new BlockArg("<",[new BlockArg("[h:ds]",[HL_Utils.portNames[this.port]]),a])]};B_StartWhenDistance.prototype.updateValues=function(){HL_Utils.updatePort(this);null!=this.distanceBN&&(this.distance=this.distanceBN.values[0])};B_StartWhenDistance.prototype.checkActive=function(){return HL_Utils.checkActive(this)};
function B_Ask(a,b){CommandBlock.call(this,a,b,"tablet");this.addPart(new StringSlot(this,"StrS_msg",""));this.parseTranslation(Language.getStr("block_ask"))}B_Ask.prototype=Object.create(CommandBlock.prototype);B_Ask.prototype.constructor=B_Ask;B_Ask.prototype.startAction=function(){const a=this.runMem;a.question=this.slots[0].getData().getValue();a.questionDisplayed=!1;DialogManager.checkDialogDelay()&&this.showQuestion();return new ExecutionStatusRunning};
B_Ask.prototype.updateAction=function(){const a=this.runMem;if(a.questionDisplayed)return!0===a.finished?new ExecutionStatusDone:new ExecutionStatusRunning;DialogManager.checkDialogDelay()&&this.showQuestion();return new ExecutionStatusRunning};
B_Ask.prototype.showQuestion=function(){const a=this.runMem;a.finished=!1;DialogManager.showPromptDialog(Language.getStr("Question"),a.question,"",!0,function(b,c){CodeManager.answer=b?new StringData("",!0):new StringData(c,!0);a.finished=!0},function(){CodeManager.answer=new StringData("",!0);a.finished=!0});a.questionDisplayed=!0};function B_Answer(a,b){ReporterBlock.call(this,a,b,"tablet",Block.returnTypes.string);this.addPart(new LabelText(this,Language.getStr("block_answer")))}
B_Answer.prototype=Object.create(ReporterBlock.prototype);B_Answer.prototype.constructor=B_Answer;B_Answer.prototype.startAction=function(){return new ExecutionStatusResult(CodeManager.answer)};function B_ResetTimer(a,b){CommandBlock.call(this,a,b,"tablet");this.addPart(new LabelText(this,Language.getStr("block_reset_timer")))}B_ResetTimer.prototype=Object.create(CommandBlock.prototype);B_ResetTimer.prototype.constructor=B_ResetTimer;
B_ResetTimer.prototype.startAction=function(){CodeManager.timerForSensingBlock=(new Date).getTime();return new ExecutionStatusDone};function B_Timer(a,b){ReporterBlock.call(this,a,b,"tablet");this.addPart(new LabelText(this,Language.getStr("block_timer")))}B_Timer.prototype=Object.create(ReporterBlock.prototype);B_Timer.prototype.constructor=B_Timer;
B_Timer.prototype.startAction=function(){const a=(new Date).getTime();return new ExecutionStatusResult(new NumData((a-CodeManager.timerForSensingBlock)/1E3))};Block.setDisplaySuffix(B_Timer,"s");
function B_CurrentTime(a,b){ReporterBlock.call(this,a,b,"tablet");a=new DropSlot(this,"DS_interval",null,null,new SelectionData(Language.getStr("date"),"date"));a.addOption(new SelectionData(Language.getStr("year"),"year"));a.addOption(new SelectionData(Language.getStr("month"),"month"));a.addOption(new SelectionData(Language.getStr("date"),"date"));a.addOption(new SelectionData(Language.getStr("day_of_the_week"),"day of the week"));a.addOption(new SelectionData(Language.getStr("hour"),"hour"));a.addOption(new SelectionData(Language.getStr("minute"),
"minute"));a.addOption(new SelectionData(Language.getStr("second"),"second"));a.addOption(new SelectionData(Language.getStr("time_in_milliseconds"),"time in milliseconds"));this.addPart(a);this.parseTranslation(Language.getStr("block_current"))}B_CurrentTime.prototype=Object.create(ReporterBlock.prototype);B_CurrentTime.prototype.constructor=B_CurrentTime;
B_CurrentTime.prototype.startAction=function(){var a=this.slots[0].getData();if(null==a)return new ExecutionStatusResult(new NumData(0,!1));a=a.getValue();return"year"===a?new ExecutionStatusResult(new NumData((new Date).getFullYear())):"month"===a?new ExecutionStatusResult(new NumData((new Date).getMonth()+1)):"date"===a?new ExecutionStatusResult(new NumData((new Date).getDate())):"day of the week"===a?new ExecutionStatusResult(new NumData((new Date).getDay()+1)):"hour"===a?new ExecutionStatusResult(new NumData((new Date).getHours())):
"minute"===a?new ExecutionStatusResult(new NumData((new Date).getMinutes())):"second"===a?new ExecutionStatusResult(new NumData((new Date).getSeconds())):"time in milliseconds"===a?new ExecutionStatusResult(new NumData((new Date).getTime())):new ExecutionStatusResult(new NumData(0,!1))};
function B_Display(a,b){CommandBlock.call(this,a,b,"tablet");this.addPart(new StringSlot(this,"StrS_msg",""));a=new DropSlot(this,"DS_pos",null,null,new SelectionData(Language.getStr("position")+" 3","position3"));a.addOption(new SelectionData(Language.getStr("position")+" 1","position1"));a.addOption(new SelectionData(Language.getStr("position")+" 2","position2"));a.addOption(new SelectionData(Language.getStr("position")+" 3","position3"));this.addPart(a);this.parseTranslation(Language.getStr("block_Display"))}
B_Display.prototype=Object.create(CommandBlock.prototype);B_Display.prototype.constructor=B_Display;B_Display.prototype.startAction=function(){const a=this.slots[0].getData().getValue(),b=this.slots[1].getData().getValue();DisplayBoxManager.displayText(a,b);return new ExecutionStatusDone};function B_Add(a,b){ReporterBlock.call(this,a,b,"operators");this.addPart(new NumSlot(this,"NumS_1",0));this.addPart(new LabelText(this,"+"));this.addPart(new NumSlot(this,"NumS_2",0))}B_Add.prototype=Object.create(ReporterBlock.prototype);
B_Add.prototype.constructor=B_Add;B_Add.prototype.startAction=function(){var a=this.slots[0].getData();const b=this.slots[1].getData(),c=a.isValid&&b.isValid;a=a.getValue()+b.getValue();return new ExecutionStatusResult(new NumData(a,c))};function B_Subtract(a,b){ReporterBlock.call(this,a,b,"operators");this.addPart(new NumSlot(this,"NumS_1",0));this.addPart(new NumSlot(this,"NumS_2",0));this.parseTranslation(Language.getStr("block_subtract"))}B_Subtract.prototype=Object.create(ReporterBlock.prototype);
B_Subtract.prototype.constructor=B_Subtract;B_Subtract.prototype.startAction=function(){var a=this.slots[0].getData();const b=this.slots[1].getData(),c=a.isValid&&b.isValid;a=a.getValue()-b.getValue();return new ExecutionStatusResult(new NumData(a,c))};function B_Multiply(a,b){ReporterBlock.call(this,a,b,"operators");this.addPart(new NumSlot(this,"NumS_1",0));this.addPart(new LabelText(this,"*"));this.addPart(new NumSlot(this,"NumS_2",0))}B_Multiply.prototype=Object.create(ReporterBlock.prototype);
B_Multiply.prototype.constructor=B_Multiply;B_Multiply.prototype.startAction=function(){var a=this.slots[0].getData();const b=this.slots[1].getData(),c=a.isValid&&b.isValid;a=a.getValue()*b.getValue();return new ExecutionStatusResult(new NumData(a,c))};function B_Divide(a,b){ReporterBlock.call(this,a,b,"operators");this.addPart(new NumSlot(this,"NumS_1",0));this.addPart(new NumSlot(this,"NumS_2",1));this.parseTranslation(Language.getStr("block_divide"))}B_Divide.prototype=Object.create(ReporterBlock.prototype);
B_Divide.prototype.constructor=B_Divide;B_Divide.prototype.startAction=function(){var a=this.slots[0].getData();const b=this.slots[1].getData();var c=a.getValue();const d=b.getValue();a=a.isValid&&b.isValid;c/=d;0===d&&(c=0,a=!1);return new ExecutionStatusResult(new NumData(c,a))};function B_Mod(a,b){ReporterBlock.call(this,a,b,"operators");this.addPart(new NumSlot(this,"NumS_1",17));this.addPart(new NumSlot(this,"NumS_2",10));this.parseTranslation(Language.getStr("block_mod"))}B_Mod.prototype=Object.create(ReporterBlock.prototype);
B_Mod.prototype.constructor=B_Mod;B_Mod.prototype.startAction=function(){var a=this.slots[0].getData();const b=this.slots[1].getData();var c=a.getValue();const d=b.getValue();a=a.isValid&&b.isValid;c=(c%d+d)%d;0===d&&(c=0,a=!1);return new ExecutionStatusResult(new NumData(c,a))};function B_Round(a,b){ReporterBlock.call(this,a,b,"operators");this.addPart(new NumSlot(this,"NumS_1",.5));this.parseTranslation(Language.getStr("block_round"))}B_Round.prototype=Object.create(ReporterBlock.prototype);
B_Round.prototype.constructor=B_Round;B_Round.prototype.startAction=function(){var a=this.slots[0].getData();const b=a.isValid;a=a.getValueWithC(!1,!0);return new ExecutionStatusResult(new NumData(a,b))};function B_PickRandom(a,b){ReporterBlock.call(this,a,b,"operators");this.addPart(new NumSlot(this,"NumS_min",1));this.addPart(new NumSlot(this,"NumS_max",10));this.parseTranslation(Language.getStr("block_pick_random"))}B_PickRandom.prototype=Object.create(ReporterBlock.prototype);
B_PickRandom.prototype.constructor=B_PickRandom;B_PickRandom.prototype.startAction=function(){var a=this.slots[0].getData(),b=this.slots[1].getData();const c=a.isValid&&b.isValid;a=a.getValue();b=b.getValue();const d=Number.isInteger(a)&&Number.isInteger(b);let e=a,f=b;e>f&&(e=b,f=a);return new ExecutionStatusResult(new NumData(d?Math.floor(Math.random()*(f-e+1))+e:Math.random()*(f-e)+e,c))};
function B_LessThan(a,b){PredicateBlock.call(this,a,b,"operators");this.addPart(new NumSlot(this,"NumS_1",0));this.addPart(new LabelText(this,"<"));this.addPart(new NumSlot(this,"NumS_2",0))}B_LessThan.prototype=Object.create(PredicateBlock.prototype);B_LessThan.prototype.constructor=B_LessThan;B_LessThan.prototype.startAction=function(){const a=this.slots[0].getData().getValue(),b=this.slots[1].getData().getValue();return new ExecutionStatusResult(new BoolData(a<b))};
function B_EqualTo(a,b){PredicateBlock.call(this,a,b,"operators");this.addPart(new NumOrStringSlot(this,"RndS_item1",new NumData(0)));this.addPart(new LabelText(this,"="));this.addPart(new NumOrStringSlot(this,"RndS_item2",new NumData(0)))}B_EqualTo.prototype=Object.create(PredicateBlock.prototype);B_EqualTo.prototype.constructor=B_EqualTo;
B_EqualTo.prototype.startAction=function(){const a=this.slots[0].getData(),b=this.slots[1].getData();return new ExecutionStatusResult(new BoolData(Data.checkEquality(a,b)))};function B_GreaterThan(a,b){PredicateBlock.call(this,a,b,"operators");this.addPart(new NumSlot(this,"NumS_1",0));this.addPart(new LabelText(this,">"));this.addPart(new NumSlot(this,"NumS_2",0))}B_GreaterThan.prototype=Object.create(PredicateBlock.prototype);B_GreaterThan.prototype.constructor=B_GreaterThan;
B_GreaterThan.prototype.startAction=function(){const a=this.slots[0].getData().getValue(),b=this.slots[1].getData().getValue();return new ExecutionStatusResult(new BoolData(a>b))};function B_And(a,b){PredicateBlock.call(this,a,b,"operators");this.addPart(new BoolSlot(this,"BoolS_1"));this.addPart(new BoolSlot(this,"BoolS_2"));this.parseTranslation(Language.getStr("block_and"))}B_And.prototype=Object.create(PredicateBlock.prototype);B_And.prototype.constructor=B_And;
B_And.prototype.startAction=function(){const a=this.slots[0].getData().getValue(),b=this.slots[1].getData().getValue();return new ExecutionStatusResult(new BoolData(a&&b))};function B_Or(a,b){PredicateBlock.call(this,a,b,"operators");this.addPart(new BoolSlot(this,"BoolS_1"));this.addPart(new BoolSlot(this,"BoolS_2"));this.parseTranslation(Language.getStr("block_or"))}B_Or.prototype=Object.create(PredicateBlock.prototype);B_Or.prototype.constructor=B_Or;
B_Or.prototype.startAction=function(){const a=this.slots[0].getData().getValue(),b=this.slots[1].getData().getValue();return new ExecutionStatusResult(new BoolData(a||b))};function B_Not(a,b){PredicateBlock.call(this,a,b,"operators");this.addPart(new BoolSlot(this,"BoolS_1"));this.parseTranslation(Language.getStr("block_not"))}B_Not.prototype=Object.create(PredicateBlock.prototype);B_Not.prototype.constructor=B_Not;
B_Not.prototype.startAction=function(){const a=this.slots[0].getData().getValue();return new ExecutionStatusResult(new BoolData(!a))};function B_True(a,b){PredicateBlock.call(this,a,b,"operators");this.addPart(new LabelText(this,Language.getStr("true")))}B_True.prototype=Object.create(PredicateBlock.prototype);B_True.prototype.constructor=B_True;B_True.prototype.startAction=function(){return new ExecutionStatusResult(new BoolData(!0))};
function B_False(a,b){PredicateBlock.call(this,a,b,"operators");this.addPart(new LabelText(this,Language.getStr("false")))}B_False.prototype=Object.create(PredicateBlock.prototype);B_False.prototype.constructor=B_False;B_False.prototype.startAction=function(){return new ExecutionStatusResult(new BoolData(!1))};
function B_LetterOf(a,b){ReporterBlock.call(this,a,b,"operators");a=new NumSlot(this,"NumS_idx",1,!0,!0);a.addLimits(1);this.addPart(a);this.addPart(new StringSlot(this,"StrS_text",""));this.parseTranslation(Language.getStr("block_letter"))}B_LetterOf.prototype=Object.create(ReporterBlock.prototype);B_LetterOf.prototype.constructor=B_LetterOf;
B_LetterOf.prototype.startAction=function(){const a=this.slots[1].getData().getValue(),b=this.slots[0].getData().getValueInR(1,a.length,!0,!0);return 0<a.length?new ExecutionStatusResult(new StringData(a.substring(b-1,b))):new ExecutionStatusResult(new StringData(""))};function B_LengthOf(a,b){ReporterBlock.call(this,a,b,"operators");this.addPart(new StringSlot(this,"StrS_text",""));this.parseTranslation(Language.getStr("block_length"))}B_LengthOf.prototype=Object.create(ReporterBlock.prototype);
B_LengthOf.prototype.constructor=B_LengthOf;B_LengthOf.prototype.startAction=function(){const a=this.slots[0].getData().getValue();return new ExecutionStatusResult(new NumData(a.length))};function B_join(a,b){ReporterBlock.call(this,a,b,"operators",Block.returnTypes.string);this.addPart(new StringSlot(this,"StrS_1",""));this.addPart(new StringSlot(this,"StrS_2",""));this.parseTranslation(Language.getStr("block_join"))}B_join.prototype=Object.create(ReporterBlock.prototype);
B_join.prototype.constructor=B_join;B_join.prototype.startAction=function(){const a=this.slots[0].getData().getValue(),b=this.slots[1].getData().getValue();return new ExecutionStatusResult(new StringData(a+b))};
function B_Split(a,b){ReporterBlock.call(this,a,b,"operators",Block.returnTypes.list);this.addPart(new StringSlot(this,"StrS_1",""));a=EditableSlot.inputTypes.any;b=Slot.snapTypes.numStrBool;const c=new SelectionData(Language.getStr("whitespace"),"whitespace");a=new DropSlot(this,"DS_separator",a,b,c);a.addEnterText(Language.getStr("Edit_text"));a.addOption(new SelectionData(Language.getStr("letter"),"letter"));a.addOption(new SelectionData(Language.getStr("whitespace"),"whitespace"));this.addPart(a);
this.parseTranslation(Language.getStr("block_split"))}B_Split.prototype=Object.create(ReporterBlock.prototype);B_Split.prototype.constructor=B_Split;
B_Split.prototype.startAction=function(){var a=this.slots[0].getData().getValue(),b=this.slots[1].getData();if(b.type===Data.types.string){var c=b.getValue();c=a.split(c)}else b.type===Data.types.selection?(b=b.getValue(),"letter"===b?c=a.split(""):"whitespace"===b&&(c=a.split(/\s+/))):c=[];a=Array(c.length);for(b=0;b<c.length;b++)a[b]=new StringData(c[b]);return new ExecutionStatusResult(new ListData(a))};
function B_IsAType(a,b){PredicateBlock.call(this,a,b,"operators");this.addPart(new RectSlot(this,"RectS_item",Slot.snapTypes.any,Slot.outputTypes.any,new NumData(5)));a=new DropSlot(this,"DS_type",null,null,new SelectionData(Language.getStr("number"),"number"));a.addOption(new SelectionData(Language.getStr("number"),"number"));a.addOption(new SelectionData(Language.getStr("text"),"text"));a.addOption(new SelectionData(Language.getStr("boolean"),"boolean"));a.addOption(new SelectionData(Language.getStr("list"),
"list"));a.addOption(new SelectionData(Language.getStr("invalid_number"),"invalid_num"));this.addPart(a);this.parseTranslation(Language.getStr("block_validate"))}B_IsAType.prototype=Object.create(PredicateBlock.prototype);B_IsAType.prototype.constructor=B_IsAType;
B_IsAType.prototype.startAction=function(){const a=this.slots[0].getData();var b=this.slots[1].getData().getValue();const c=Data.types;return"number"===b?a.type===c.num&&a.isValid?new ExecutionStatusResult(new BoolData(!0)):a.type===c.string&&a.isNumber()?new ExecutionStatusResult(new BoolData(!0)):new ExecutionStatusResult(new BoolData(!1)):"text"===b?new ExecutionStatusResult(new BoolData(a.type===c.string&&!a.isNumber())):"boolean"===b?new ExecutionStatusResult(new BoolData(a.type===c.bool)):"list"===
b?new ExecutionStatusResult(new BoolData(a.type===c.list)):"invalid_num"===b?(b=(new NumData(0/0)).asString().getValue(),a.type!==c.num||a.isValid?a.type===c.string&&a.getValue()===b?new ExecutionStatusResult(new BoolData(!0)):new ExecutionStatusResult(new BoolData(!1)):new ExecutionStatusResult(new BoolData(!0))):new ExecutionStatusResult(new BoolData(!1))};
function B_mathOfNumber(a,b){ReporterBlock.call(this,a,b,"operators");a=new DropSlot(this,"DS_operation",null,null,new SelectionData(Language.getStr("sqrt"),"sqrt"));a.addOption(new SelectionData("sin","sin"));a.addOption(new SelectionData("cos","cos"));a.addOption(new SelectionData("tan","tan"));a.addOption(new SelectionData("asin","asin"));a.addOption(new SelectionData("acos","acos"));a.addOption(new SelectionData("atan","atan"));a.addOption(new SelectionData("ln","ln"));a.addOption(new SelectionData("e^",
"e^"));a.addOption(new SelectionData(Language.getStr("ceiling"),"ceiling"));a.addOption(new SelectionData("log","log"));a.addOption(new SelectionData("10^","10^"));a.addOption(new SelectionData(Language.getStr("floor"),"floor"));a.addOption(new SelectionData(Language.getStr("abs"),"abs"));a.addOption(new SelectionData(Language.getStr("sqrt"),"sqrt"));this.addPart(a);this.addPart(new NumSlot(this,"NumS_val",10));this.parseTranslation(Language.getStr("block_math_of_number"))}
B_mathOfNumber.prototype=Object.create(ReporterBlock.prototype);B_mathOfNumber.prototype.constructor=B_mathOfNumber;
B_mathOfNumber.prototype.startAction=function(){const a=this.slots[0].getData().getValue();var b=this.slots[1].getData();let c=b.getValue();b=b.isValid;if("sin"===a)c=Math.sin(c/180*Math.PI);else if("cos"===a)c=Math.cos(c/180*Math.PI);else if("tan"===a)c=Math.tan(c/180*Math.PI),1E9<Math.abs(c)&&(c=1/0);else if("asin"===a)c=Math.asin(c)/Math.PI*180;else if("acos"===a)c=Math.acos(c)/Math.PI*180;else if("atan"===a)c=Math.atan(c)/Math.PI*180;else if("ln"===a)c=Math.log(c);else if("log"===a)try{c=Math.log10(c)}catch(d){c=
Math.log(10)/Math.log(c)}else"e^"===a?c=Math.exp(c):"10^"===a?c=Math.pow(10,c):"ceiling"===a?c=Math.ceil(c):"floor"===a?c=Math.floor(c):"abs"===a?c=Math.abs(c):"sqrt"===a&&(c=Math.sqrt(c));if(!isFinite(c)||isNaN(c))c=0,b=!1;return new ExecutionStatusResult(new NumData(c,b))};function B_DeviceShaken(a,b){PredicateBlock.call(this,a,b,"tablet");this.addPart(new LabelText(this,Language.getStr("block_Device_Shaken")))}B_DeviceShaken.prototype=Object.create(PredicateBlock.prototype);
B_DeviceShaken.prototype.constructor=B_DeviceShaken;B_DeviceShaken.prototype.startAction=function(){const a=this.runMem;a.request="tablet/shake";a.requestStatus=function(){};HtmlServer.sendRequest(a.request,a.requestStatus);return new ExecutionStatusRunning};
B_DeviceShaken.prototype.updateAction=function(){const a=this.runMem.requestStatus;return!0===a.finished?!1===a.error?new ExecutionStatusResult(new BoolData("1"===a.result,!0)):0<a.result.length?(this.displayError(a.result),new ExecutionStatusError):new ExecutionStatusResult(new BoolData(!1,!1)):new ExecutionStatusRunning};B_DeviceShaken.prototype.checkActive=function(){return TabletSensors.sensors.accelerometer};
function B_DeviceSSID(a,b){ReporterBlock.call(this,a,b,"tablet",Block.returnTypes.string);this.addPart(new LabelText(this,Language.getStr("block_Device_SSID")))}B_DeviceSSID.prototype=Object.create(ReporterBlock.prototype);B_DeviceSSID.prototype.constructor=B_DeviceSSID;B_DeviceSSID.prototype.startAction=function(){const a=this.runMem;a.request="tablet/ssid";a.requestStatus=function(){};HtmlServer.sendRequest(a.request,a.requestStatus);return new ExecutionStatusRunning};
B_DeviceSSID.prototype.updateAction=function(){const a=this.runMem.requestStatus;return!0===a.finished?!1===a.error?new ExecutionStatusResult(new StringData(a.result,!0)):0<a.result.length?(this.displayError(a.result),new ExecutionStatusError):new ExecutionStatusResult(new StringData("",!1)):new ExecutionStatusRunning};function B_DevicePressure(a,b){ReporterBlock.call(this,a,b,"tablet");this.addPart(new LabelText(this,Language.getStr("block_Device_Pressure")))}B_DevicePressure.prototype=Object.create(ReporterBlock.prototype);
B_DevicePressure.prototype.constructor=B_DevicePressure;B_DevicePressure.prototype.startAction=function(){const a=this.runMem;a.request="tablet/pressure";a.requestStatus=function(){};HtmlServer.sendRequest(a.request,a.requestStatus);return new ExecutionStatusRunning};
B_DevicePressure.prototype.updateAction=function(){const a=this.runMem.requestStatus;return!0===a.finished?!1===a.error?new ExecutionStatusResult(new NumData(Math.round(100*Number(a.result))/100,!0)):0<a.result.length?(this.displayError(a.result),new ExecutionStatusError):new ExecutionStatusResult(new NumData(0,!1)):new ExecutionStatusRunning};B_DevicePressure.prototype.checkActive=function(){return TabletSensors.sensors.barometer};Block.setDisplaySuffix(B_DevicePressure,"kPa");
function B_DeviceRelativeAltitude(a,b){ReporterBlock.call(this,a,b,"tablet");this.addPart(new LabelText(this,Language.getStr("block_Device_Relative_Altitude")))}B_DeviceRelativeAltitude.prototype=Object.create(ReporterBlock.prototype);B_DeviceRelativeAltitude.prototype.constructor=B_DeviceRelativeAltitude;B_DeviceRelativeAltitude.prototype.startAction=function(){const a=this.runMem;a.request="tablet/altitude";a.requestStatus=function(){};HtmlServer.sendRequest(a.request,a.requestStatus);return new ExecutionStatusRunning};
B_DeviceRelativeAltitude.prototype.updateAction=function(){const a=this.runMem.requestStatus;return!0===a.finished?!1===a.error?new ExecutionStatusResult(new NumData(Math.round(100*Number(a.result))/100,!0)):0<a.result.length?(this.displayError(a.result),new ExecutionStatusError):new ExecutionStatusResult(new NumData(0,!1)):new ExecutionStatusRunning};B_DeviceRelativeAltitude.prototype.checkActive=function(){return TabletSensors.sensors.barometer};Block.setDisplaySuffix(B_DeviceRelativeAltitude,"m");
function B_DeviceOrientation(a,b){PredicateBlock.call(this,a,b,"tablet");a=new DropSlot(this,"SDS_1",null,null,new SelectionData(Language.getStr("faceup"),"faceup"));a.addOption(new SelectionData(Language.getStr("faceup"),"faceup"));a.addOption(new SelectionData(Language.getStr("facedown"),"facedown"));a.addOption(new SelectionData(Language.getStr("portrait_bottom"),"portrait_bottom"));a.addOption(new SelectionData(Language.getStr("portrait_top"),"portrait_top"));a.addOption(new SelectionData(Language.getStr("landscape_left"),
"landscape_left"));a.addOption(new SelectionData(Language.getStr("landscape_right"),"landscape_right"));a.addOption(new SelectionData(Language.getStr("in_between"),"Other"));this.addPart(a);this.parseTranslation(Language.getStr("block_Device_Orientation"))}B_DeviceOrientation.prototype=Object.create(ReporterBlock.prototype);B_DeviceOrientation.prototype.constructor=B_DeviceOrientation;
B_DeviceOrientation.prototype.startAction=function(){const a=this.runMem;a.selection=this.slots[0].getData().getValue();a.request="tablet/orientation";a.requestStatus=function(){};HtmlServer.sendRequest(a.request,a.requestStatus);return new ExecutionStatusRunning};
B_DeviceOrientation.prototype.updateAction=function(){const a=this.runMem;var b=a.requestStatus;if(!0===b.finished){if(!1===b.error){b=b.result;let c=new BoolData(!1);b==a.selection&&(c=new BoolData(!0));return new ExecutionStatusResult(c)}return 0<b.result.length?(this.displayError(b.result),new ExecutionStatusError):new ExecutionStatusResult(new StringData("",!1))}return new ExecutionStatusRunning};B_DeviceOrientation.prototype.checkActive=function(){return TabletSensors.sensors.accelerometer};
function B_DeviceAcceleration(a,b){ReporterBlock.call(this,a,b,"tablet",Block.returnTypes.num);a=new DropSlot(this,"DS_axis",null,null,new SelectionData("X",0));a.addOption(new SelectionData("X",0));a.addOption(new SelectionData("Y",1));a.addOption(new SelectionData("Z",2));a.addOption(new SelectionData(Language.getStr("Total"),"total"));this.addPart(a);this.parseTranslation(Language.getStr("block_Acceleration"))}B_DeviceAcceleration.prototype=Object.create(ReporterBlock.prototype);
B_DeviceAcceleration.prototype.constructor=B_DeviceAcceleration;B_DeviceAcceleration.prototype.startAction=function(){const a=this.runMem;a.request="tablet/acceleration";a.requestStatus=function(){};a.axis=this.slots[0].getData().getValue();HtmlServer.sendRequest(a.request,a.requestStatus);return new ExecutionStatusRunning};
B_DeviceAcceleration.prototype.updateAction=function(){var a=this.runMem,b=a.requestStatus;if(!0===b.finished){if(!1===b.error){b=b.result.split(" ");if("total"===a.axis){a=Number(b[0]);let c=Number(b[1]);b=Number(b[2]);b=Math.round(100*Math.sqrt(a*a+c*c+b*b))/100}else b=Math.round(100*Number(b[a.axis]))/100;return new ExecutionStatusResult(new NumData(b,!0))}return 0<b.result.length?(this.displayError(b.result),new ExecutionStatusError):new ExecutionStatusResult(new NumData(0,!1))}return new ExecutionStatusRunning};
B_DeviceAcceleration.prototype.checkActive=function(){return TabletSensors.sensors.accelerometer};Block.setDisplaySuffix(B_DeviceAcceleration,"m/s"+String.fromCharCode(178));
function B_DeviceLocation(a,b){ReporterBlock.call(this,a,b,"tablet",Block.returnTypes.num);a=new DropSlot(this,"DS_dir",null,null,new SelectionData(Language.getStr("Latitude"),0));a.addOption(new SelectionData(Language.getStr("Latitude"),0));a.addOption(new SelectionData(Language.getStr("Longitude"),1));this.addPart(a);this.parseTranslation(Language.getStr("block_Device_LatLong"))}B_DeviceLocation.prototype=Object.create(ReporterBlock.prototype);B_DeviceLocation.prototype.constructor=B_DeviceLocation;
B_DeviceLocation.prototype.startAction=function(){const a=this.runMem;a.request="tablet/location";a.requestStatus=function(){};a.axis=this.slots[0].getData().getValue();HtmlServer.sendRequest(a.request,a.requestStatus);return new ExecutionStatusRunning};
B_DeviceLocation.prototype.updateAction=function(){var a=this.runMem;const b=a.requestStatus;return!0===b.finished?!1===b.error?(a=new StringData(b.result.split(" ")[a.axis]),a=Math.round(100*a.asNum().getValue())/100,new ExecutionStatusResult(new NumData(a,!0))):0<b.result.length?(this.displayError(b.result),new ExecutionStatusError):new ExecutionStatusResult(new NumData(0,!1)):new ExecutionStatusRunning};B_DeviceLocation.prototype.checkActive=function(){return TabletSensors.sensors.gps};
function B_PlaySoundOrRecording(a,b,c,d,e){CommandBlock.call(this,a,b,"sound");this.isRecording=d;this.waitUntilDone=e;a=new SoundDropSlot(this,"SDS_1",d);this.addPart(a);this.parseTranslation(c)}B_PlaySoundOrRecording.prototype=Object.create(CommandBlock.prototype);B_PlaySoundOrRecording.prototype.constructor=B_PlaySoundOrRecording;
B_PlaySoundOrRecording.prototype.startAction=function(){var a=this.slots[0].getData();if(a.isEmpty())return new ExecutionStatusDone;a=a.getValue();let b={};this.runMem.playStatus=b;b.donePlaying=!1;b.requestSent=!1;Sound.play(a,this.isRecording,b);return new ExecutionStatusRunning};
B_PlaySoundOrRecording.prototype.updateAction=function(){let a=this.runMem.playStatus;return a.requestSent&&!this.waitUntilDone||a.donePlaying&&this.waitUntilDone?a.error?(this.displayError("Sound not found"),new ExecutionStatusError):new ExecutionStatusDone:new ExecutionStatusRunning};function B_PlaySound(a,b){B_PlaySoundOrRecording.call(this,a,b,Language.getStr("block_play_sound"),!1,!1)}B_PlaySound.prototype=Object.create(B_PlaySoundOrRecording.prototype);B_PlaySound.prototype.constructor=B_PlaySound;
function B_PlaySoundUntilDone(a,b){B_PlaySoundOrRecording.call(this,a,b,Language.getStr("block_play_sound_until_done"),!1,!0)}B_PlaySoundUntilDone.prototype=Object.create(B_PlaySoundOrRecording.prototype);B_PlaySoundUntilDone.prototype.constructor=B_PlaySoundUntilDone;function B_PlayRecording(a,b){B_PlaySoundOrRecording.call(this,a,b,Language.getStr("block_play_recording"),!0,!1)}B_PlayRecording.prototype=Object.create(B_PlaySoundOrRecording.prototype);B_PlayRecording.prototype.constructor=B_PlayRecording;
function B_PlayRecordingUntilDone(a,b){B_PlaySoundOrRecording.call(this,a,b,Language.getStr("block_play_recording_until_done"),!0,!0)}B_PlayRecordingUntilDone.prototype=Object.create(B_PlaySoundOrRecording.prototype);B_PlayRecordingUntilDone.prototype.constructor=B_PlayRecordingUntilDone;function B_StopAllSounds(a,b){CommandBlock.call(this,a,b,"sound");this.addPart(new LabelText(this,Language.getStr("block_stop_all_sounds")))}B_StopAllSounds.prototype=Object.create(CommandBlock.prototype);
B_StopAllSounds.prototype.constructor=B_StopAllSounds;B_StopAllSounds.prototype.startAction=function(){const a=this.runMem;a.requestStatus={};Sound.stopAllSounds(a.requestStatus);return new ExecutionStatusRunning};B_StopAllSounds.prototype.updateAction=function(){return this.runMem.requestStatus.finished?new ExecutionStatusDone:new ExecutionStatusRunning};
function B_RestForBeats(a,b){CommandBlock.call(this,a,b,"sound");a=new NumSlot(this,"NumS_dur",.2,!0);a.addLimits(0,16,Language.getStr("Beats"));this.addPart(a);this.parseTranslation(Language.getStr("block_rest_for"))}B_RestForBeats.prototype=Object.create(CommandBlock.prototype);B_RestForBeats.prototype.constructor=B_RestForBeats;
B_RestForBeats.prototype.startAction=function(){const a=this.runMem;a.startTime=(new Date).getTime();const b=this.slots[0].getData().getValueWithC(!0);a.delayTime=CodeManager.beatsToMs(b);return new ExecutionStatusRunning};B_RestForBeats.prototype.updateAction=function(){const a=this.runMem;return(new Date).getTime()>=a.startTime+a.delayTime?new ExecutionStatusDone:new ExecutionStatusRunning};
function B_PlayNoteForBeats(a,b){CommandBlock.call(this,a,b,"sound");a=new NoteSlot(this,"NumS_note",60,!0,!0);a.addLimits(32,135,Language.getStr("Note"));this.addPart(a);a=new NumSlot(this,"NumS_dur",1,!0);a.addLimits(0,16,Language.getStr("Beats"));this.addPart(a);this.parseTranslation(Language.getStr("block_play_note"))}B_PlayNoteForBeats.prototype=Object.create(CommandBlock.prototype);B_PlayNoteForBeats.prototype.constructor=B_PlayNoteForBeats;
B_PlayNoteForBeats.prototype.startAction=function(){const a=this.runMem,b=this.slots[0].getData().getValueWithC(!0,!0),c=this.slots[1].getData().getValueWithC(!0);a.soundDuration=CodeManager.beatsToMs(c);a.timerStarted=!1;a.requestStatus=HtmlServer.sendTabletSoundRequest(b,a.soundDuration);return new ExecutionStatusRunning};
B_PlayNoteForBeats.prototype.updateAction=function(){const a=this.runMem;if(!a.timerStarted)if(!0===a.requestStatus.finished)a.startTime=(new Date).getTime(),a.timerStarted=!0;else return new ExecutionStatusRunning;return(new Date).getTime()>=a.startTime+a.soundDuration?new ExecutionStatusDone:new ExecutionStatusRunning};function B_ChangeTempoBy(a,b){CommandBlock.call(this,a,b,"sound");this.addPart(new NumSlot(this,"NumS_amt",20));this.parseTranslation(Language.getStr("block_change_tempo_by"))}
B_ChangeTempoBy.prototype=Object.create(CommandBlock.prototype);B_ChangeTempoBy.prototype.constructor=B_ChangeTempoBy;B_ChangeTempoBy.prototype.startAction=function(){var a=this.slots[0].getData();a.isValid&&(a=CodeManager.sound.tempo+a.getValue(),CodeManager.setSoundTempo(a));return new ExecutionStatusDone};
function B_SetTempoTo(a,b){CommandBlock.call(this,a,b,"sound");a=new NumSlot(this,"NumS_tempo",60,!0);a.addLimits(20,500,null);this.addPart(a);this.parseTranslation(Language.getStr("block_set_tempo_to"))}B_SetTempoTo.prototype=Object.create(CommandBlock.prototype);B_SetTempoTo.prototype.constructor=B_SetTempoTo;B_SetTempoTo.prototype.startAction=function(){var a=this.slots[0].getData();a.isValid&&(a=a.getValue(),CodeManager.setSoundTempo(a));return new ExecutionStatusDone};
function B_Tempo(a,b){ReporterBlock.call(this,a,b,"sound");this.addPart(new LabelText(this,Language.getStr("block_tempo")))}B_Tempo.prototype=Object.create(ReporterBlock.prototype);B_Tempo.prototype.constructor=B_Tempo;B_Tempo.prototype.startAction=function(){return new ExecutionStatusResult(new NumData(CodeManager.sound.tempo))};function B_Variable(a,b,c){ReporterBlock.call(this,a,b,"variables",Block.returnTypes.string);this.variable=c;this.addPart(new LabelText(this,this.variable.getName()))}
B_Variable.prototype=Object.create(ReporterBlock.prototype);B_Variable.prototype.constructor=B_Variable;B_Variable.prototype.startAction=function(){return new ExecutionStatusResult(this.variable.getData())};B_Variable.prototype.createXml=function(a){a=XmlWriter.createElement(a,"block");XmlWriter.setAttribute(a,"type",this.blockTypeName);XmlWriter.setAttribute(a,"variable",this.variable.getName());return a};B_Variable.prototype.renameVar=function(){this.variable.rename()};
B_Variable.prototype.deleteVar=function(){this.variable.delete()};B_Variable.prototype.renameVariable=function(a){a===this.variable&&(this.parts[0].remove(),this.parts[0]=new LabelText(this,this.variable.getName()),null!=this.stack&&this.stack.updateDim())};B_Variable.prototype.deleteVariable=function(a){a===this.variable&&this.unsnap().remove()};B_Variable.prototype.checkVariableUsed=function(a){return a===this.variable};
B_Variable.importXml=function(a){a=XmlWriter.getAttribute(a,"variable");a=CodeManager.findVar(a);return null!=a?new B_Variable(0,0,a):null};function B_SetTo(a,b){CommandBlock.call(this,a,b,"variables");this.addPart(new VarDropSlot(this,"VDS_1"));this.addPart(new NumOrStringSlot(this,"RndS_val",new NumData(0)));this.parseTranslation(Language.getStr("block_set_variable"))}B_SetTo.prototype=Object.create(CommandBlock.prototype);B_SetTo.prototype.constructor=B_SetTo;
B_SetTo.prototype.startAction=function(){const a=this.slots[0].getData(),b=this.slots[1].getData(),c=b.type,d=Data.types;if(c===d.bool||c===d.num||c===d.string)a.type!==Data.types.selection||a.isEmpty()||a.getValue().setData(b);return new ExecutionStatusDone};function B_ChangeBy(a,b){CommandBlock.call(this,a,b,"variables");this.addPart(new VarDropSlot(this,"VDS_1"));this.addPart(new NumSlot(this,"NumS_val",1));this.parseTranslation(Language.getStr("block_change_variable"))}B_ChangeBy.prototype=Object.create(CommandBlock.prototype);
B_ChangeBy.prototype.constructor=B_ChangeBy;B_ChangeBy.prototype.startAction=function(){var a=this.slots[0].getData(),b=this.slots[1].getData();if(a.type===Data.types.selection&&!a.isEmpty()){a=a.getValue();const c=a.getData().asNum(),d=b.getValue()+c.getValue();b=new NumData(d,c.isValid&&b.isValid);a.setData(b)}return new ExecutionStatusDone};function B_List(a,b,c){ReporterBlock.call(this,a,b,"lists",Block.returnTypes.string);this.list=c;this.addPart(new LabelText(this,this.list.getName()))}
B_List.prototype=Object.create(ReporterBlock.prototype);B_List.prototype.constructor=B_List;B_List.prototype.startAction=function(){return new ExecutionStatusResult(this.list.getData().asString())};B_List.prototype.createXml=function(a){a=XmlWriter.createElement(a,"block");XmlWriter.setAttribute(a,"type",this.blockTypeName);XmlWriter.setAttribute(a,"list",this.list.getName());return a};
B_List.importXml=function(a){a=XmlWriter.getAttribute(a,"list");a=CodeManager.findList(a);return null!=a?new B_List(0,0,a):null};B_List.prototype.renameLi=function(){this.list.rename()};B_List.prototype.deleteLi=function(){this.list.delete()};B_List.prototype.renameList=function(a){a===this.list&&(this.parts[0].remove(),this.parts[0]=new LabelText(this,this.list.getName()),null!=this.stack&&this.stack.updateDim())};B_List.prototype.deleteList=function(a){a===this.list&&this.unsnap().remove()};
B_List.prototype.checkListUsed=function(a){return a===this.list};function B_AddToList(a,b){CommandBlock.call(this,a,b,"lists");this.addPart(new RectSlot(this,"RectS_item",Slot.snapTypes.numStrBool,Slot.outputTypes.any,new StringData("")));this.addPart(new ListDropSlot(this,"LDS_1"));this.parseTranslation(Language.getStr("block_add_to_list"))}B_AddToList.prototype=Object.create(CommandBlock.prototype);B_AddToList.prototype.constructor=B_AddToList;
B_AddToList.prototype.startAction=function(){var a=this.slots[1].getData();if(a.type===Data.types.selection&&!a.isEmpty()){a=a.getValue().getData().getValue();const b=this.slots[0].getData();b.isValid?a.push(b):a.push(b.asString())}return new ExecutionStatusDone};function B_DeleteItemOfList(a,b){CommandBlock.call(this,a,b,"lists");this.addPart(new IndexSlot(this,"NumS_idx",!0));this.addPart(new ListDropSlot(this,"LDS_1"));this.parseTranslation(Language.getStr("block_delete_from_list"))}
B_DeleteItemOfList.prototype=Object.create(CommandBlock.prototype);B_DeleteItemOfList.prototype.constructor=B_DeleteItemOfList;B_DeleteItemOfList.prototype.startAction=function(){var a=this.slots[1].getData();if(a.type===Data.types.selection&&!a.isEmpty()){var b=this.slots[0].getData();const c=a.getValue(),d=c.getData();a=d.getValue();b.type===Data.types.selection&&"all"===b.getValue()?c.setData(new ListData):(b=d.getIndex(b),null!=b&&a.splice(b,1))}return new ExecutionStatusDone};
function B_InsertItemAtOfList(a,b){CommandBlock.call(this,a,b,"lists");this.addPart(new RectSlot(this,"RectS_item",Slot.snapTypes.numStrBool,Slot.outputTypes.any,new StringData("")));this.addPart(new IndexSlot(this,"NumS_idx",!1));this.addPart(new ListDropSlot(this,"LDS_1"));this.parseTranslation(Language.getStr("block_insert_into_list"))}B_InsertItemAtOfList.prototype=Object.create(CommandBlock.prototype);B_InsertItemAtOfList.prototype.constructor=B_InsertItemAtOfList;
B_InsertItemAtOfList.prototype.startAction=function(){var a=this.slots[2].getData();if(a.type===Data.types.selection&&!a.isEmpty()){const c=this.slots[1].getData();var b=a.getValue().getData();a=b.getValue();const d=this.slots[0].getData();b=b.getIndex(c);if(null==b||c.getValue()>a.length)return(b=(b=c.type===Data.types.num&&c.getValue()>a.length)||c.isSelection())&&(d.isValid?a.push(d):a.push(d.asString())),new ExecutionStatusDone;d.isValid?a.splice(b,0,d):a.splice(b,0,d.asString())}return new ExecutionStatusDone};
function B_ReplaceItemOfListWith(a,b){CommandBlock.call(this,a,b,"lists");this.addPart(new IndexSlot(this,"NumS_idx",!1));this.addPart(new ListDropSlot(this,"LDS_1"));this.addPart(new RectSlot(this,"RectS_item",Slot.snapTypes.numStrBool,Slot.outputTypes.any,new StringData("")));this.parseTranslation(Language.getStr("block_replace_list_item"))}B_ReplaceItemOfListWith.prototype=Object.create(CommandBlock.prototype);B_ReplaceItemOfListWith.prototype.constructor=B_ReplaceItemOfListWith;
B_ReplaceItemOfListWith.prototype.startAction=function(){var a=this.slots[1].getData();if(a.type===Data.types.selection&&!a.isEmpty()){var b=this.slots[0].getData();const c=a.getValue().getData();a=c.getValue();const d=this.slots[2].getData();b=c.getIndex(b);if(null==b)return new ExecutionStatusDone;a[b]=d.isValid?d:d.asString()}return new ExecutionStatusDone};
function B_CopyListToList(a,b){CommandBlock.call(this,a,b,"lists");this.addPart(new ListDropSlot(this,"LDS_from",Slot.snapTypes.list));this.addPart(new ListDropSlot(this,"LDS_to"));this.parseTranslation(Language.getStr("block_copy_list"))}B_CopyListToList.prototype=Object.create(CommandBlock.prototype);B_CopyListToList.prototype.constructor=B_CopyListToList;
B_CopyListToList.prototype.startAction=function(){var a=this.slots[0].getData();const b=this.slots[1].getData();if(b.type===Data.types.selection&&!b.isEmpty()){if(a.type!==Data.types.selection||a.isEmpty()){if(a.type!==Data.types.list)return new ExecutionStatusDone}else a=a.getValue().getData();b.getValue().setData(a.duplicate())}return new ExecutionStatusDone};
function B_ItemOfList(a,b){ReporterBlock.call(this,a,b,"lists",Block.returnTypes.string);this.addPart(new IndexSlot(this,"NumS_idx",!1));this.addPart(new ListDropSlot(this,"LDS_1",Slot.snapTypes.list));this.parseTranslation(Language.getStr("block_list_item"))}B_ItemOfList.prototype=Object.create(ReporterBlock.prototype);B_ItemOfList.prototype.constructor=B_ItemOfList;
B_ItemOfList.prototype.startAction=function(){var a=this.slots[1].getData();let b;if(a.type!==Data.types.selection||a.isEmpty())return a.type===Data.types.list?(b=this.slots[0].getData(),new ExecutionStatusResult(this.getItemOfList(a,b))):new ExecutionStatusResult(new StringData("",!1));b=this.slots[0].getData();a=a.getValue().getData();return new ExecutionStatusResult(this.getItemOfList(a,b))};
B_ItemOfList.prototype.getItemOfList=function(a,b){const c=a.getValue();a=a.getIndex(b);return null==a?new StringData("",!1):c[a]};function B_LengthOfList(a,b){ReporterBlock.call(this,a,b,"lists",Block.returnTypes.num);this.addPart(new ListDropSlot(this,"LDS_1",Slot.snapTypes.list));this.parseTranslation(Language.getStr("block_list_length"))}B_LengthOfList.prototype=Object.create(ReporterBlock.prototype);B_LengthOfList.prototype.constructor=B_LengthOfList;
B_LengthOfList.prototype.startAction=function(){var a=this.slots[0].getData();if(a.type!==Data.types.selection||a.isEmpty())return a.type===Data.types.list?new ExecutionStatusResult(new NumData(a.getValue().length)):new ExecutionStatusResult(new NumData(0,!1));a=a.getValue().getData().getValue();return new ExecutionStatusResult(new NumData(a.length))};
function B_ListContainsItem(a,b){PredicateBlock.call(this,a,b,"lists");this.addPart(new ListDropSlot(this,"LDS_1",Slot.snapTypes.list));this.addPart(new RectSlot(this,"RectS_item",Slot.snapTypes.numStrBool,Slot.outputTypes.any,new StringData("")));this.parseTranslation(Language.getStr("block_list_contains"))}B_ListContainsItem.prototype=Object.create(PredicateBlock.prototype);B_ListContainsItem.prototype.constructor=B_ListContainsItem;
B_ListContainsItem.prototype.startAction=function(){var a=this.slots[0].getData();if(a.type!==Data.types.selection||a.isEmpty()){if(a.type===Data.types.list){var b=this.slots[1].getData();return new ExecutionStatusResult(this.checkListContainsItem(a,b))}return new ExecutionStatusResult(new BoolData(!1,!0))}a=a.getValue().getData();b=this.slots[1].getData();return new ExecutionStatusResult(this.checkListContainsItem(a,b))};
B_ListContainsItem.prototype.checkListContainsItem=function(a,b){a=a.getValue();for(let c=0;c<a.length;c++)if(Data.checkEquality(b,a[c]))return new BoolData(!0,!0);return new BoolData(!1,!0)};
const HL_Utils={portNames:"ABCDEF".split(""),addHLButton:function(a,b){a.port=-1;a.hlButton=new BlockButton(a,14);a.hlButton.addSlider("hatchling_"+b,"X",HL_Utils.portNames)},updatePort:function(a){null!=a.hlButton&&(a.port=HL_Utils.portNames.indexOf(a.hlButton.values[0]),console.log("update port for "+a.constructor.name+" to "+a.port),a.updateActive())},findPorts:function(a){console.log("findPorts for "+a.constructor.name);var b=DeviceHatchling.getManager().getDevice(0);null!=a.hlButton&&null!=b&&
(b=b.getPortsByType(a.portType),1<=b.length&&(a.hlButton.updateValue(HL_Utils.portNames[b[0]],0),1<b.length&&(a.shouldShowPortsPopup=!0)))},checkActive:function(a){if(null!=a.stack&&a.stack.isDisplayStack)return!0;if(-1==a.port)return!1;let b=DeviceHatchling.getManager().getDevice(0);return null!=b&&-1!=b.getPortsByType(a.portType).indexOf(a.port)?!0:!1},setupAction:function(a){a=a.runMem;a.requestStatus={};a.requestStatus.finished=!1;a.requestStatus.error=!1;a.requestStatus.result=null;let b=DeviceHatchling.getManager().getDevice(0);
null==b&&(a.requestStatus.finished=!0,a.duration=0,TitleBar.flashFinchButton());return b},showPortsPopup:function(a){a.shouldShowPortsPopup&&(a.shouldShowPortsPopup=!1,setTimeout(function(){a.hlButton.button.press();a.hlButton.button.release()},100))},birdBloxCheckActive:function(a){console.log("birdBloxCheckActive for "+a.constructor.name);var b=DeviceHatchling.getManager().getDevice(0);return null!=b?(b=b.portStates[a.port],null!=a.stack&&a.stack.isDisplayStack&&a.portType!=b?(HL_Utils.replaceBlock(a,
b),0!=b):a.portType==b&&0!=b):!1},replaceBlock:function(a,b){console.log("update block for port "+a.port+" to "+b);if(a.stack.isDisplayStack){switch(b){case 0:b="B_HLEmptyPort"+HL_Utils.portNames[a.port];break;case 1:b="B_HLBBRotationServo";break;case 3:b="B_HLBBPositionServo";break;case 8:b="B_HLBBFairyLights";break;case 9:b="B_HLBBSingleNeopix";break;case 10:b="B_HLBBNeopixStrip";break;case 14:b="B_HLBBDistance";break;default:return}a.stack.category.replaceBlock(a,b)}},createXml:function(a,b){b=
Block.prototype.createXml.call(a,b);XmlWriter.setAttribute(b,"port",a.port);return b},importXml:function(a){var b=XmlWriter.getAttribute(a,"type");const c=XmlWriter.getAttribute(a,"port");b=new window[b](0,0,c);b.copyFromXml(a);return b}};function B_HLOutputBase(a,b,c,d,e){this.outputType=d;this.portType=e;CommandBlock.call(this,a,b,c);HL_Utils.addHLButton(this,e)}B_HLOutputBase.prototype=Object.create(CommandBlock.prototype);B_HLOutputBase.prototype.constructor=B_HLOutputBase;
B_HLOutputBase.prototype.startAction=function(){let a=HL_Utils.setupAction(this);if(null==a||!this.active||-1==this.port||this.port>=HL_Utils.portColors.length)return new ExecutionStatusError;a.setOutput(this.runMem.requestStatus,this.outputType,this.port,this.value,this.valueKey);return new ExecutionStatusRunning};
B_HLOutputBase.prototype.updateValues=function(){HL_Utils.updatePort(this);if(null!=this.valueBN)if(1==this.portType){var a=this.valueBN.values[0];this.flip&&(a=-a);0==a?this.value=89:100<a?this.value=174:-100>a?this.value=2:0<a?this.value=Math.round(75*a/100+98):0>a&&(this.value=Math.round(78+75*a/100))}else 8==this.portType?(a=this.valueBN.values[0],this.value=100<a?254:0>a?0:Math.round(254*a/100)):this.value=3==this.portType?Math.round(this.valueBN.values[0]/1.5)+2:this.valueBN.values[0];null!=
this.colorButton&&(3==this.colorButton.widgets.length&&(this.red=this.colorButton.values[0],this.green=this.colorButton.values[1],this.blue=this.colorButton.values[2]),this.value=Math.round(2.55*this.red)+":"+Math.round(2.55*this.green)+":"+Math.round(2.55*this.blue),this.updateColor());if(10==this.portType&&4==this.colorButtons.length)for(this.value="",a=0;a<this.colorButtons.length;a++)this.value=this.value+Math.round(2.55*this.colorButtons[a].values[0])+",",this.value=this.value+Math.round(2.55*
this.colorButtons[a].values[1])+",",this.value=this.value+Math.round(2.55*this.colorButtons[a].values[2])+","};B_HLOutputBase.prototype.updateAction=function(){return this.runMem.requestStatus.finished?this.runMem.requestStatus.error?new ExecutionStatusError:new ExecutionStatusDone:new ExecutionStatusRunning};B_HLOutputBase.prototype.checkActive=function(){return HL_Utils.checkActive(this)};
function B_HLPositionServo(a,b){this.value=90;this.valueKey="angle";B_HLOutputBase.call(this,a,b,"motion_3","positionServo",3);a=new BlockIcon(this,VectorPaths.bsSpeedometer2,Colors.white,"pServo",27);a.isEndOfLine=!0;this.addPart(a);this.valueBN=new BlockButton(this);this.valueBN.addSlider("angle_right",this.value,[0,30,60,90,120,150,180]);this.addPart(this.valueBN)}B_HLPositionServo.prototype=Object.create(B_HLOutputBase.prototype);B_HLPositionServo.prototype.constructor=B_HLPositionServo;
B_HLPositionServo.prototype.primName=function(){return"[h:psv]"};B_HLPositionServo.prototype.argList=function(){return[HL_Utils.portNames[this.port],this.value]};
function B_HLRotationServo(a,b,c){this.value=255;this.defaultSpeed=50;this.valueKey="value";this.flip=c;B_HLOutputBase.call(this,a,b,"motion_3","rotationServo",1);a=new BlockIcon(this,c?VectorPaths.bsArrowClockwise:VectorPaths.bsArrowCounterClockwise,Colors.white,"rServo",30,null,!0);a.isEndOfLine=!0;this.addPart(a);this.valueBN=new BlockButton(this);this.valueBN.addSlider("percent",this.defaultSpeed,[0,10,20,30,40,50,60,70,80,90,100]);this.addPart(this.valueBN)}B_HLRotationServo.prototype=Object.create(B_HLOutputBase.prototype);
B_HLRotationServo.prototype.constructor=B_HLRotationServo;B_HLRotationServo.prototype.primName=function(){return"[h:rsv]"};B_HLRotationServo.prototype.argList=function(){return[HL_Utils.portNames[this.port],this.value]};function B_HLccRotationServo(a,b){B_HLRotationServo.call(this,a,b,!0)}B_HLccRotationServo.prototype=Object.create(B_HLRotationServo.prototype);B_HLccRotationServo.prototype.constructor=B_HLccRotationServo;
function B_HLSingleNeopix(a,b){this.value="#FFFFFF";this.valueKey="color";B_HLOutputBase.call(this,a,b,"color_3","singleNeopix",9);this.blockIcon=new BlockIcon(this,VectorPaths.faLightbulb,Colors.white,"sNeopix",27);this.blockIcon.isEndOfLine=!0;this.addPart(this.blockIcon);this.valueBN=new BlockButton(this);this.valueBN.addColorPicker(this.value);this.addPart(this.valueBN)}B_HLSingleNeopix.prototype=Object.create(B_HLOutputBase.prototype);B_HLSingleNeopix.prototype.constructor=B_HLSingleNeopix;
B_HLSingleNeopix.prototype.primName=function(){return"[h:np]"};B_HLSingleNeopix.prototype.argList=function(){var a=this.value.slice(1).toLowerCase();let b=a.charAt(0)+""+a.charAt(1),c=a.charAt(2)+""+a.charAt(3);a=a.charAt(4)+""+a.charAt(5);b=parseInt(b,16);c=parseInt(c,16);a=parseInt(a,16);return[HL_Utils.portNames[this.port],b,c,a]};B_HLSingleNeopix.prototype.updateColor=function(){GuiElements.update.color(this.blockIcon.icon.pathE,this.value)};
function B_HLNeopixStrip(a,b){this.value="";this.valueKey="colors";this.blue=this.green=this.red=100;this.blockIcons=[];this.colorButtons=[];B_HLOutputBase.call(this,a,b,"color_3","neopixStrip",10);a=VectorPaths.faLightbulb;for(b=0;4>b;b++)this.blockIcons[b]=new BlockIcon(this,a,Colors.white,"neopix"+b,27),this.addPart(this.blockIcons[b]);this.blockIcons[3].isEndOfLine=!0;for(a=0;4>a;a++)this.colorButtons[a]=new BlockButton(this,25),this.colorButtons[a].addSlider("color_red",this.red),this.colorButtons[a].addSlider("color_green",
this.green),this.colorButtons[a].addSlider("color_blue",this.blue),this.addPart(this.colorButtons[a])}B_HLNeopixStrip.prototype=Object.create(B_HLOutputBase.prototype);B_HLNeopixStrip.prototype.constructor=B_HLNeopixStrip;B_HLNeopixStrip.prototype.primName=function(){return"[h:nps]"};B_HLNeopixStrip.prototype.argList=function(){return[HL_Utils.portNames[this.port],"all",this.red,this.green,this.blue]};
function B_HLFairyLights(a,b){this.value="";this.valueKey="value";this.defaultIntensity=50;B_HLOutputBase.call(this,a,b,"color_3","fairyLights",8);this.blockIcon=new BlockIcon(this,VectorPaths.bsStars,Colors.white,"fairyLights",27);this.blockIcon.isEndOfLine=!0;this.addPart(this.blockIcon);this.valueBN=new BlockButton(this);this.valueBN.addSlider("percent",this.defaultIntensity,[0,10,20,30,40,50,60,70,80,90,100]);this.addPart(this.valueBN)}B_HLFairyLights.prototype=Object.create(B_HLOutputBase.prototype);
B_HLFairyLights.prototype.constructor=B_HLFairyLights;B_HLFairyLights.prototype.primName=function(){return"[h:fl]"};B_HLFairyLights.prototype.argList=function(){return[HL_Utils.portNames[this.port],this.value]};function B_HLAlphabet(a,b){this.useAlphabet=!0;B_FBLedArrayL2.call(this,a,b)}B_HLAlphabet.prototype=Object.create(B_FBLedArrayL2.prototype);B_HLAlphabet.prototype.constructor=B_HLAlphabet;
function B_HLWaitUntil(a,b,c){CommandBlock.call(this,a,b,"sensor_3");(this.usePort=c)?(HL_Utils.addHLButton(this,this.portType),a=new BlockIcon(this,VectorPaths.faRuler,Colors.white,"ruler",35),a.isEndOfLine=!0,this.addPart(a)):(a=new BlockIcon(this,VectorPaths.faClockSolid,Colors.white,"clock",35),a.isEndOfLine=!0,this.addPart(a),this.sensorPaths=[VectorPaths.clap,VectorPaths.mjSun,VectorPaths.share],this.sensorTypes=["clap","light","shake"],this.sensorSelection=this.sensorPaths[1],this.sensorBN=
new BlockButton(this),this.sensorBN.addSlider("sensor",this.sensorSelection,this.sensorPaths),this.addPart(this.sensorBN))}B_HLWaitUntil.prototype=Object.create(CommandBlock.prototype);B_HLWaitUntil.prototype.constructor=B_HLWaitUntil;B_HLWaitUntil.prototype.primName=function(){return"waitUntil"};
B_HLWaitUntil.prototype.argList=function(){let a="distance",b=[];this.usePort?b=[HL_Utils.portNames[this.port]]:a=this.sensorTypes[this.sensorPaths.indexOf(this.sensorSelection)];let c=null,d=0;switch(a){case "distance":c="[h:ds]";d=20;break;case "light":c="[display:lightLevel]",d=150}return null==c?[]:[new BlockArg("<",[new BlockArg(c,b),d])]};
B_HLWaitUntil.prototype.startAction=function(){if(null==HL_Utils.setupAction(this))return new ExecutionStatusError;this.blankRequestStatus={};this.blankRequestStatus.finished=!1;this.blankRequestStatus.error=!1;this.blankRequestStatus.result=null;this.blankRequestStatus.requestSent=!1;this.runMem.requestStatus=Object.assign({},this.blankRequestStatus);return new ExecutionStatusRunning};
B_HLWaitUntil.prototype.updateAction=function(){var a=this.runMem.requestStatus;if(a.requestSent){if(a.finished){if(!a.error&&(a=(new StringData(a.result)).asNum().getValue(),console.log(a),!this.useLessThan&&a>this.threshold||this.useLessThan&&a<this.threshold))return new ExecutionStatusDone;this.runMem.requestStatus=Object.assign({},this.blankRequestStatus)}}else{let b=DeviceHatchling.getManager().getDevice(0);if(null==b)return new ExecutionStatusError;let c="distance";this.usePort||(c=this.sensorTypes[this.sensorPaths.indexOf(this.sensorSelection)]);
let d=null;this.useLessThan=!1;switch(c){case "clap":if(!b.hasV2Microbit)return new ExecutionStatusError;this.threshold=50;c="V2sound";break;case "light":this.threshold=5;d="left";break;case "distance":this.useLessThan=!0,d=this.port}console.log("checking "+c+" at port "+d);b.readSensor(a,c,d);a.requestSent=!0}return new ExecutionStatusRunning};B_HLWaitUntil.prototype.updateValues=function(){null!=this.sensorBN&&(this.sensorSelection=this.sensorBN.values[0])};
function B_HLWaitUntilPort(a,b){B_HLWaitUntil.call(this,a,b,!0);this.thresholdBN=new BlockButton(this);this.thresholdBN.addSlider(this.sensorType,this.threshold,this.blockOptions);this.addPart(this.thresholdBN)}B_HLWaitUntilPort.prototype=Object.create(B_HLWaitUntil.prototype);B_HLWaitUntilPort.prototype.constructor=B_HLWaitUntilPort;B_HLWaitUntilPort.prototype.updateValues=function(){HL_Utils.updatePort(this);null!=this.thresholdBN&&(this.threshold=this.thresholdBN.values[0])};
B_HLWaitUntilPort.prototype.checkActive=function(){return HL_Utils.checkActive(this)};function B_HLWaitUntilDistance(a,b){this.portType=14;this.sensorType="distance";this.threshold=10;this.blockOptions=[5,10,20,30,40,50,60,70,80,90,100];B_HLWaitUntilPort.call(this,a,b)}B_HLWaitUntilDistance.prototype=Object.create(B_HLWaitUntilPort.prototype);B_HLWaitUntilDistance.prototype.constructor=B_HLWaitUntilDistance;function B_HLWaitUntilDial(a,b){}B_HLWaitUntilDial.prototype=Object.create(B_HLWaitUntilPort.prototype);
B_HLWaitUntilDial.prototype.constructor=B_HLWaitUntilDial;function B_HLWaitUntilButton(a,b){}B_HLWaitUntilButton.prototype=Object.create(B_HLWaitUntilPort.prototype);B_HLWaitUntilButton.prototype.constructor=B_HLWaitUntilButton;function B_HLPortBlock(a,b,c){this.port=c;CommandBlock.call(this,a,b,"portblocks");this.updateBlockType(0);this.updateActive()}B_HLPortBlock.prototype=Object.create(CommandBlock.prototype);B_HLPortBlock.prototype.constructor=B_HLPortBlock;
B_HLPortBlock.prototype.updateConnectionStatus=function(){this.updateActive()};B_HLPortBlock.prototype.checkActive=function(){var a=DeviceHatchling.getManager().getDevice(0);return null!=a?(a=a.portStates[this.port],null!=this.stack&&this.stack.isDisplayStack?(this.portType!=a&&this.updateBlockType(a),0!=a):0!=a&&this.portType==a):!1};
B_HLPortBlock.prototype.updateBlockType=function(a){this.portType=a;this.sensorType=this.outputType=null;this.removeParts();if(0==this.portType)this.isStatic=!0,this.icon=new LabelText(this,HL_Utils.portNames[this.port],HL_Utils.portColors[this.port]);else{this.isStatic=!1;let b;switch(this.portType){case 1:a="bsArrowClockwise";b=30;break;case 3:a="bsSpeedometer2";b=27;break;case 8:a="bsStars";b=27;break;case 9:a="faLightbulb";b=27;break;case 10:a="faLightbulb";b=25;break;case 14:a="faRuler";b=20;
break;default:console.error("PortBlock unsupported port type "+this.portType);return}this.icon=new BlockIcon(this,VectorPaths[a],HL_Utils.portColors[this.port],a,b)}this.icon.isEndOfLine=!0;this.addPart(this.icon);if(0!=this.portType){this.button=new BlockButton(this);switch(this.portType){case 1:this.outputType="rotationServo";this.value=255;this.valueKey="value";this.button.addSlider("percent",0,[-100,-80,-60,-40,-20,0,20,40,60,80,100]);break;case 3:this.outputType="positionServo";this.value=90;
this.valueKey="angle";this.button.addSlider("angle_right",90,[0,30,60,90,120,150,180,210,240,270]);break;case 8:this.outputType="fairyLights";this.value="";this.valueKey="value";this.button.addSlider("percent",50,[0,10,20,30,40,50,60,70,80,90,100]);break;case 9:this.outputType="singleNeopix";this.value="";this.valueKey="color";this.button.addSlider("color_red",100);this.button.addSlider("color_green",100);this.button.addSlider("color_blue",100);break;case 10:this.outputType="neopixStrip";this.value=
"";this.valueKey="colors";this.button.addSlider("color_red",100);this.button.addSlider("color_green",100);this.button.addSlider("color_blue",100);break;case 14:this.sensorType="distance",this.value=10,this.useLessThan=!0,this.button.addSlider("distance",10,[5,10,20,30,40,50,60,70,80,90,100])}this.addPart(this.button)}null!=this.stack&&this.stack.updateDim()};
B_HLPortBlock.prototype.updateValues=function(){let a;switch(this.portType){case 1:a=this.button.values[0];0==a?this.value=89:100<a?this.value=174:-100>a?this.value=2:0<a?this.value=Math.round(75*a/100+98):0>a&&(this.value=Math.round(78+75*a/100));break;case 3:this.value=Math.round(this.button.values[0]/1.5)+2;break;case 8:a=this.button.values[0];this.value=100<a?254:0>a?0:Math.round(254*a/100);break;case 9:3==this.button.widgets.length&&(this.value=Math.round(2.55*this.button.values[0])+":"+Math.round(2.55*
this.button.values[1])+":"+Math.round(2.55*this.button.values[2]));break;case 10:break;case 14:this.value=this.button.values[0];break;default:console.error("cannot update values for unsupported port type "+this.portType)}};
B_HLPortBlock.prototype.startAction=function(){if(0==this.portType)return new ExecutionStatusDone;let a=HL_Utils.setupAction(this);if(null==a||!this.active)return new ExecutionStatusError;14!=this.portType&&a.setOutput(this.runMem.requestStatus,this.outputType,this.port,this.value,this.valueKey);return new ExecutionStatusRunning};
B_HLPortBlock.prototype.updateAction=function(){if(14==this.portType){var a=DeviceHatchling.getManager().getDevice(0);if(null==a)return new ExecutionStatusError;a=a.getSensorValue(this.port);console.log(a);return!this.useLessThan&&a>this.value||this.useLessThan&&a<this.value?new ExecutionStatusDone:new ExecutionStatusRunning}return this.runMem.requestStatus.finished?this.runMem.requestStatus.error?new ExecutionStatusError:new ExecutionStatusDone:new ExecutionStatusRunning};
function B_HLPortA(a,b){B_HLPortBlock.call(this,a,b,0)}B_HLPortA.prototype=Object.create(B_HLPortBlock.prototype);B_HLPortA.prototype.constructor=B_HLPortA;function B_HLPortB(a,b){B_HLPortBlock.call(this,a,b,1)}B_HLPortB.prototype=Object.create(B_HLPortBlock.prototype);B_HLPortB.prototype.constructor=B_HLPortB;function B_HLPortC(a,b){B_HLPortBlock.call(this,a,b,2)}B_HLPortC.prototype=Object.create(B_HLPortBlock.prototype);B_HLPortC.prototype.constructor=B_HLPortC;
function B_HLPortD(a,b){B_HLPortBlock.call(this,a,b,3)}B_HLPortD.prototype=Object.create(B_HLPortBlock.prototype);B_HLPortD.prototype.constructor=B_HLPortD;function B_HLPortE(a,b){B_HLPortBlock.call(this,a,b,4)}B_HLPortE.prototype=Object.create(B_HLPortBlock.prototype);B_HLPortE.prototype.constructor=B_HLPortE;function B_HLPortF(a,b){B_HLPortBlock.call(this,a,b,5)}B_HLPortF.prototype=Object.create(B_HLPortBlock.prototype);B_HLPortF.prototype.constructor=B_HLPortF;
function B_HLEmptyPort(a,b,c){this.port=c;this.portType=0;ReporterBlock.call(this,a,b);this.isStatic=!0;a="( "+Language.getStr("port")+" "+HL_Utils.portNames[this.port]+" "+Language.getStr("is_empty")+" )";a=new LabelText(this,a,Colors.lightGray);this.addPart(a)}B_HLEmptyPort.prototype=Object.create(ReporterBlock.prototype);B_HLEmptyPort.prototype.constructor=B_HLEmptyPort;B_HLEmptyPort.prototype.checkActive=function(){return HL_Utils.birdBloxCheckActive(this)};
function B_HLEmptyPortA(a,b){B_HLEmptyPort.call(this,a,b,0)}B_HLEmptyPortA.prototype=Object.create(B_HLEmptyPort.prototype);B_HLEmptyPortA.prototype.constructor=B_HLEmptyPortA;function B_HLEmptyPortB(a,b){B_HLEmptyPort.call(this,a,b,1)}B_HLEmptyPortB.prototype=Object.create(B_HLEmptyPort.prototype);B_HLEmptyPortB.prototype.constructor=B_HLEmptyPortB;function B_HLEmptyPortC(a,b){B_HLEmptyPort.call(this,a,b,2)}B_HLEmptyPortC.prototype=Object.create(B_HLEmptyPort.prototype);
B_HLEmptyPortC.prototype.constructor=B_HLEmptyPortC;function B_HLEmptyPortD(a,b){B_HLEmptyPort.call(this,a,b,3)}B_HLEmptyPortD.prototype=Object.create(B_HLEmptyPort.prototype);B_HLEmptyPortD.prototype.constructor=B_HLEmptyPortD;function B_HLEmptyPortE(a,b){B_HLEmptyPort.call(this,a,b,4)}B_HLEmptyPortE.prototype=Object.create(B_HLEmptyPort.prototype);B_HLEmptyPortE.prototype.constructor=B_HLEmptyPortE;function B_HLEmptyPortF(a,b){B_HLEmptyPort.call(this,a,b,5)}B_HLEmptyPortF.prototype=Object.create(B_HLEmptyPort.prototype);
B_HLEmptyPortF.prototype.constructor=B_HLEmptyPortF;function B_HLBirdBloxOutput(a,b,c,d,e,f,g){this.outputType=c;this.portType=d;this.port=e;this.minVal=f;this.maxVal=g;this.positive=0<=this.minVal;null==this.port&&console.error("Port must be specified");CommandBlock.call(this,a,b,DeviceHatchling.getDeviceTypeId());this.addPart(new DeviceDropSlot(this,"DDS_1",DeviceHatchling));this.addPart(new LabelText(this,Language.getStr("port")+" "+HL_Utils.portNames[this.port]))}
B_HLBirdBloxOutput.prototype=Object.create(CommandBlock.prototype);B_HLBirdBloxOutput.prototype.constructor=B_HLBirdBloxOutput;
B_HLBirdBloxOutput.prototype.startAction=function(){let a=HL_Utils.setupAction(this);if(null==a||!this.active||-1==this.port||this.port>=HL_Utils.portColors.length)return new ExecutionStatusError;var b=0;10!=this.portType&&(b=this.slots[1].getData().getValueInR(this.minVal,this.maxVal,this.positive,!0));switch(this.portType){case 1:this.value=0==b?89:0<b?Math.round(75*b/100+98):Math.round(78+75*b/100);break;case 3:this.value=Math.round(b/1.5)+2;break;case 8:this.value=Math.round(254*b/100);break;
case 9:var c=this.slots[2].getData().getValueInR(this.minVal,this.maxVal,this.positive,!0),d=this.slots[3].getData().getValueInR(this.minVal,this.maxVal,this.positive,!0);this.value=Math.round(2.55*b)+":"+Math.round(2.55*c)+":"+Math.round(2.55*d);break;case 10:b=this.slots[1].getData().getValue();c=this.slots[2].getData().getValueInR(this.minVal,this.maxVal,this.positive,!0);d=this.slots[3].getData().getValueInR(this.minVal,this.maxVal,this.positive,!0);let e=this.slots[4].getData().getValueInR(this.minVal,
this.maxVal,this.positive,!0);this.value=Math.round(2.55*c)+","+Math.round(2.55*d)+","+Math.round(2.55*e)+","+b;break;default:this.value=b}a.setOutput(this.runMem.requestStatus,this.outputType,this.port,this.value,this.valueKey);return new ExecutionStatusRunning};B_HLBirdBloxOutput.prototype.updateAction=function(){return this.runMem.requestStatus.finished?this.runMem.requestStatus.error?new ExecutionStatusError:new ExecutionStatusDone:new ExecutionStatusRunning};
B_HLBirdBloxOutput.prototype.checkActive=function(){return HL_Utils.birdBloxCheckActive(this)};B_HLBirdBloxOutput.prototype.createXml=function(a){return HL_Utils.createXml(this,a)};
function B_HLBBRotationServo(a,b,c){this.value=255;this.defaultSpeed=50;this.valueKey="value";B_HLBirdBloxOutput.call(this,a,b,"rotationServo",1,c,-100,100);a=new NumSlot(this,"NumS_out",0,!1,!0);a.addLimits(this.minVal,this.maxVal,Language.getStr("Speed"));this.addPart(a);this.parseTranslation(Language.getStr("block_Rotation_Servo"))}B_HLBBRotationServo.prototype=Object.create(B_HLBirdBloxOutput.prototype);B_HLBBRotationServo.prototype.constructor=B_HLBBRotationServo;
B_HLBBRotationServo.importXml=HL_Utils.importXml;function B_HLBBPositionServo(a,b,c){this.value=90;this.valueKey="angle";B_HLBirdBloxOutput.call(this,a,b,"positionServo",3,c,0,270);a=new NumSlot(this,"NumS_out",90,!0,!0);a.addLimits(this.minVal,this.maxVal,Language.getStr("Angle"));this.addPart(a);this.parseTranslation(Language.getStr("block_Position_Servo"))}B_HLBBPositionServo.prototype=Object.create(B_HLBirdBloxOutput.prototype);B_HLBBPositionServo.prototype.constructor=B_HLBBPositionServo;
B_HLBBPositionServo.importXml=HL_Utils.importXml;function B_HLBBFairyLights(a,b,c){this.value="";this.valueKey="value";this.defaultIntensity=50;B_HLBirdBloxOutput.call(this,a,b,"fairyLights",8,c,0,100);a=new NumSlot(this,"NumS_out",0,!0,!0);a.addLimits(this.minVal,this.maxVal,Language.getStr("Intensity"));this.addPart(a);this.parseTranslation(Language.getStr("block_Fairy_Lights"))}B_HLBBFairyLights.prototype=Object.create(B_HLBirdBloxOutput.prototype);B_HLBBFairyLights.prototype.constructor=B_HLBBFairyLights;
B_HLBBFairyLights.importXml=HL_Utils.importXml;
function B_HLBBSingleNeopix(a,b,c){this.value="";this.valueKey="color";this.blue=this.green=this.red=100;B_HLBirdBloxOutput.call(this,a,b,"singleNeopix",9,c,0,100);a=new NumSlot(this,"NumS_r",0,!0,!0);a.addLimits(this.minVal,this.maxVal,Language.getStr("Intensity"));this.addPart(a);a=new NumSlot(this,"NumS_g",0,!0,!0);a.addLimits(this.minVal,this.maxVal,Language.getStr("Intensity"));this.addPart(a);a=new NumSlot(this,"NumS_b",0,!0,!0);a.addLimits(this.minVal,this.maxVal,Language.getStr("Intensity"));
this.addPart(a);this.parseTranslation(Language.getStr("block_Single_Neopixel"))}B_HLBBSingleNeopix.prototype=Object.create(B_HLBirdBloxOutput.prototype);B_HLBBSingleNeopix.prototype.constructor=B_HLBBSingleNeopix;B_HLBBSingleNeopix.importXml=HL_Utils.importXml;
function B_HLBBNeopixStrip(a,b,c){this.value="";this.valueKey="colors";this.blue=this.green=this.red=100;B_HLBirdBloxOutput.call(this,a,b,"neopixStrip",10,c);a=new DropSlot(this,"SDS_1",null,null,new SelectionData(Language.getStr("all"),"all"));a.addOption(new SelectionData("1","1"));a.addOption(new SelectionData("2","2"));a.addOption(new SelectionData("3","3"));a.addOption(new SelectionData("4","4"));a.addOption(new SelectionData(Language.getStr("all"),"all"));this.addPart(a);a=new NumSlot(this,
"NumS_r",0,!0,!0);a.addLimits(0,100,Language.getStr("Intensity"));this.addPart(a);a=new NumSlot(this,"NumS_g",0,!0,!0);a.addLimits(0,100,Language.getStr("Intensity"));this.addPart(a);a=new NumSlot(this,"NumS_b",0,!0,!0);a.addLimits(0,100,Language.getStr("Intensity"));this.addPart(a);this.parseTranslation(Language.getStr("block_Neopixel_Strip"))}B_HLBBNeopixStrip.prototype=Object.create(B_HLBirdBloxOutput.prototype);B_HLBBNeopixStrip.prototype.constructor=B_HLBBNeopixStrip;
B_HLBBNeopixStrip.importXml=HL_Utils.importXml;function B_HLBirdBloxSensor(a,b,c,d){this.portType=c;this.port=d;null==this.port&&console.error("Port must be specified");ReporterBlock.call(this,a,b,DeviceHatchling.getDeviceTypeId());this.addPart(new DeviceDropSlot(this,"DDS_1",DeviceHatchling));this.addPart(new LabelText(this,Language.getStr("port")+" "+HL_Utils.portNames[this.port]))}B_HLBirdBloxSensor.prototype=Object.create(ReporterBlock.prototype);B_HLBirdBloxSensor.prototype.constructor=B_HLBirdBloxSensor;
B_HLBirdBloxSensor.prototype.startAction=function(){var a=DeviceHatchling.getManager().getDevice(0);if(null==a)return new ExecutionStatusError;a=a.getSensorValue(this.port);console.log(a);return new ExecutionStatusResult(new NumData(a))};B_HLBirdBloxSensor.prototype.checkActive=function(){return HL_Utils.birdBloxCheckActive(this)};B_HLBirdBloxSensor.prototype.createXml=function(a){return HL_Utils.createXml(this,a)};
function B_HLBBDistance(a,b,c){B_HLBirdBloxSensor.call(this,a,b,14,c);this.addPart(new LabelText(this,Language.getStr("Distance")))}B_HLBBDistance.prototype=Object.create(B_HLBirdBloxSensor.prototype);B_HLBBDistance.prototype.constructor=B_HLBBDistance;B_HLBBDistance.importXml=HL_Utils.importXml;function B_HLLedArray(a,b){B_MicroBitLedArray.call(this,a,b,DeviceHatchling)}B_HLLedArray.prototype=Object.create(B_MicroBitLedArray.prototype);B_HLLedArray.prototype.constructor=B_HLLedArray;
function B_HLPrint(a,b){B_MicroBitPrint.call(this,a,b,DeviceHatchling)}B_HLPrint.prototype=Object.create(B_MicroBitPrint.prototype);B_HLPrint.prototype.constructor=B_HLPrint;function B_HLBuzzer(a,b){B_DeviceWithPortsBuzzer.call(this,a,b,DeviceHatchling)}B_HLBuzzer.prototype=Object.create(B_DeviceWithPortsBuzzer.prototype);B_HLBuzzer.prototype.constructor=B_HLBuzzer;function B_HLButton(a,b){B_MicroBitButton.call(this,a,b,DeviceHatchling)}B_HLButton.prototype=Object.create(B_MicroBitButton.prototype);
B_HLButton.prototype.constructor=B_HLButton;function B_HLOrientation(a,b){B_MicroBitOrientation.call(this,a,b,DeviceHatchling)}B_HLOrientation.prototype=Object.create(B_MicroBitOrientation.prototype);B_HLOrientation.prototype.constructor=B_HLOrientation;function B_HLMagnetometer(a,b){B_MicroBitMagnetometer.call(this,a,b,DeviceHatchling)}B_HLMagnetometer.prototype=Object.create(B_MicroBitMagnetometer.prototype);B_HLMagnetometer.prototype.constructor=B_HLMagnetometer;
function B_HLCompass(a,b){B_MicroBitCompass.call(this,a,b,DeviceHatchling)}B_HLCompass.prototype=Object.create(B_MicroBitCompass.prototype);B_HLCompass.prototype.constructor=B_HLCompass;function B_HLV2Sensor(a,b){B_MicroBitV2Sensor.call(this,a,b,DeviceHatchling)}B_HLV2Sensor.prototype=Object.create(B_MicroBitV2Sensor.prototype);B_HLV2Sensor.prototype.constructor=B_HLV2Sensor;
function MicroBlocksCompiler(){this.opcodes={};let a="\n\t\thalt 0\n\t\tnoop 1\n\t\tpushImmediate 2\t\t// true, false, and ints that fit in 24 bits\n\t\tpushBigImmediate 3\t// ints that do not fit in 24 bits\n\t\tpushLiteral 4\t\t// string or array constant from literals frame\n\t\tpushVar 5\n\t\tstoreVar 6\n\t\tincrementVar 7\n\t\tpushArgCount 8\n\t\tpushArg 9\n\t\tstoreArg 10\n\t\tincrementArg 11\n\t\tpushLocal 12\n\t\tstoreLocal 13\n\t\tincrementLocal 14\n\t\tpop 15\n\t\tjmp 16\n\t\tjmpTrue 17\n\t\tjmpFalse 18\n\t\tdecrementAndJmp 19\n\t\tcallFunction 20\n\t\treturnResult 21\n\t\twaitMicros 22\n\t\twaitMillis 23\n\t\tsendBroadcast 24\n\t\trecvBroadcast 25\n\t\tstopAll 26\n\t\tforLoop 27\n\t\tinitLocals 28\n\t\tgetArg 29\n\t\tgetLastBroadcast 30\n\t\tjmpOr 31\n\t\tjmpAnd 32\n\t\tminimum 33\n\t\tmaximum 34\n\t\t< 35\n\t\t<= 36\n\t\t== 37\n\t\t!= 38\n\t\t>= 39\n\t\t> 40\n\t\tnot 41\n\t\t+ 42\n\t\t- 43\n\t\t* 44\n\t\t/ 45\n\t\t% 46\n\t\tabsoluteValue 47\n\t\trandom 48\n\t\thexToInt 49\n\t\t& 50\n\t\t| 51\n\t\t^ 52\n\t\t~ 53\n\t\t<< 54\n\t\t>> 55\n\t\tlongMult 56\n\t\tisType 57\n\t\twaitUntil 58\n\t\tignoreArgs 59\n\t\tnewList 60\n\tRESERVED 61\n\t\tfillList 62\n\t\tat 63\n\t\tatPut 64\n\t\tsize 65\n\tRESERVED 66\n\tRESERVED 67\n\tRESERVED 68\n\tRESERVED 69\n\t\tmillisOp 70\n\t\tmicrosOp 71\n\t\ttimer 72\n\t\tresetTimer 73\n\t\tsayIt 74\n\t\tprintIt 75\n\t\tboardType 76\n\t\tcomment 77\n\tRESERVED 78\n\tRESERVED 79\n\t\tanalogPins 80\n\t\tdigitalPins 81\n\t\tanalogReadOp 82\n\t\tanalogWriteOp 83\n\t\tdigitalReadOp 84\n\t\tdigitalWriteOp 85\n\t\tdigitalSet 86\n\t\tdigitalClear 87\n\t\tbuttonA 88\n\t\tbuttonB 89\n\t\tsetUserLED 90\n\t\ti2cSet 91\n\t\ti2cGet 92\n\t\tspiSend 93\n\t\tspiRecv 94\n\tRESERVED 95\n\tRESERVED 96\n\tRESERVED 97\n\tRESERVED 98\n\tRESERVED 99\n\t\tmbDisplay 100\n\tRESERVED 101\n\tRESERVED 102\n\tRESERVED 103\n\tRESERVED 104\n\tRESERVED 105\n\tRESERVED 106\n\tRESERVED 107\n\tRESERVED 108\n\tRESERVED 109\n\tRESERVED 110\n\tRESERVED 111\n\tRESERVED 112\n\tRESERVED 113\n\tRESERVED 114\n\tRESERVED 115\n\tRESERVED 116\n\tRESERVED 117\n\tRESERVED 118\n\tRESERVED 119\n\tRESERVED 120\n\tRESERVED 121\n\tRESERVED 122\n\tRESERVED 123\n\t\tcallCustomCommand 124\n\t\tcallCustomReporter 125\n\t\tcallCommandPrimitive 126\n\t\tcallReporterPrimitive 127\n\t\tmetadata 240".split(/\r?\n/);for(let b=
0;b<a.length;b++){let c=a[b].trim().split(/\s+/);1<c.length&&"RESERVED"!=c[0]&&(this.opcodes[c[0]]=parseInt(c[1]))}this.opcodes.newArray=60;this.opcodes.fillArray=62;this.argNames={};this.localVars={};this.falseObj=0;this.trueObj=4;this.zeroObj=1;this.oneObj=3;this.stringClassID=4}
MicroBlocksCompiler.prototype.instructionsFor=function(a){let b=a.primName(),c=[["initLocals",0]];"whenStarted"==b?(c.push.apply(c,this.instructionsForCmdList(a.nextBlock)),c.push(["halt",0])):"whenCondition"==b?c.push.apply(c,this.instructionsForWhenCondition(a)):a instanceof CommandBlock?(c.push.apply(c,this.instructionsForCmdList(a)),c.push(["halt",0])):a instanceof ReporterBlock&&console.error("Still need to implement reporter blocks!");2==c.length&&["halt","stopAll"].includes(c[0])&&c.pop();
this.appendLiterals(c);this.appendDecompilerMetadata(a,c);return c};MicroBlocksCompiler.prototype.instructionsForWhenCondition=function(a){let b=this.instructionsForExpression(a.argList()[0]);a=this.instructionsForCmdList(a.nextBlock);let c=[];c=c.concat(this.instructionsForExpression(10));c.push(["waitMillis",1]);c=c.concat(b);c.push(["jmpFalse",0-(b.length+3)]);c=c.concat(a);c.push(["jmp",0-(c.length+1)]);return c};
MicroBlocksCompiler.prototype.instructionsForCmdList=function(a){let b=[];for(;null!=a;)b=b.concat(this.instructionsForCmd(a)),a=a.nextBlock;return b};
MicroBlocksCompiler.prototype.instructionsForCmd=function(a){let b=[],c=a.primName();a=a.argList();if("stopTask"==c)b.push(["halt",0]);else return"forever"==c?this.instructionsForForever(a):"repeat"==c?this.instructionsForRepeat(a):"waitUntil"==c?this.instructionsForWaitUntil(a):this.isFunctionCall(c)?this.instructionsForFunctionCall(c,a,!0):this.primitive(c,a,!0);return b};
MicroBlocksCompiler.prototype.instructionsForForever=function(a){a=this.instructionsForCmdList(a[0]);a.push(["jmp",0-(a.length+1)]);return a};MicroBlocksCompiler.prototype.instructionsForRepeat=function(a){let b=this.instructionsForExpression(a[0]);a=this.instructionsForCmdList(a[1]);b.push(["jmp",a.length]);b=b.concat(a);b.push(["decrementAndJmp",0-(a.length+1)]);return b};
MicroBlocksCompiler.prototype.instructionsForWaitUntil=function(a){a=this.instructionsForExpression(a[0]);a.push(["waitUntil",0-(a.length+1)]);return a};
MicroBlocksCompiler.prototype.instructionsForExpression=function(a){if(!0===a)return[["pushImmediate",this.trueObj]];if(!1===a)return[["pushImmediate",this.falseObj]];if(null==a)return[["pushImmediate",this.zeroObj]];if("number"==typeof a)return-4194304<=a&&4194303>=a?[["pushImmediate",(a<<1|1)&16777215]]:[["pushBigImmediate",0],a];if("string"==typeof a)return[["pushLiteral",a]];let b=a.primName();a=a.argList();return this.isFunctionCall(b)?this.instructionsForFunctionCall(b,a,!1):this.primitive(b,
a,!1)};
MicroBlocksCompiler.prototype.primitive=function(a,b,c){let d=[];if(null!=this.opcodes[a]){for(c=0;c<b.length;c++)d=d.concat(this.instructionsForExpression(b[c]));d.push([a,b.length])}else if(a.startsWith("[")&&a.endsWith("]")){let e=a.indexOf(":");if(-1!=e){let f=a.substring(1,e);a=a.substring(e+1,a.length-1);d.push(["pushLiteral",f]);d.push(["pushLiteral",a]);for(a=0;a<b.length;a++)d=d.concat(this.instructionsForExpression(b[a]));c?d.push(["callCommandPrimitive",b.length+2]):d.push(["callReporterPrimitive",b.length+
2])}}else if("blockList"==a)for(c=0;c<b.length;c++)a=b[c],d=d.concat(this.primitive(a.primName(),a.argList(),!0));else console.log("Skipping unknown op: "+a),c||d.push(["pushImmediate",zeroObj]);return d};MicroBlocksCompiler.prototype.isFunctionCall=function(a){return!1};MicroBlocksCompiler.prototype.instructionsForFunctionCall=function(a,b,c){return[]};
MicroBlocksCompiler.prototype.appendLiterals=function(a){let b=[],c={},d=a.length-1;for(let e=0;e<a.length;e++){let f=a[e];if(f instanceof Array&&"pushLiteral"==f[0]){let g=f[1],h=c[g];null==h&&(h=d,b.push(g),c[g]=h,d+=this.wordsForLiteral(g));f[1]=h-e;f.push(g)}}a.push.apply(a,b)};MicroBlocksCompiler.prototype.wordsForLiteral=function(a){if("string"==typeof a)return 1+Math.floor((a.length+4)/4);console.error("Illegal literal type:"+a)};
MicroBlocksCompiler.prototype.appendDecompilerMetadata=function(a,b){b.push(["metadata",0]);varNames=[];b.push(varNames.join("\t"))};MicroBlocksCompiler.prototype.addBytesForInstructionTo=function(a,b){let c=new Uint8Array(b.length+4);c.set(b,0);let d=this.opcodes[a[0]];null==d&&console.error("Unknown opcode: "+a[0]);c[b.length]=d;a=a[1];-16777216<=a&&16777215>=a||console.error("Argument does not fit in 24 bits: "+a);c[b.length+1]=a&255;c[b.length+2]=a>>8&255;c[b.length+3]=a>>16&255;return c};
MicroBlocksCompiler.prototype.addBytesForIntegerLiteralTo=function(a,b){let c=new Uint8Array(b.length+4);c.set(b,0);c[b.length]=(a<<1|1)&255;c[b.length+1]=a>>7&255;c[b.length+2]=a>>15&255;c[b.length+3]=a>>23&255;return c};
MicroBlocksCompiler.prototype.addBytesForStringLiteral=function(a,b){let c=a.length,d=Math.floor((c+4)/4)<<4|this.stringClassID,e=4-c%4,f=new Uint8Array(b.length+4+c+e);f.set(b,0);for(var g=0;4>g;g++)f[b.length+g]=d&255,d>>=8;for(g=0;g<c;g++)f[b.length+4+g]=a.charCodeAt(g)&255;for(g=0;g<e;g++)f[b.length+4+c+g]=0;return f};
function MicroBlocksRuntime(){this.chunkIDs={};this.chunkRunning=Array(256).fill(!1);this.readFromBoard=!1;this.port=null;this.recompileAll=!1;this.loggedData=[];this.loggedDataNext=1;this.loggedDataCount=0;this.scripter=new MicroBlocksScripter;this.lastPingRecvMSecs=0}MicroBlocksRuntime.init=function(){window.mbRuntime=new MicroBlocksRuntime};MicroBlocksRuntime.prototype.serialPortOpen=function(){return null!=this.port};MicroBlocksRuntime.prototype.bleDevice=function(){return DeviceHatchling.getManager().getDevice(0)};
MicroBlocksRuntime.prototype.noBleConnection=function(){return null==this.bleDevice()};MicroBlocksRuntime.prototype.recompileNeeded=function(){this.recompileAll=!0};MicroBlocksRuntime.prototype.chunkIDsIsEmpty=function(){for(var a in this.chunkIDs)if(Object.prototype.hasOwnProperty.call(this.chunkIDs,a))return!1;return!0};const delay=async function(a){return new Promise(b=>setTimeout(b,a))};
MicroBlocksRuntime.prototype.evalOnBoard=function(a,b){null==b&&(b=!1);b?(a=this.chunkBytesFor(a),console.log("Bytes for chunk "+id+":"),console.log(a),console.log("----------")):this.noBleConnection()?console.error("Cannot run block - no ble connection"):(this.scripter.step(),a.stack.isDisplayStack&&this.saveChunk(a),this.runChunk(this.lookupChunkID(a)))};
MicroBlocksRuntime.prototype.chunkTypeFor=function(a){let b=a.primName();if("whenStarted"==b)return 4;if("whenCondition"==b)return 5;if("whenBroadcastReceived"==b)return 6;if("whenButtonPressed"==b)return a=a.argList[0],"A"==a?7:"B"==a?8:9;if(a instanceof CommandBlock)return 1;if(a instanceof ReporterBlock)return 2;console.error("Unexpected argument to chunkTypeFor: "+a)};
MicroBlocksRuntime.prototype.chunkBytesFor=function(a){let b=new MicroBlocksCompiler;a=b.instructionsFor(a);let c=[];for(let d=0;d<a.length;d++){let e=a[d];e instanceof Array?c=b.addBytesForInstructionTo(e,c):"number"===typeof e?c=b.addBytesForIntegerLiteralTo(e,c):"string"===typeof e?c=b.addBytesForStringLiteral(e,c):console.error("Instruction must be an Array or String: "+e)}return c};
MicroBlocksRuntime.prototype.showInstructions=function(a){var b=(new MicroBlocksCompiler).instructionsFor(a.stack.firstBlock);a=[];var c=!0;for(let e=0;e<b.length;e++){var d=b[e];if(d instanceof Array)if("metadata"==d[0])0<b[b.length-1].length&&a.push("--------");else if("pushLiteral"==d[0])this.addWithLineNum(a,d[0]+" "+d[1]+' ("'+d[2]+'")');else if("pushImmediate"==d[0])d=d[1],1==(d&1)?(d>>=1,4194304<=d&&(d-=8388608)):0==d?d=!1:4==d&&(d=!0),this.addWithLineNum(a,"pushImmediate "+d);else if("pushBigImmediate"==
d[0])this.addWithLineNum(a,"pushBigImmediate");else if("callFunction"==d[0])d=d[1],this.addWithLineNum(a,"callFunction "+(d>>8&255)+" "+(d&255));else{let f="";for(let g=0;g<d.length;g++)f=f+d[g]+" ";this.addWithLineNum(a,f,d)}else c&&(a.push("--------"),c=!1),a.push(d.toString())}console.log("Instructions: ");b="";for(c=0;c<a.length;c++)b+=a[c]+"\n";console.log(b)};
MicroBlocksRuntime.prototype.addWithLineNum=function(a,b,c){let d=a.length+1,e="";null!=c&&"pushLiteral jmp jmpTrue jmpFalse decrementAndJmp callFunction forLoop".split(" ").includes(c[0])&&(c=parseInt(c[c.length-1]),e=" (line "+(d+1+c)+")");a.push(""+d+" "+b+e)};MicroBlocksRuntime.prototype.showCompiledBytes=function(a){a=this.chunkBytesFor(a.stack.firstBlock);let b;b="["+a.length+" bytes]\n";for(let c=0;c<a.length;c++)b+=a[c].toString(),b=0==(c+1)%4?b+"\n":b+" ";console.log("Compiled Bytes:");console.log(b)};
MicroBlocksRuntime.prototype.receivedChunk=function(a,b,c){this.lastRcvMSecs=Date.now();null==c||0==c.length?console.error("truncated chunk! "+a+" "+b):null!=this.decompiler&&this.decompiler.addChunk(a,b,c)};MicroBlocksRuntime.prototype.receivedVarName=function(a,b,c){this.lastRcvMSecs=Date.now();null!=this.decompiler&&this.decompiler.addVar(a,b)};MicroBlocksRuntime.prototype.syncScripts=async function(){this.noBleConnection()||await this.saveAllChunks()};
MicroBlocksRuntime.prototype.lookupChunkID=function(a){a=this.chunkIDs[a.stack.mbId];return null==a?null:a[0]};MicroBlocksRuntime.prototype.removeObsoleteChunks=function(){let a=Object.keys(this.chunkIDs),b=TabManager.activeTab.stackList;for(let c=0;c<a.length;c++){let d=a[c],e=!1;for(let f=0;f<b.length;f++)b[f].mbId==d&&(e=!0);e||this.deleteChunkFor(d)}};
MicroBlocksRuntime.prototype.unusedChunkID=function(){let a=[];var b=Object.values(this.chunkIDs);for(let c=0;c<b.length;c++)a.push(b[c][0]);for(b=0;254>b;b++)if(!a.includes(b))return b;console.error("Too many code chunks (functions and scripts). Max is 256).")};MicroBlocksRuntime.prototype.ensureChunkIdFor=function(a){let b=a.stack.mbId,c=this.chunkIDs[b];null==c&&(c=[this.unusedChunkID(),null,this.chunkTypeFor(a),"",!1],this.chunkIDs[b]=c);return c[0]};
MicroBlocksRuntime.prototype.deleteChunkFor=function(a){let b=this.chunkIDs[a];console.log("Deleting chunkID entry ["+b+"]");null==b||this.noBleConnection||(this.sendMsgSync("deleteChunkMsg",b[0]),delete this.chunkIDs[a])};MicroBlocksRuntime.prototype.stopAndSyncScripts=async function(a){this.noBleConnection||1==a||(this.sendStopAll(),this.softReset());this.clearRunningHighlights();await this.suspendCodeFileUpdates();await this.saveAllChunks();this.resumeCodeFileUpdates()};
MicroBlocksRuntime.prototype.softReset=function(){this.sendMsg("systemResetMsg")};MicroBlocksRuntime.prototype.justConnected=async function(){console.log("Connected to"+this.bleDevice().name);this.vmVersion=this.connectionStartTime=null;await this.sendMsgSync("getVersionMsg");this.sendStopAll();this.clearRunningHighlights();this.clearBoardIfConnected();this.recompileAll=!0;await this.stopAndSyncScripts(!0);this.softReset()};
MicroBlocksRuntime.prototype.extractVersionNumber=function(a){a=a.slice(1).split(" ");if(null==a||0==a.length)return-1;let b=0;for(let d=0;d<a[0].length;d++){var c=a[0][d];if(!c.match(/^[0-9]/))break;c=parseInt(c);b=10*b+c}return b};MicroBlocksRuntime.prototype.extractBoardType=function(a){a=a.slice(1).split(" ");return null==a||0==a.length?-1:a.slice(1).join(" ")};
MicroBlocksRuntime.prototype.versionReceived=function(a){console.log("versionReceived: "+a);null!=a&&(null==this.vmVersion?(this.vmVersion=this.extractVersionNumber(a),this.boardType=this.extractBoardType(a),this.checkVmVersion(),console.log("Set vmVersion="+this.vmVersion+", boardType='"+this.boardType+"'")):console.log("MicroBlocks Virtual Machine "+a+" Firmware version"))};
MicroBlocksRuntime.prototype.checkVmVersion=function(){this.readFromBoard&&this.latestVmVersion>this.vmVersion&&console.error("Outdated VM version detected ("+this.vmVersion+" < "+this.latestVmVersion+"). Firmware must be updated manually.")};MicroBlocksRuntime.prototype.clearBoardIfConnected=function(a){this.noBleConnection()||(this.sendStopAll(),a&&this.softReset(),this.sendMsgSync("deleteAllCodeMsg"));this.clearRunningHighlights();this.chunkIDs={}};
MicroBlocksRuntime.prototype.sendStopAll=function(){this.sendMsg("stopAllMsg");this.clearRunningHighlights()};MicroBlocksRuntime.prototype.sendStartAll=function(){this.scripter.step();this.sendMsg("startAllMsg")};MicroBlocksRuntime.prototype.suspendCodeFileUpdates=async function(){await this.sendMsgSync("extendedMsg",2,[])};MicroBlocksRuntime.prototype.resumeCodeFileUpdates=function(){this.sendMsg("extendedMsg",3,[])};
MicroBlocksRuntime.prototype.saveAllChunks=async function(){if(!this.noBleConnection()){var a=Date.now(),b=!0;if(this.recompileAll){await this.suspendCodeFileUpdates();b=Object.values(this.chunkIDs);for(var c=0;c<b.length;c++){var d=b[c];d[3]="";d[4]=!0}b=!1}this.removeObsoleteChunks();c=0;d=TabManager.activeTab.stackList;for(let e=0;e<d.length;e++)await this.saveChunk(d[e].firstBlock,b)&&(c+=1);0<c&&console.log("Downloaded "+c+" scripts to board in "+(Date.now()-a)+" msecs.");this.recompileAll=!1;
await this.verifyCRCs();this.resumeCodeFileUpdates()}};
MicroBlocksRuntime.prototype.forceSaveChunk=function(a){let b=a;if("string"!=typeof b)b=a.stack.mbId;else{a=null;for(var c=0;c<TabManager.activeTab.stackList.length;c++){var d=TabManager.activeTab.stackList[c];d.mbId==b&&(a=d.firstBlock)}if(null==a)for(c=0;c<BlockPalette.selectedCat.displayStacks.length;c++)d=BlockPalette.selectedCat.displayStacks[c],d.mbId==b&&(a=d.firstBlock)}null!=this.chunkIDs[b]&&(this.chunkIDs[b][1]=null,this.chunkIDs[b][3]="");null!=a?this.saveChunk(a,!1):console.error("forceSaveChunk could not find the stack!")};
MicroBlocksRuntime.prototype.saveChunk=async function(a,b){b=new PrettyPrinter;let c;var d=a instanceof ReporterBlock?b.prettyPrint(a):b.prettyPrintList(a);b=this.ensureChunkIdFor(a);c=this.chunkIDs[a.stack.mbId];c[2]!=this.chunkTypeFor(a)&&(c[2]=this.chunkTypeFor(a),c[3]="");console.log("saveChunk ["+c+"] \nCurrent src:\n"+d);if(d==c[3])return!1;c[3]=d;var e=this.chunkTypeFor(a),f=this.chunkBytesFor(a);d=new Uint8Array(f.length+1);d.set([e],0);d.set(f,1);if(1E3<d.length)return console.error("Script is too large to send to board."),
!1;e=!0;a instanceof Block&&(e=a.primName(),e=!["whenButtonPressed","whenBroadcastReceived"].includes(e));f=this.computeCRC(f);if(e&&c[1]==f)return!1;a=a instanceof Block&&this.isRunning(a);this.sendMsg("chunkCodeMsg",b,d);c[1]=f;a&&(this.stopRunningChunk(b),await this.waitForResponse(),this.runChunk(b),await this.waitForResponse());return!0};MicroBlocksRuntime.prototype.computeCRC=function(a){a=this.crc(a)>>>0;let b=[];for(let c=0;4>c;c++)b[c]=a>>8*c&255;return b};
MicroBlocksRuntime.prototype.crcsEqual=function(a,b){if(null==a|null==b|4!=a.length|4!=b.length)return!1;for(let c=0;4>c;c++)if(a[c]!=b[c])return!1;return!0};
MicroBlocksRuntime.prototype.crc=function(a){const b=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,
2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,
2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,
2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,
3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,
1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];let c=-1;for(let d=0;d<a.length;d++)c=c>>>8^b[c&255^a[d]];return~c};
MicroBlocksRuntime.prototype.verifyCRCs=async function(){if(!this.noBleConnection()){this.crcDict={};await this.collectCRCsBulk();var a={},b={},c=Object.keys(this.chunkIDs);for(var d=0;d<c.length;d++){var e=c[d],f=this.chunkIDs[e][0];a[f]=e;b[f]=this.chunkIDs[e][1]}Object.keys(this.crcDict);Object.keys(a);c=Object.keys(this.crcDict);for(d=0;d<c.length;d++)e=c[d],f=a[e],null==f||this.crcsEqual(this.crcDict[e],b[e])?null==f?console.error("crcDict contains unknown chunk "+e):console.log("CRCs match for chunkID "+
e+"!"):(console.log("CRC mismatch; resaving chunk: "+e+"; ["+this.crcDict[e]+"] vs. ["+b[e]+"]"),this.forceSaveChunk(f));b=Object.keys(a);for(c=0;c<b.length;c++)d=b[c],null==this.crcDict[d]&&(console.log("Resaving missing chunk:"+d),this.forceSaveChunk(a[d]))}};
MicroBlocksRuntime.prototype.boardHasSameProject=async function(){if(this.noBleConnection())return!1;var a=TabManager.activeTab.stackList;for(var b=0;b<stack.length;b++)this.ensureChunkIdFor(a[b].firstBlock);this.crcDict={};await this.collectCRCsBulk();a={};b={};var c=Object.keys(this.chunkIDs);for(var d=0;d<c.length;d++){var e=c[d],f=this.chunkIDs[e],g=f[0];f=f[1];a[g]=e;b[g]=f}c=0;d=Object.keys(this.crcDict);for(e=0;e<d.length;e++)g=d[e],null!=a[g]&&this.crcDict[g]==b[g]&&(c+=1);b=0;a=Object.keys(a);
for(d=0;d<a.length;d++)this.crcDict.hasOwnProperty(a[d])||(b+=1);return c>=b};MicroBlocksRuntime.prototype.crcReceived=function(a,b){this.lastRcvMSecs=Date.now();null!=this.crcDict&&(this.crcDict[a]=b)};MicroBlocksRuntime.prototype.collectCRCsBulk=async function(){this.crcDict=null;this.sendMsgSync("getAllCRCsMsg");let a=Date.now();for(;null==this.crcDict&&2E3>Date.now()-a;)await delay(20);null==this.crcDict&&(this.crcDict={})};
MicroBlocksRuntime.prototype.allCRCsReceived=function(a){this.crcDict={};let b=a.length,c=0;for(;c<=b-4;){let d=a[c],e=a.slice(c+1,c+5);this.crcDict[d]=e;c+=5}};MicroBlocksRuntime.prototype.runChunk=function(a){this.sendMsg("startChunkMsg",a)};MicroBlocksRuntime.prototype.stopRunningChunk=function(a){this.sendMsg("stopChunkMsg",a)};
MicroBlocksRuntime.prototype.msgNameToID=function(a){if("number"==typeof a)return a;null==this.msgDict&&(this.msgDict={},this.msgDict.chunkCodeMsg=1,this.msgDict.deleteChunkMsg=2,this.msgDict.startChunkMsg=3,this.msgDict.stopChunkMsg=4,this.msgDict.startAllMsg=5,this.msgDict.stopAllMsg=6,this.msgDict.getVarMsg=7,this.msgDict.setVarMsg=8,this.msgDict.getVarNamesMsg=9,this.msgDict.clearVarsMsg=10,this.msgDict.getChunkCRCMsg=11,this.msgDict.getVersionMsg=12,this.msgDict.getAllCodeMsg=13,this.msgDict.deleteAllCodeMsg=
14,this.msgDict.systemResetMsg=15,this.msgDict.taskStartedMsg=16,this.msgDict.taskDoneMsg=17,this.msgDict.taskReturnedValueMsg=18,this.msgDict.taskErrorMsg=19,this.msgDict.outputValueMsg=20,this.msgDict.varValueMsg=21,this.msgDict.versionMsg=22,this.msgDict.chunkCRCMsg=23,this.msgDict.pingMsg=26,this.msgDict.broadcastMsg=27,this.msgDict.chunkAttributeMsg=28,this.msgDict.varNameMsg=29,this.msgDict.extendedMsg=30,this.msgDict.getAllCRCsMsg=38,this.msgDict.allCRCsMsg=39,this.msgDict.deleteFile=200,this.msgDict.listFiles=
201,this.msgDict.fileInfo=202,this.msgDict.startReadingFile=203,this.msgDict.startWritingFile=204,this.msgDict.fileChunk=205);let b=this.msgDict[a];null==b&&console.error("Unknown message: "+a);return b};
MicroBlocksRuntime.prototype.errorString=function(a){null==this.errorArray&&(this.errorArray=[],this.errorArray[0]="No error",this.errorArray[1]="Unknown error",this.errorArray[2]="Unknown chunk index",this.errorArray[10]="Insufficient memory to allocate object",this.errorArray[11]="Needs a list",this.errorArray[12]="Needs a boolean",this.errorArray[13]="Needs an integer",this.errorArray[14]="Needs a string",this.errorArray[15]="Those objects cannot be compared for equality",this.errorArray[16]="List size must be a non-negative integer",
this.errorArray[17]="List or string index must be an integer",this.errorArray[18]="List or string index out of range",this.errorArray[19]="A ByteArray can only store integer values between 0 and 255",this.errorArray[20]="Hexadecimal input must between between -1FFFFFFF and 1FFFFFFF",this.errorArray[21]="I2C device ID must be between 0 and 127",this.errorArray[22]="I2C register must be between 0 and 255",this.errorArray[23]="I2C value must be between 0 and 255",this.errorArray[24]="Attempt to access an argument outside of a function",
this.errorArray[25]="for-loop argument must be a positive integer or list",this.errorArray[26]="Insufficient stack space",this.errorArray[27]="Primitive not implemented in this virtual machine",this.errorArray[28]="Not enough arguments passed to primitive",this.errorArray[29]="The maximum wait time is 3600000 milliseconds (one hour)",this.errorArray[30]="This board does not support WiFi",this.errorArray[31]="Division (or modulo) by zero is not defined",this.errorArray[32]="Argument index out of range",
this.errorArray[33]="Needs an indexable type such as a string or list",this.errorArray[34]="All arguments to join must be the same type (e.g. lists)",this.errorArray[35]="I2C transfer failed",this.errorArray[36]="Needs a byte array",this.errorArray[37]="Serial port not open",this.errorArray[38]="Serial port write is limited to 128 bytes",this.errorArray[39]="Needs a list of integers",this.errorArray[40]="Needs a value between 0 and 255",this.errorArray[41]="Range increment must be a positive integer",
this.errorArray[42]="Needs an integer or a list of integers");return null==this.errorArray[a]?"No error defined for code "+a:"Error: "+this.errorArray[a]};
MicroBlocksRuntime.prototype.sendMsg=function(a,b,c){let d=this.bleDevice();if(null!=d){null==b&&(b=0);a=this.msgNameToID(a);if(null==c)b=[250,a,b];else{let e=c.length+1;b=[251,a,b,e&255,e>>8&255];b.push.apply(b,c);b.push(254)}c=new Uint8Array(b);console.log("sendMsg sending ["+c+"]");for(b=0;b<Math.ceil(c.length/240);b++)d.sendMicroBlocksData(c.subarray(240*b,240*(b+1)))}};
MicroBlocksRuntime.prototype.sendMsgSync=async function(a,b,c){this.sendMsg(a,b,c);return await this.waitForResponse()?!0:(console.log("Lost communication to the board in sendMsgSync"),!1)};
MicroBlocksRuntime.prototype.waitForResponse=async function(){this.sendMsg("pingMsg");let a=Date.now();for(;1E4>Date.now()-a&&!this.noBleConnection();){if(this.lastPingRecvMSecs>a)return console.log("waitForResponse done."),!0;console.log("waitForResponse start="+a+" lastPing="+this.lastPingRecvMSecs);this.sendMsg("pingMsg");await delay(20)}return!1};
MicroBlocksRuntime.prototype.handleMessage=function(a){console.log("handleMessage: ["+a+"]");this.lastPingRecvMSecs=Date.now();var b=a[1];let c=a[2];b==this.msgNameToID("taskStartedMsg")?this.updateRunning(c,!0):b==this.msgNameToID("taskDoneMsg")?this.updateRunning(c,!1):b==this.msgNameToID("taskReturnedValueMsg")?(this.showResult(c,this.returnedValue(a),!1,!0),this.updateRunning(c,!1)):b==this.msgNameToID("taskErrorMsg")?(this.showError(c,this.errorString(a[5])),this.updateRunning(c,!1)):b==this.msgNameToID("outputValueMsg")?
255==c?console.log(this.bleDevice().name+" Says: "+this.returnedValue(a)):this.showResult(c,this.returnedValue(a),!1,!0):b==this.msgNameToID("versionMsg")?this.versionReceived(this.returnedValue(a)):b==this.msgNameToID("chunkCRCMsg")?this.crcReceived(c,a.slice(5)):b==this.msgNameToID("allCRCsMsg")?this.allCRCsReceived(a.slice(5)):b==this.msgNameToID("pingMsg")?this.lastPingRecvMSecs=Date.now():b==this.msgNameToID("broadcastMsg")?(b=this.bleDevice(),null!=b&&b.receiveBroadcast(a.slice(5))):b==this.msgNameToID("chunkCodeMsg")?
this.receivedChunk(c,a[5],a.slice(6)):b==this.msgNameToID("chunkAttributeMsg")?console.log("chunkAttributeMsg: "+a.length+" bytes"):b==this.msgNameToID("varNameMsg")?this.receivedVarName(c,String.fromCharCode.apply(null,a.slice(5)),a.length-5):console.error("Unknown msg: "+a)};
MicroBlocksRuntime.prototype.updateRunning=function(a,b){null==this.chunkRunning&&(this.chunkRunning=[]);null==this.chunkStopping&&(this.chunkStopping={});b?(this.chunkRunning[a]=b,delete this.chunkStopping[a]):(this.chunkStopping[a]=2,this.chunkRunning[a]=b);this.updateHighlights()};MicroBlocksRuntime.prototype.isRunning=function(a){a=this.lookupChunkID(a);return null==this.chunkRunning||null==a?!1:this.chunkRunning[a]};
MicroBlocksRuntime.prototype.clearRunningHighlights=function(){this.chunkRunning=Array(256).fill(!1);this.updateHighlights()};MicroBlocksRuntime.prototype.updateHighlights=function(){TabManager.activeTab.passRecursively("updateGlowForMicroBlocks");BlockPalette.passRecursivelyDown("updateGlowForMicroBlocks")};MicroBlocksRuntime.prototype.showError=function(a,b){this.showResult(a,b,!0)};
MicroBlocksRuntime.prototype.showResult=function(a,b,c,d){console.error("Still need to implement showResult. Results for chunk "+a+": '"+b+"' (isError="+c+", isResult="+d+")")};
MicroBlocksRuntime.prototype.returnedValue=function(a){var b=a.length;if(7>b)return null;var c=a[5];if(1==c)return 10>b?null:(a[9]<<24)+(a[8]<<16)+(a[7]<<8)+a[6];if(2==c)return String.fromCharCode.apply(null,a.slice(6));if(3==c)return 0!=a[6];if(4==c){if(8>b)return null;c=a[7]<<8|a[6];if(0==c)return"[empty list]";a=this.readItems(a);var d=["["];for(b=0;b<a.length;b++)d.push(a[b].toString()),d.push(", ");1<d.length&&d.pop();c>a.length&&d.push(" ... and "+(c-a.length)+" more");d.push("]");return d.join("")}if(5==
c){if(9>b)return null;c=a[7]<<8|a[6];if(0==c)return"(empty byte array)";d=a[8];d=Math.min(d,b-9);b=["("];for(let e=0;e<d;e++)b.push(a[9+e].toString()),b.push(", ");1<b.length&&b.pop();c>d&&b.push(" ... and "+(c-d)+" more bytes");b.push(")");return b.join("")}console.error("Serial error, type: "+c);return null};
MicroBlocksRuntime.prototype.readItems=function(a){let b=[],c=a.length;if(10>c)return b;let d=a[8],e=9;for(let g=0;g<d&&!(c<e+2);g++){var f=a[e];if(1==f){if(c<e+5)break;b.push((a[e+4]<<24)+(a[e+3]<<16)+(a[e+2]<<8)+a[e+1]);e+=5}else if(2==f){f=a[e+1];if(c<e+f+2)break;b.push(String.fromCharCode.apply(null,a.slice(e+2,e+f+1)));e+=f+2}else if(3==f)b.push(0!=a[e+1]),e+=2;else if(4==f){if(c<e+4)break;f=(a[e+2]<<8)+a[e+1];if(0!=a[e+3]){console.log("skipping sublist with non-zero sent items");break}b.push("["+
f+" item list]");e+=4}else if(5==f){if(c<e+4)break;f=(a[e+2]<<8)+a[e+1];if(0!=a[e+3]){console.log("skipping bytearray with non-zero sent items inside a list");break}b.push("("+f+" bytes)");e+=4}else{console.error("unknown item type in value message: "+f);break}}return b};function MicroBlocksScripter(){this.saveNeeded=!0}function BlockArg(a,b){this.primName=function(){return a};this.argList=function(){return b}}
MicroBlocksScripter.prototype.step=async function(){this.saveNeeded&&(await mbRuntime.syncScripts(),this.saveNeeded=!1)};function PrettyPrinter(){this.offset=this.gen=null;this.useSemicolons=!1}PrettyPrinter.prototype.useSemicolons=function(){this.useSemicolons=!0};PrettyPrinter.prototype.prettyPrint=function(a,b){this.gen=b;this.offset=1;null==this.gen&&(this.gen=new PrettyPrinterGenerator([],0,!0,!0),1==this.useSemicolons&&this.gen.useSemicolons());this.printCmd(a);return this.gen.result.join("")};
PrettyPrinter.prototype.prettyPrintList=function(a,b){this.gen=b;this.offset=1;null==this.gen&&(this.gen=new PrettyPrinterGenerator([],0,!0,!0),1==this.useSemicolons&&this.gen.useSemicolons());for(b=!0;null!=a;)this.gen.tab(),b=this.printCmd(a,b),b=1==b,this.gen.crIfNeeded(),a=a.nextBlock;result=this.gen.result;0<result.length&&";"==result[result.length-1]&&result.pop();return result.join("")};
PrettyPrinter.prototype.infixOp=function(a){return"="==a||"+="==a||"+"==a||"-"==a||"*"==a||"/"==a||"%"==a||"<"==a||"<="==a||"=="==a||"!="==a||">="==a||">"==a||"==="==a||"&"==a||"|"==a||"^"==a||"<<"==a||">>"==a||">>>"==a||"->"==a};PrettyPrinter.prototype.allAlphaNumeric=function(a){for(let b=0;b<a.length;b++)if(!a[b].match(/^[a-zA-z0-9_]/i))return!1;return!0};
PrettyPrinter.prototype.op=function(a){return"string"==typeof a&&(this.infixOp(a)||a.match(/^[a-zA-Z]/i))&&(token=a.split(""),token.pop(),this.allAlphaNumeric(token))?a:"''"+a+"''"};
PrettyPrinter.prototype.printValue=function(a){a instanceof ReporterBlock||a instanceof BlockArg?(a.primName(),this.gen.openParen(),this.printCmd(a),this.gen.closeParen()):a instanceof CommandBlock?this.printCmdList(a):"string"==typeof a?this.gen.const(a):"number"==typeof a?this.gen.const(a.toString()):console.error("printValue unhandled type "+typeof a,a)};PrettyPrinter.prototype.printReporter=function(a){var b=a.primName();a=a.argList();this.printOp(b);for(b=0;b<a.length;b++)null!=a[b]&&this.printValue(a[b])};
PrettyPrinter.prototype.printOp=function(a){this.gen.functionName(this.op(a))};PrettyPrinter.prototype.printCmdList=function(a,b){this.gen.openBrace();1!=this.useSemicolons&&(this.gen.cr(),this.gen.addTab());let c=!0;for(;null!=a;)this.gen.tab(),c=this.printCmd(a,c),c=1==c,this.gen.crIfNeeded(),a=a.nextBlock;this.gen.decTab();this.gen.tab();this.gen.closeBrace();1!=b&&this.gen.crIfNeeded()};PrettyPrinter.prototype.printCmd=function(a,b){this.printReporter(a)};
function PrettyPrinterGenerator(a,b,c,d,e){this.result=a;this.tabLevel=b;this.hadCr=c;this.hadSpace=d;this.useSemicolons=e||!1}PrettyPrinterGenerator.prototype.useSemicolons=function(){this.useSemicolons=!0};PrettyPrinterGenerator.prototype.closeBrace=function(){";"==this.result[this.result.length-1]&&result.pop();this.nextPutAll("}")};PrettyPrinterGenerator.prototype.addTab=function(){this.tabLevel+=1};PrettyPrinterGenerator.prototype.closeParen=function(){this.nextPutAll(")")};
PrettyPrinterGenerator.prototype.const=function(a){this.nextPutAllWithSpace(a)};PrettyPrinterGenerator.prototype.crIfNeeded=function(){this.hadCr||this.cr()};PrettyPrinterGenerator.prototype.cr=function(){1==this.useSemicolons?this.nextPutAll(";"):this.nextPutAll("\n");this.hadCr=!0};PrettyPrinterGenerator.prototype.decTab=function(){--this.tabLevel};PrettyPrinterGenerator.prototype.functionName=function(a){"string"!=typeof a&&console.error("non string");this.nextPutAllWithSpace(a)};
PrettyPrinterGenerator.prototype.nextPutAll=function(a){this.result.push(a);0<a.length&&(a=a.slice(-1),this.hadSpace=[" ","(","{","\n"].includes(a),this.hadCr=[";","{","\n"].includes(a))};PrettyPrinterGenerator.prototype.nextPutAllWithSpace=function(a){this.hadSpace||this.nextPutAll(" ");this.nextPutAll(a)};PrettyPrinterGenerator.prototype.openBrace=function(){this.nextPutAllWithSpace("{")};PrettyPrinterGenerator.prototype.openParen=function(){this.nextPutAllWithSpace("(")};
PrettyPrinterGenerator.prototype.tab=function(){if(1!=this.useSemicolons)for(let a=0;a<this.tabLevel;a++)for(let b=0;2>b;b++)this.nextPutAll(" ")};
